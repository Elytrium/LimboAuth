<?xml version="1.0" encoding="UTF-8"?>
<theme name="Default" author_name="Invision Power Services, Inc" author_url="https://www.invisioncommunity.com">
 <template template_group="browse" template_name="calendarDay" template_data="$calendars, $date, $events, $tomorrow, $yesterday, $today, $thisCalendar, $jump" template_location="front" template_app="calendar"><![CDATA[
<div class='ipsBox'>
	<div class='ipsPager cCalendarNav ipsPadding ipsAreaBackground_light ipsBorder_bottom lg:ipsPos_sticky'>
		<div class='ipsPager_prev'>
			<a href="{{if $thisCalendar}}{url="app=calendar&module=calendar&controller=view&id={$thisCalendar->_id}&y={$yesterday->year}&m={$yesterday->mon}&d={$yesterday->mday}" seoTemplate="calendar_calday" seoTitle="$thisCalendar->title_seo"}{{else}}{url="app=calendar&module=calendar&controller=view&y={$yesterday->year}&m={$yesterday->mon}&d={$yesterday->mday}" seoTemplate="calendar_day"}{{endif}}" title='{lang="cal_month_day" sprintf="$yesterday->monthName, $yesterday->mday, $yesterday->year"}' rel='prev nofollow' data-action='changeView'>
				<span class='ipsPager_type ipsType_normal'>{lang="cal_month_day_noyear" sprintf="$yesterday->monthName, $yesterday->mday"}</span>
				<span class='ipsPager_title ipsType_light'>{$yesterday->year}</span>
			</a>
		</div>
		<div class='ipsPager_center cCalendarNav' data-role='calendarNav'>
			<h1 class='ipsType_pageTitle ipsType_center'>{lang="cal_month_day" sprintf="$date->monthName, $date->mday, $date->year"}</h1>
		</div>
		<div class='ipsPager_next'>
			<a href="{{if $thisCalendar}}{url="app=calendar&module=calendar&controller=view&id={$thisCalendar->_id}&y={$tomorrow->year}&m={$tomorrow->mon}&d={$tomorrow->mday}" seoTemplate="calendar_calday" seoTitle="$thisCalendar->title_seo"}{{else}}{url="app=calendar&module=calendar&controller=view&y={$tomorrow->year}&m={$tomorrow->mon}&d={$tomorrow->mday}" seoTemplate="calendar_day"}{{endif}}" title='{lang="cal_month_day" sprintf="$tomorrow->monthName, $tomorrow->mday, $tomorrow->year"}' rel='next nofollow' data-action='changeView'>
				<span class='ipsPager_type ipsType_normal'>{lang="cal_month_day_noyear" sprintf="$tomorrow->monthName, $tomorrow->mday"}</span>
				<span class='ipsPager_title ipsType_light'>{$tomorrow->year}</span>
			</a>
		</div>
	</div>

	<div class='ipsPadding sm:ipsPadding:half'>

		<div class='ipsBox ipsBox--child'>
			<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="events_happening_today"}</h2>
			{{if $events['count'] > 0}}
				<ol class='cCalendarDay ipsDataList'>
					{{if isset( $events['allDay'] ) && \count( $events['allDay'] )}}
						<li class='ipsDataItem cCalendarDay_allDay'>
							<div class='ipsDataItem_generic ipsDataItem_size5 cCalendarDay_hour cCalendarDay_allDay ipsAreaBackground_light ipsPad'>
								<h2 class='ipsType_reset'>{lang="day_view_all_day"}</h2>
							</div>
							<div class='ipsDataItem_main ipsPad'>
								<div class='cCalendarDay_eventList' data-ipsPatchwork data-ipsPatchwork-minColSize='300' data-ipsPatchwork-maxColSize='500'>
									<div data-role='patchworkList'>
										{{foreach $events['allDay'] as $event}}
											<div data-role='patchworkItem'>
												{template="eventBlock" app="calendar" group="view" params="$event, $date, true"}
											</div>
										{{endforeach}}
									</div>
								</div>
							</div>
						</li>
					{{endif}}

					{{foreach $events as $hour => $hourEvents}}
						{{if !empty( $hourEvents ) && $hour !== 'allDay' && $hour !== 'count'}}
							<li class='ipsDataItem'>
								<div class='ipsDataItem_generic ipsDataItem_size5 cCalendarDay_hour ipsAreaBackground_light ipsPad'>
									<h2 class='ipsType_reset'>
										{{if \IPS\calendar\Date::usesAmPm()}}
											{expression="\IPS\calendar\Date::getTwelveHour( $hour )"}<br><span>{expression="\IPS\calendar\Date::getAmPm( $hour )"}</span>
										{{else}}
											{$hour}<br><span>:00</span>
										{{endif}}
									</h2>
								</div>
								<div class='ipsDataItem_main ipsAreaBackground_light ipsPad'>
									<div class='cCalendarDay_eventList' data-ipsPatchwork data-ipsPatchwork-minColSize='300' data-ipsPatchwork-maxColSize='500'>
										<div data-role='patchworkList'>
											{{foreach $hourEvents as $idx => $event}}
												<div data-role='patchworkItem'>
													{template="eventBlock" app="calendar" group="view" params="$event, $date, true"}
												</div>
											{{endforeach}}
										</div>
									</div>
								</div>
							</li>
						{{endif}}
					{{endforeach}}
				</ol>
			{{else}}
				<div class='ipsPad ipsAreaBackground_light ipsSpacer_bottom'><span class='ipsType_light ipsType_large'>{lang="no_events_today"}</span></div>
			{{endif}}
		</div>
	</div>
</div>]]></template>
 <template template_group="browse" template_name="calendarHeader" template_data="$calendars, $thisCalendar, $jump, $downloadLinks" template_location="front" template_app="calendar"><![CDATA[
{{if $thisCalendar and $club = $thisCalendar->club()}}
	{{if settings.clubs and settings.clubs_header == 'full'}}
		{template="header" app="core" group="clubs" params="$club, $thisCalendar"}
	{{endif}}
{{endif}}

<div class="ipsPageHeader ipsResponsive_pull ipsBox ipsPadding ipsMargin_bottom" id='elCalendarsHeader'>
	<div class="ipsFlex ipsFlex-fw:wrap ipsFlex-ai:center ipsGap:2">
		<div class='ipsFlex-flex:11'>
			<span class="ipsType_pageTitle">
				{{if $thisCalendar and $club = $thisCalendar->club()}}
					{$thisCalendar->_title}
				{{else}}
					<a href='#elCalendars_menu' id='elCalendars' data-ipsMenu data-ipsMenu-appendTo="#elCalendarsHeader" class='ipsType_blendLinks'>{{if $thisCalendar}}{$thisCalendar->_title}{{else}}{lang="all_calendars"}{{endif}} &nbsp;<i class='fa fa-caret-down'></i></a>
				{{endif}}
			</span>
		</div>
		<div class='ipsFlex-flex:00'>
			<div class='ipsFlex ipsFlex-ai:center ipsGap:2'>
                {{if $thisCalendar and \IPS\Application::appIsEnabled('cloud')}}
                    {template="analyticsButton" app="cloud" group="analytics" params="$thisCalendar, $thisCalendar->id"}
                {{endif}}
				<a href='#elCalendarSettings_menu' id='elCalendarSettings' data-ipsMenu data-ipsMenu-alignCenter data-ipsMenu-appendTo="#elCalendarsHeader" class='ipsButton ipsButton_light ipsButton_verySmall'>{lang="subscribe_button"} <i class='fa fa-caret-down'></i></a>
				<a href='#elCalendarJump' data-ipsMenu data-ipsMenu-menuID='elCalendarJump' data-ipsMenu-closeOnClick='false' class='ipsButton ipsButton_light ipsButton_verySmall'>{lang="jump_to"} <i class='fa fa-caret-down'></i></a>
				{{if $thisCalendar}}
					<div class='ipsResponsive_hidePhone'>
						{template="follow" app="core" group="global" params="'calendar', 'calendar', $thisCalendar->id, \IPS\calendar\Event::containerFollowerCount( $thisCalendar )"}
					</div>
				{{endif}}
			</div>
		</div>
	</div>
</div>

{$jump->customTemplate( array( \IPS\Theme::i()->getTemplate( 'browse' ), 'dateJump' ) )|raw}

<ul class='ipsMenu ipsMenu_auto ipsHide' id='elCalendars_menu'>
	<li class='ipsMenu_item'><a href='{url="app=calendar&module=calendar&controller=view&view=month" seoTemplate="calendar"}'><span class='cCalendarIcon cEvents_style_blank'></span> {lang="all_calendars"}</a></li>
	{{foreach $calendars as $calendar}}
		{{if $club = $calendar->club()}}
			<li class='ipsMenu_item'><a href='{$calendar->url()}'><span class='cCalendarIcon cEvents_style_blank'></span> {lang="club_node" sprintf="$club->name, $calendar->_title"}</a></li>
		{{else}}
			<li class='ipsMenu_item'><a href='{$calendar->url()}'><span class='cCalendarIcon cEvents_style{$calendar->id}'></span> {$calendar->_title}</a></li>
		{{endif}}
	{{endforeach}}
</ul>
{template="subscribeMenu" app="calendar" group="global" params="$thisCalendar, $downloadLinks"}
]]></template>
 <template template_group="browse" template_name="calendarMonth" template_data="$calendars, $date, $events, $today, $thisCalendar, $jump, $startDates=array()" template_location="front" template_app="calendar"><![CDATA[<div class='ipsBox'>
	<div class='ipsPager cCalendarNav ipsPadding ipsAreaBackground_light ipsBorder_bottom lg:ipsPos_sticky'>
		<div class='ipsPager_prev'>
			<a href="{{if $thisCalendar}}{url="app=calendar&module=calendar&controller=view&view=month&id={$thisCalendar->_id}&y={$date->lastMonth('year')}&m={$date->lastMonth('mon')}" seoTemplate="calendar_calmonth" seoTitle="$thisCalendar->title_seo"}{{else}}{url="app=calendar&module=calendar&controller=view&y={$date->lastMonth('year')}&m={$date->lastMonth('mon')}" seoTemplate="calendar_month"}{{endif}}" title='{lang="cal_month_title" sprintf="$date->lastMonth('monthName'), $date->lastMonth('year')"}' rel='prev nofollow' data-action='changeView'>
				<span class='ipsPager_type ipsType_normal'>{$date->lastMonth('monthName')}</span>
				<span class='ipsPager_title ipsType_light'>{$date->lastMonth('year')}</span>
			</a>
		</div>
		<div class='ipsPager_center cCalendarNav' data-role='calendarNav'>
			<h1 class='ipsType_pageTitle ipsType_center'>{lang="cal_month_title" sprintf="$date->monthName, $date->year"}</h1>
		</div>
		<div class='ipsPager_next'>
			<a href="{{if $thisCalendar}}{url="app=calendar&module=calendar&controller=view&view=month&id={$thisCalendar->_id}&y={$date->nextMonth('year')}&m={$date->nextMonth('mon')}" seoTemplate="calendar_calmonth" seoTitle="$thisCalendar->title_seo"}{{else}}{url="app=calendar&module=calendar&controller=view&y={$date->nextMonth('year')}&m={$date->nextMonth('mon')}" seoTemplate="calendar_month"}{{endif}}" title='{lang="cal_month_title" sprintf="$date->nextMonth('monthName'), $date->nextMonth('year')"}' rel='next nofollow' data-action='changeView'>
				<span class='ipsPager_type ipsType_normal'>{$date->nextMonth('monthName')}</span>
				<span class='ipsPager_title ipsType_light'>{$date->nextMonth('year')}</span>
			</a>
		</div>
	</div>

	<div class='ipsPadding sm:ipsPadding:half'>
		<table class='cCalendar ipsBox' data-controller='calendar.front.browse.monthView'>
			<tr>
				{{foreach \IPS\calendar\Date::getDayNames() as $day }}
					<th class='ipsPad_half ipsAreaBackground_dark' data-short='{$day['abbreviated']}' data-veryShort='{$day['letter']}'><span>{$day['full']}</span></th>
				{{endforeach}}
			</tr>
			<tr>
				{{for $i=0; $i < $date->firstDayOfMonth('wday'); $i++ }}
					<td class='cCalendar_nonDate'>&nbsp;</td>
				{{endfor}}

				{{for $j=$i+$date->lastDayOfMonth('mday'), $k=1; $i < $j; $i++, $k++ }}
					{{$k = str_pad( $k, 2, '0', STR_PAD_LEFT );}}
					{{if $i%7 == 0}}
						</tr>
						<tr>
					{{endif}}
					<td class='cCalendar_date{{if $k == 1}} cCalendar_firstDay{{endif}}{{if $today->mysqlDatetime( FALSE ) == $date->year . '-' . $date->mon . '-' . $k }} cCalendar_today{{endif}}{{if isset( $events[ $date->year . '-' . $date->mon . '-' . $k ] )}} cCalendar_hasEvents{{endif}}'>
						<div>
							<a href='{{if $thisCalendar}}{url="app=calendar&module=calendar&controller=view&id={$thisCalendar->_id}&y={$date->year}&m={$date->mon}&d={$k}&view=day" seoTemplate="calendar_calday" seoTitle="$thisCalendar->title_seo"}{{else}}{url="app=calendar&module=calendar&controller=view&y={$date->year}&m={$date->mon}&d={$k}&view=day" seoTemplate="calendar_day"}{{endif}}' class='ipsType_blendLinks cCalendar_dayNumber'>{$k}</a>
							{{if ( $thisCalendar AND $thisCalendar->can('add') ) OR ( !$thisCalendar AND \IPS\calendar\Calendar::canOnAny('add') )}}
								<a href='{{if $thisCalendar}}{url="app=calendar&module=calendar&controller=submit&do=submit&id={$thisCalendar->_id}&y={$date->year}&m={$date->mon}&d={$k}&view=day" seoTemplate="calendar_submit"}{{else}}{url="app=calendar&module=calendar&controller=submit&y={$date->year}&m={$date->mon}&d={$k}&view=day" seoTemplate="calendar_submit"}{{endif}}' data-ipsTooltip title='{lang="add_event"}' class='ipsButton ipsButton_verySmall ipsButton_primary cCalendar_miniAddEvent'><i class='ipsType_small fa fa-plus'></i></a>
							{{endif}}
							{{if isset( $events[ $date->year . '-' . $date->mon . '-' . $k ] )}}
								<ul class='cEvents_wrapper'>
									{{if isset( $events[ $date->year . '-' . $date->mon . '-' . $k ]['ranged'] )}}
										<li class='cEvents_ranged'>
											<ul class='cEvents'>
												{{foreach $events[ $date->year . '-' . $date->mon . '-' . $k ]['ranged'] as $event }}
													<li class='cEvents_event cEvents_style{$event->calendar_id}{{if $event->nextOccurrence( \IPS\calendar\Date::getDate( $date->year, $date->mon, $k ), 'startDate' ) AND $event->nextOccurrence( \IPS\calendar\Date::getDate( $date->year, $date->mon, $k ), 'startDate' )->mysqlDatetime( FALSE ) == $date->year . '-' . $date->mon . '-' . $k }}{{$startDates[ $event->id ] = $date->year . '-' . $date->mon . '-' . $k;}} cEvents_first{{endif}}{{if $event->nextOccurrence( \IPS\calendar\Date::getDate( $date->year, $date->mon, $k ) ?: $event->nextOccurrence( \IPS\calendar\Date::getDate( $date->year, $date->mon, $k ), 'startDate' ), 'endDate' ) AND $event->nextOccurrence( \IPS\calendar\Date::getDate( $date->year, $date->mon, $k ) ?: $event->nextOccurrence( \IPS\calendar\Date::getDate( $date->year, $date->mon, $k ), 'startDate' ), 'endDate' )->mysqlDatetime( FALSE ) == $date->year . '-' . $date->mon . '-' . $k }} cEvents_last{{endif}}' data-eventID='{$event->id}'>
														<a href='{$event->url()}' data-ipsHover data-ipsHover-target='{$event->url('hovercard')->setQuerystring( 'sd', isset( $startDates[ $event->id ] ) ? $startDates[ $event->id ] : $date->year . '-' . $date->mon . '-' . $k )}' title='{$event->title}'>{{if !$event->all_day}}<span class='cEvents_time'>{$event->_start_date->localeTime( FALSE )}</span> {{endif}}{truncate="$event->title" length="15"}{{if $event->hidden() === 1}} <i class='fa fa-warning'></i>{{endif}}</a>
													</li>
												{{endforeach}}
											</ul>
										</li>
									{{endif}}
									{{if isset( $events[ $date->year . '-' . $date->mon . '-' . $k ]['single'] )}}
										<li class='cEvents_single'>
											<ul class='cEvents'>
												{{foreach $events[ $date->year . '-' . $date->mon . '-' . $k ]['single'] as $event }}
													<li class='cEvents_event cEvents_style{$event->calendar_id}' data-eventID='{$event->id}'>
														<a href='{$event->url()}' data-ipsHover data-ipsHover-target='{$event->url('hovercard')->setQuerystring( 'sd', $date->year . '-' . $date->mon . '-' . $k )}' title='{$event->title}'>{{if !$event->all_day}}<span class='cEvents_time'>{$event->_start_date->localeTime( FALSE )}</span> {{endif}}{truncate="$event->title" length="15"}{{if $event->hidden() === 1}} <i class='fa fa-warning'></i>{{endif}}</a>
													</li>
												{{endforeach}}
											</ul>
										</li>
									{{endif}}
								</ul>
							{{endif}}
						</div>
					</td>
				{{endfor}}

				{{for ; $i%7 != 0; $i++}}
					<td class='cCalendar_nonDate'>&nbsp;</td>
				{{endfor}}
			</tr>
		</table>
	</div>
</div>]]></template>
 <template template_group="browse" template_name="calendarWeek" template_data="$calendars, $date, $events, $nextWeek, $lastWeek, $days, $today, $thisCalendar, $jump, $startDates=array()" template_location="front" template_app="calendar"><![CDATA[
<div class='ipsBox ipsResponsive_pull'>
	<div class='ipsPager cCalendarNav ipsPadding ipsAreaBackground_light ipsBorder_bottom lg:ipsPos_sticky'>
		<div class='ipsPager_prev'>
			<a href="{{if $thisCalendar}}{url="app=calendar&module=calendar&controller=view&view=week&id={$thisCalendar->_id}&w={$lastWeek->year}-{$lastWeek->mon}-{$lastWeek->mday}" seoTemplate="calendar_calweek" seoTitle="$thisCalendar->title_seo"}{{else}}{url="app=calendar&module=calendar&controller=view&view=week&w={$lastWeek->year}-{$lastWeek->mon}-{$lastWeek->mday}" seoTemplate="calendar_week"}{{endif}}" title='{lang="cal_week_title" sprintf="$lastWeek->firstDayOfWeek('monthNameShort'), $lastWeek->firstDayOfWeek('mday'), $lastWeek->firstDayOfWeek('year'), $lastWeek->lastDayOfWeek('monthNameShort'), $lastWeek->lastDayOfWeek('mday'), $lastWeek->lastDayOfWeek('year')"}' rel='prev nofollow' data-action='changeView'>
				<span class='ipsPager_type ipsType_normal'>{lang="previous_week"}</span>
				<span class='ipsPager_title ipsType_light'>
					<span class='ipsResponsive_inline ipsResponsive_hidePhone'>
						{lang="cal_week_title" sprintf="$lastWeek->firstDayOfWeek('monthNameShort'), $lastWeek->firstDayOfWeek('mday'), $lastWeek->firstDayOfWeek('year'), $lastWeek->lastDayOfWeek('monthNameShort'), $lastWeek->lastDayOfWeek('mday'), $lastWeek->lastDayOfWeek('year')"}
					</span>
					<span class='ipsResponsive_inline ipsResponsive_showPhone'>
						{lang="cal_week_title_wb" sprintf="$lastWeek->firstDayOfWeek('monthNameShort'), $lastWeek->firstDayOfWeek('mday'), $lastWeek->firstDayOfWeek('year')"}
					</span>
				</span>
			</a>
		</div>
		<div class='ipsPager_center cCalendarNav' data-role='calendarNav'>
			<h1 class='ipsType_pageTitle ipsType_center'>{lang="cal_week_title" sprintf="$date->firstDayOfWeek('monthNameShort'), $date->firstDayOfWeek('mday'), $date->firstDayOfWeek('year'), $date->lastDayOfWeek('monthNameShort'), $date->lastDayOfWeek('mday'), $date->lastDayOfWeek('year')"}</h1>
		</div>
		<div class='ipsPager_next'>
			<a href="{{if $thisCalendar}}{url="app=calendar&module=calendar&controller=view&view=week&id={$thisCalendar->_id}&w={$nextWeek->year}-{$nextWeek->mon}-{$nextWeek->mday}" seoTemplate="calendar_calweek" seoTitle="$thisCalendar->title_seo"}{{else}}{url="app=calendar&module=calendar&controller=view&view=week&w={$nextWeek->year}-{$nextWeek->mon}-{$nextWeek->mday}" seoTemplate="calendar_week"}{{endif}}" title='{lang="cal_week_title" sprintf="$nextWeek->firstDayOfWeek('monthNameShort'), $nextWeek->firstDayOfWeek('mday'), $nextWeek->firstDayOfWeek('year'), $nextWeek->lastDayOfWeek('monthNameShort'), $nextWeek->lastDayOfWeek('mday'), $nextWeek->lastDayOfWeek('year')"}' rel='next nofollow' data-action='changeView'>
				<span class='ipsPager_type ipsType_normal'>{lang="next_week"}</span>
				<span class='ipsPager_title ipsType_light'>
					<span class='ipsResponsive_inline ipsResponsive_hidePhone'>
						{lang="cal_week_title" sprintf="$nextWeek->firstDayOfWeek('monthNameShort'), $nextWeek->firstDayOfWeek('mday'), $nextWeek->firstDayOfWeek('year'), $nextWeek->lastDayOfWeek('monthNameShort'), $nextWeek->lastDayOfWeek('mday'), $nextWeek->lastDayOfWeek('year')"}
					</span>
					<span class='ipsResponsive_inline ipsResponsive_showPhone'>
						{lang="cal_week_title_wb" sprintf="$nextWeek->firstDayOfWeek('monthNameShort'), $nextWeek->firstDayOfWeek('mday'), $nextWeek->firstDayOfWeek('year')"}
					</span>
				</span>
			</a>
		</div>
	</div>

	<div class='ipsPadding'>
		<ul class='ipsList_reset cCalendarWeek'>
			{{foreach $days as $day}}
			<li class='ipsColumns ipsColumns_collapsePhone ipsBox ipsBox--child'>
				<div class='ipsAreaBackground_light ipsColumn ipsColumn_wide cCalendarWeek_day {{if $today->year == $day->year AND $today->mon == $day->mon AND $today->mday == $day->mday}} cCalendar_today{{endif}}'>
					<div class='ipsPad'>
						<h2 class='ipsType_sectionHead'><strong><a class='ipsType_blendLinks' href='{{if $thisCalendar}}{url="app=calendar&module=calendar&controller=view&id={$thisCalendar->_id}&y={$day->year}&m={$day->mon}&d={$day->mday}&view=day" seoTemplate="calendar_calday" seoTitle="$thisCalendar->title_seo"}{{else}}{url="app=calendar&module=calendar&controller=view&y={$day->year}&m={$day->mon}&d={$day->mday}&view=day" seoTemplate="calendar_day"}{{endif}}'>{$day->dayName}</a></strong></h2>
						<p class='ipsType_reset ipsType_light ipsType_uppercase'>{lang="cal_month_day" sprintf="$day->monthName, $day->mday, $day->year"}</p>
					</div>
				</div>
				<div class='ipsColumn ipsColumn_fluid ipsAreaBackground_reset'>
					<div class='ipsPad'>
						{{if isset( $events[ $day->year . '-' . $day->mon . '-' . $day->mday ] )}}
							<ul class='cEvents_wrapper'>
								{{if isset( $events[ $day->year . '-' . $day->mon . '-' . $day->mday ]['ranged'] )}}
									<li class='cEvents_ranged'>
										<ul class='cEvents'>
											{{foreach $events[ $day->year . '-' . $day->mon . '-' . $day->mday ]['ranged'] as $event }}
												<li class='cEvents_event cEvents_style{$event->calendar_id}{{if $event->nextOccurrence( $day, 'startDate' ) AND $event->nextOccurrence( $day, 'startDate' )->mysqlDatetime( FALSE ) == $day->mysqlDatetime( FALSE ) }}{{$startDates[ $event->id ] = $day->mysqlDatetime( FALSE );}} cEvents_first{{endif}}{{if $event->nextOccurrence( $day ?: $event->nextOccurrence( $day, 'startDate' ), 'endDate' ) AND $event->nextOccurrence( $day ?: $event->nextOccurrence( $day, 'startDate' ), 'endDate' )->mysqlDatetime( FALSE ) == $day->mysqlDatetime( FALSE ) }} cEvents_last{{endif}}'>
													<a href='{$event->url()}' data-ipsHover data-ipsHover-target='{$event->url('hovercard')->setQuerystring( 'sd', isset( $startDates[ $event->id ] ) ? $startDates[ $event->id ] : $day->mysqlDatetime( FALSE ) )}'>{$event->title}{{if $event->hidden() === 1}} <i class='fa fa-warning'></i>{{endif}}</a>
												</li>
											{{endforeach}}
										</ul>
									</li>
								{{endif}}
								{{if isset( $events[ $day->year . '-' . $day->mon . '-' . $day->mday ]['single'] )}}
									<li class='cEvents_single'>
										<ul class='cEvents'>
											{{foreach $events[ $day->year . '-' . $day->mon . '-' . $day->mday ]['single'] as $event }}
												<li class='cEvents_event cEvents_style{$event->calendar_id}'>
													<a href='{$event->url()}' data-ipsHover data-ipsHover-target='{$event->url('hovercard')->setQuerystring( 'sd', $day->year . '-' . $day->mon . '-' . $day->mday )}'>{$event->title}{{if $event->hidden() === 1}} <i class='fa fa-warning'></i>{{endif}}</a>
												</li>
											{{endforeach}}
										</ul>
									</li>
								{{endif}}
							</ul>
						{{else}}
							<span class='ipsType_light ipsType_medium'>{lang="no_events_today"}</span>
						{{endif}}
					</div>
				</div>
			</li>
			{{endforeach}}
		</ul>
	</div>
</div>]]></template>
 <template template_group="browse" template_name="calendarWrapper" template_data="$calendar, $calendars, $thisCalendar, $jump, $date, $downloadLinks" template_location="front" template_app="calendar"><![CDATA[
{template="header" group="overview" app="calendar" params="$date, $thisCalendar"}
<br>
{template="calendarHeader" group="browse" app="calendar" params="$calendars, $thisCalendar, $jump, $downloadLinks"}

<div data-controller='calendar.front.browse.main' class='ipsSpacer_top ipsResponsive_pull ipsBox_alt'>
	{$calendar|raw}
</div>

{{if $thisCalendar}}
<div class="ipsBox ipsPadding ipsResponsive_pull ipsResponsive_showPhone ipsMargin_vertical">
	<div>
		{template="follow" app="core" group="global" params="'calendar', 'calendar', $thisCalendar->id, \IPS\calendar\Event::containerFollowerCount( $thisCalendar )"}
	</div>
</div>
{{endif}}]]></template>
 <template template_group="browse" template_name="dateJump" template_data="$id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='', $attributes=array(), $sidebar=NULL, $form=NULL" template_location="front" template_app="calendar"><![CDATA[<div id='elCalendarJump' class='ipsMenu ipsMenu_medium ipsHide'>
	<form accept-charset='utf-8' class="ipsPad ipsForm ipsForm_vertical" method='post' action='{$action}' data-ipsForm>
		<input type="hidden" name="{$id}_submitted" value="1">
		{{foreach $hiddenValues as $k => $v}}
			<input type="hidden" name="{$k}" value="{$v}">
		{{endforeach}}
		<ul class='ipsList_reset'>
			{{foreach $elements as $collection}}
				{{foreach $collection as $input}}
					{{if $input instanceof \IPS\Helpers\Form\Date}}
						<li class='ipsFieldRow ipsFieldRow_fullWidth'>
							<input type="date" data-control="date" name='{$input->name}' id='{$input->htmlId}' {{if $input->required === TRUE}}required{{endif}} value="{{if $input->defaultValue instanceof \IPS\DateTime}}{$input->defaultValue->format('Y-m-d')}{{endif}}">
						</li>
					{{else}}
						{$input->rowHtml($form)|raw}
					{{endif}}
				{{endforeach}}
			{{endforeach}}
			<li class='ipsFieldRow'>
				<input type="submit" class="ipsButton ipsButton_primary ipsButton_fullWidth ipsButton_small" value="{lang="calendar_jump"}">
			</li>
			<li class='ipsFieldRow'>
				<input type="submit" class="ipsButton ipsButton_link ipsButton_fullWidth ipsButton_small" value="{lang="calendar_jump_today"}" name="goto">
			</li>
		</ul>
	</form>
</div>]]></template>
 <template template_group="events" template_name="event" template_data="$event, $size='normal', $date=NULL" template_location="front" template_app="calendar"><![CDATA[{{$date = $date ?: \IPS\calendar\Date::getDate();}}
{{$sameDay = FALSE;}}
{{if $event->_end_date}}
	{{$sameDay = !( ($event->_start_date->mday != $event->_end_date->mday) or ($event->_start_date->mon != $event->_end_date->mon) or ($event->_start_date->year != $event->_end_date->year) );}}
{{endif}}
<li class='ipsBox ipsBox--child cEvents__event' data-eventID='{$event->id}'>

	{{$image = FALSE;}}
	{{if $event->flyer}}
		{{$image = \IPS\File::get('calendar_Events', $event->flyer);}}
	{{else}}
		{{$coverPhoto = $event->coverPhoto();}}
		{{if $coverPhoto->file}}
			{{$image = $coverPhoto->file;}}
		{{elseif $event->container()->club() !== NULL && $event->container()->club()->profile_photo}}
			{{$image = \IPS\File::get('core_Clubs', $event->container()->club()->profile_photo );}}
		{{endif}}
	{{endif}}
	<div class='cEvent__imageWrap'>
		<a href='{$event->url()}' class='cEvent__image'>
			{{if $image}}<img src='{$image->url}' alt='' />{{endif}}
		</a>
		<div class='cEvent__dateAside'>
			{{if $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )}}
				<span class='cEvent__dateAside__month'>{lang="_date_month_short" pluralize="$event->nextOccurrence( $date, 'startDate' )->format( 'n' )"}</span>
				<span class='cEvent__dateAside__day'>{$event->nextOccurrence( $date, 'startDate' )->format( 'd' )}</span>
			{{else}}
				<span class='cEvent__dateAside__month'>{lang="_date_month_short" pluralize="$event->lastOccurrence( 'startDate' )->format( 'n' )"}</span>
				<span class='cEvent__dateAside__day'>{$event->lastOccurrence( 'startDate' )->format('d')}</span>
			{{endif}}
		</div>
		{{if $event->online and $event->online_type}}
            <div class='cEvent__onlineLogo'>
                {{if $event->online_type === "zoom"}}
                	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 224"><path d="M814.1856 67.3887c3.8225 6.595 5.073 14.0983 5.486 22.5337l.5427 11.2433v78.62l.5544 11.2551c1.109 18.3809 14.6646 31.9719 33.187 33.128l11.1961.5546V101.1657l.5545-11.2433c.4601-8.341 1.699-15.986 5.5804-22.628a44.9022 44.9022 0 0 1 77.747.1415c3.8225 6.595 5.0141 14.2399 5.4742 22.4865l.5545 11.2079v78.6555l.5545 11.255c1.1562 18.4753 14.6056 32.0663 33.187 33.128l11.1961.5546V89.9224A89.8988 89.8988 0 0 0 910.1366.0236a89.6628 89.6628 0 0 0-67.424 30.45A89.7808 89.7808 0 0 0 775.2884.0118c-18.664 0-35.9831 5.663-50.3292 15.4433C716.2053 5.6865 696.6211.0118 685.3779.0118v224.7116l11.2432-.5545c18.8056-1.2388 32.3966-14.464 33.128-33.128l.6018-11.2551v-78.6202l.5545-11.2432c.4719-8.4826 1.6516-15.9387 5.486-22.5809a45.0202 45.0202 0 0 1 38.897-22.392 44.9494 44.9494 0 0 1 38.8972 22.4392zm-769.248 156.792 11.2432.5427h168.5307l-.5545-11.2079c-1.5219-18.4752-14.6056-31.9719-33.1398-33.1752l-11.2432-.5545H78.6673l134.801-134.8482-.5545-11.196c-.873-18.664-14.5112-32.1489-33.1398-33.1753L168.5307.059 0 .0118l.5545 11.2433c1.4747 18.2983 14.7472 32.078 33.128 33.1398l11.255.5545h101.1067L11.2432 179.7976l.5545 11.2432c1.109 18.5225 14.4759 31.9365 33.1399 33.128zM641.266 32.9039a112.3499 112.3499 0 0 1 0 158.9038 112.4325 112.4325 0 0 1-158.9391 0c-43.8758-43.8758-43.8758-115.028 0-158.9038A112.2909 112.2909 0 0 1 561.7258 0a112.3735 112.3735 0 0 1 79.5403 32.9157Zm-31.7949 31.8185a67.4477 67.4477 0 0 1 0 95.3494 67.4477 67.4477 0 0 1-95.3493 0 67.4477 67.4477 0 0 1 0-95.3494 67.4477 67.4477 0 0 1 95.3493 0zM325.9126 0a112.2909 112.2909 0 0 1 79.3987 32.9157c43.8876 43.864 43.8876 115.028 0 158.892a112.4325 112.4325 0 0 1-158.9391 0c-43.8758-43.8758-43.8758-115.028 0-158.9038A112.2909 112.2909 0 0 1 325.771 0Zm47.6038 64.6988a67.4477 67.4477 0 0 1 0 95.3612 67.4477 67.4477 0 0 1-95.3493 0 67.4477 67.4477 0 0 1 0-95.3494 67.4477 67.4477 0 0 1 95.3493 0z" fill="#2d8cff" fill-rule="evenodd"/></svg>
                {{elseif $event->online_type === "eventbrite"}}
                	<svg viewBox="0 0 200 36" xmlns="http://www.w3.org/2000/svg"><path d="M186.292 17.513a6.657 6.657 0 0 1 6.878 2.584l-11.905 2.693c.411-2.52 2.333-4.668 5.027-5.277zm6.945 9.91a6.57 6.57 0 0 1-3.98 2.679c-2.711.614-5.417-.51-6.907-2.626l11.941-2.702 1.945-.44 3.72-.841a11.77 11.77 0 0 0-.31-2.372c-1.514-6.426-8.056-10.432-14.612-8.949-6.556 1.484-10.644 7.896-9.13 14.321 1.513 6.426 8.055 10.433 14.611 8.95 3.863-.875 6.868-3.46 8.376-6.751l-5.654-1.269zm-28.102 7.695V18.082h-3.677v-5.804h3.677V4.289h6.244v7.989h4.69v5.804h-4.69v17.036h-6.244zm-11.928 0h6.03v-22.84h-6.03v22.84zm-.784-30.853c0-2.114 1.667-3.7 3.824-3.7s3.775 1.586 3.775 3.7c0 2.115-1.618 3.748-3.775 3.748s-3.824-1.633-3.824-3.748zm-1.315 8.077c-3.083.16-4.901.633-6.75 1.973v-2.037h-6.027v22.84h6.026v-11.2c0-3.524.86-5.529 6.751-5.726v-5.85zm-33.601 11.715c.15 3.333 3.051 6.128 6.602 6.128 3.602 0 6.553-2.942 6.553-6.422 0-3.432-2.951-6.373-6.553-6.373-3.55 0-6.452 2.843-6.602 6.128v.539zm-5.88 11.061V1.38l6.03-1.364v13.962c1.863-1.49 4.07-2.115 6.472-2.115 6.864 0 12.355 5.286 12.355 11.918 0 6.583-5.49 11.965-12.355 11.965-2.402 0-4.609-.624-6.472-2.114v1.487h-6.03v-.001zm-12.835 0V17.965h-3.677v-5.687h3.677V4.283l6.244-1.413v9.408h4.69v5.687h-4.69v17.153h-6.244zm-11.05 0V22.915c0-4.421-2.403-5.382-4.806-5.382-2.402 0-4.804.913-4.804 5.286v12.299h-6.03v-22.84h6.03v1.699c1.323-.961 2.941-2.115 6.129-2.115 5.098 0 9.511 2.932 9.511 10.092v13.164h-6.03zM56.831 17.513c2.694-.61 5.382.495 6.878 2.584L51.805 22.79c.41-2.52 2.333-4.668 5.026-5.277zm6.945 9.91a6.57 6.57 0 0 1-3.98 2.679 6.656 6.656 0 0 1-6.907-2.626l11.942-2.702 1.945-.44 3.719-.841a11.77 11.77 0 0 0-.31-2.372c-1.514-6.426-8.056-10.432-14.612-8.949-6.556 1.484-10.644 7.896-9.13 14.321 1.514 6.426 8.055 10.433 14.612 8.95 3.863-.875 6.868-3.46 8.375-6.751l-5.654-1.269zm-31.538 7.695-9.365-22.84h6.57l5.933 15.49 5.981-15.49h6.57l-9.364 22.84h-6.325zM11.05 17.507a6.658 6.658 0 0 1 6.879 2.584L6.024 22.785c.41-2.52 2.333-4.668 5.026-5.278zm6.945 9.91a6.57 6.57 0 0 1-3.98 2.68c-2.71.613-5.416-.51-6.907-2.626l11.942-2.702 1.945-.44 3.719-.842a11.782 11.782 0 0 0-.31-2.371c-1.514-6.426-8.055-10.433-14.612-8.95C3.236 13.65-.85 20.063.662 26.489c1.514 6.426 8.056 10.432 14.612 8.949 3.863-.874 6.868-3.46 8.376-6.75l-5.655-1.27v-.001z" fill="#F05537"/></svg>
                {{elseif $event->online_type === "on24"}}
                	<svg viewBox="-0.0374 -5.1555 205.0374 63.5155" xmlns="http://www.w3.org/2000/svg"><path d="m122.92 12.87-.76-.55c5.08-7.59 10.41-12 20.34-12 10.15 0 17.51 6.78 17.51 16v.17c0 8.24-4.35 13.31-14.28 21.94l-15.1 13.41h29.94v5.83h-35.23a4.21 4.21 0 0 1-4.21-4.21v-.73L141.6 34.6c8.63-7.76 11.79-12.11 11.79-17.75C153.4 10.21 148.16 6 142 6c-5 0-8.65 2-12.15 5.9l-.71.76a4.21 4.21 0 0 1-5.95.35z" fill="#232323"/><path d="M194.25 57.61A4.21 4.21 0 0 1 190 53.4v-9.21h-26.83a4.21 4.21 0 0 1-4-3l-.46-1.68 32-38.83h5.66v38.18H205v5.33h-8.7v13.42zm-4.17-18.75V9.73l-23.74 29.13z" fill="#232323"/><path d="M76.67 18.72v38.89h-6.38a3.35 3.35 0 0 1-3.68-3.69V.86h7.23a4.24 4.24 0 0 1 3.25 1.5l27.34 36.25V.86l6.4.05a3.35 3.35 0 0 1 3.68 3.68v53h-6.28a4.25 4.25 0 0 1-3.32-1.6zM50.22 6.26l.07.11a21.59 21.59 0 0 1 4 15.63C53 33.17 43.91 41.21 34.06 40c-7.83-1-13.78-7.52-15.21-15.75-3.12 7.25-.85 15.32 5.28 20.59a15.36 15.36 0 0 0 6.15 3.45H29.2a20.7 20.7 0 1 1 18.42-32l.13.14C45.09 6.94 37.93 0 26.09 0a22.37 22.37 0 0 0-10.82 2.77A29.63 29.63 0 0 0 0 28.62C0 45 13.56 58.36 30.27 58.36S60.55 45 60.55 28.62A29.42 29.42 0 0 0 50.26 6.29z" fill="#3040e8"/></svg>
                {{elseif $event->online_type === "facebook"}}
                	<svg viewBox="0 0 62.488 12.094" xmlns="http://www.w3.org/2000/svg"><g><path d="M4.8891 1.8945c-.7357 0-.9484.3263-.9484 1.046v1.194h1.9624l-.1967 1.9287H3.9415v5.8536h-2.355V6.0632H0V4.1344h1.5865v-1.161C1.5865 1.0276 2.371 0 4.5598 0c.4586-.001.917.0262 1.3723.0816v1.8152ZM6.0663 7.7801c0-2.1743 1.03-3.8119 3.1882-3.8119 1.1771 0 1.896.6053 2.2399 1.357V4.1345h2.2559v7.7824h-2.2559v-1.1771c-.327.7524-1.0628 1.341-2.2399 1.341-2.1583 0-3.1882-1.6353-3.1882-3.8119Zm2.3542.5238c0 1.1603.4246 1.9288 1.5202 1.9288.9651 0 1.4554-.703 1.4554-1.8145v-.7814c0-1.1116-.4903-1.8145-1.4554-1.8145-1.0956 0-1.5202.7685-1.5202 1.9288ZM18.6554 3.9705c.9149 0 1.7817.1967 2.256.523l-.523 1.668a3.7043 3.7043 0 0 0-1.5698-.3598c-1.2755 0-1.8297.7357-1.8297 1.9952v.4574c0 1.2595.5557 1.9952 1.8297 1.9952a3.7055 3.7055 0 0 0 1.5697-.3599l.523 1.6673c-.4742.3271-1.3402.5238-2.2559.5238-2.7636 0-4.0223-1.4882-4.0223-3.8752v-.3598c0-2.387 1.2587-3.8752 4.0223-3.8752ZM21.2216 8.323v-.6862c0-2.2071 1.2587-3.6594 3.8264-3.6594 2.4198 0 3.4825 1.4714 3.4825 3.6297v1.2426h-4.9554c.0495 1.0628.5237 1.537 1.8297 1.537.8836 0 1.8152-.18 2.5021-.4742l.4308 1.6124c-.6214.3278-1.8968.5726-3.0244.5726-2.9801-.0008-4.0917-1.4874-4.0917-3.7746Zm2.3542-1.014h2.8452v-.196c0-.85-.343-1.5247-1.3722-1.5247-1.0636.0007-1.473.6716-1.473 1.7176ZM37.2575 8.271c0 2.1744-1.046 3.812-3.202 3.812-1.1771 0-1.9944-.5886-2.3214-1.341v1.177H29.511V.2266L31.8652.013v5.1994c.343-.6861 1.0955-1.2427 2.191-1.2427 2.1584 0 3.202 1.6353 3.202 3.812Zm-2.3542-.5397c0-1.0955-.4247-1.9128-1.553-1.9128-.9652 0-1.4882.6862-1.4882 1.7985v.8172c0 1.1116.523 1.7985 1.4882 1.7985 1.1283 0 1.553-.8173 1.553-1.9128ZM38.045 8.2215v-.3918c0-2.2407 1.2755-3.8592 3.8752-3.8592s3.876 1.6185 3.876 3.8592v.3918c0 2.2399-1.2755 3.8592-3.8752 3.8592s-3.876-1.6193-3.876-3.8592Zm5.3962-.5557c0-1.03-.4254-1.8473-1.5248-1.8473-1.0993 0-1.521.8173-1.521 1.8473v.7196c0 1.03.4255 1.8473 1.521 1.8473 1.0956 0 1.5248-.8173 1.5248-1.8473ZM46.5791 8.2215v-.3918c0-2.2407 1.2755-3.8592 3.8752-3.8592s3.8752 1.6185 3.8752 3.8592v.3918c0 2.2399-1.2755 3.8592-3.8752 3.8592s-3.8752-1.6193-3.8752-3.8592Zm5.3962-.5557c0-1.03-.4255-1.8473-1.521-1.8473s-1.5202.8173-1.5202 1.8473v.7196c0 1.03.4247 1.8473 1.5202 1.8473s1.521-.8173 1.521-1.8473ZM57.5665 7.8457l2.3215-3.7113h2.5014l-2.4358 3.8424 2.5341 3.94h-2.5014l-2.4198-3.812v3.812h-2.355V.2265l2.355-.2135Z" fill="#1877f2"/></g></svg>
                {{elseif $event->online_type === "google"}}
                	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 272 92"><path fill="#EA4335" d="M115.75 47.18c0 12.77-9.99 22.18-22.25 22.18s-22.25-9.41-22.25-22.18C71.25 34.32 81.24 25 93.5 25s22.25 9.32 22.25 22.18zm-9.74 0c0-7.98-5.79-13.44-12.51-13.44S80.99 39.2 80.99 47.18c0 7.9 5.79 13.44 12.51 13.44s12.51-5.55 12.51-13.44z"/><path fill="#FBBC05" d="M163.75 47.18c0 12.77-9.99 22.18-22.25 22.18s-22.25-9.41-22.25-22.18c0-12.85 9.99-22.18 22.25-22.18s22.25 9.32 22.25 22.18zm-9.74 0c0-7.98-5.79-13.44-12.51-13.44s-12.51 5.46-12.51 13.44c0 7.9 5.79 13.44 12.51 13.44s12.51-5.55 12.51-13.44z"/><path fill="#4285F4" d="M209.75 26.34v39.82c0 16.38-9.66 23.07-21.08 23.07-10.75 0-17.22-7.19-19.66-13.07l8.48-3.53c1.51 3.61 5.21 7.87 11.17 7.87 7.31 0 11.84-4.51 11.84-13v-3.19h-.34c-2.18 2.69-6.38 5.04-11.68 5.04-11.09 0-21.25-9.66-21.25-22.09 0-12.52 10.16-22.26 21.25-22.26 5.29 0 9.49 2.35 11.68 4.96h.34v-3.61h9.25zm-8.56 20.92c0-7.81-5.21-13.52-11.84-13.52-6.72 0-12.35 5.71-12.35 13.52 0 7.73 5.63 13.36 12.35 13.36 6.63 0 11.84-5.63 11.84-13.36z"/><path fill="#34A853" d="M225 3v65h-9.5V3h9.5z"/><path fill="#EA4335" d="m262.02 54.48 7.56 5.04c-2.44 3.61-8.32 9.83-18.48 9.83-12.6 0-22.01-9.74-22.01-22.18 0-13.19 9.49-22.18 20.92-22.18 11.51 0 17.14 9.16 18.98 14.11l1.01 2.52-29.65 12.28c2.27 4.45 5.8 6.72 10.75 6.72 4.96 0 8.4-2.44 10.92-6.14zm-23.27-7.98 19.82-8.23c-1.09-2.77-4.37-4.7-8.23-4.7-4.95 0-11.84 4.37-11.59 12.93z"/><path fill="#4285F4" d="M35.29 41.41V32H67c.31 1.64.47 3.58.47 5.68 0 7.06-1.93 15.79-8.15 22.01-6.05 6.3-13.78 9.66-24.02 9.66C16.32 69.35.36 53.89.36 34.91.36 15.93 16.32.47 35.3.47c10.5 0 17.98 4.12 23.6 9.49l-6.64 6.64c-4.03-3.78-9.49-6.72-16.97-6.72-13.86 0-24.7 11.17-24.7 25.03 0 13.86 10.84 25.03 24.7 25.03 8.99 0 14.11-3.61 17.39-6.89 2.66-2.66 4.41-6.46 5.1-11.65l-22.49.01z"/></svg>
                {{elseif $event->online_type === "webex"}}
                	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 195.4 77.5"><defs><style>.svg__webex-logo{fill:#010101}</style></defs><path class="svg__webex-logo" d="M47.5 13.9H55L44.1 46.7h-8.6L27.4 22l-8.1 24.8h-8.4L0 13.9h7.6l7.8 25 8-25h8.1L39.7 39l7.8-25.1ZM87 33H62.8c.2 1.7.9 3.3 1.8 4.7.9 1.2 2.1 2.2 3.4 2.8 1.4.6 2.9.9 4.4.9 1.7 0 3.4-.3 5-.9 1.6-.6 3.2-1.5 4.5-2.6l3.6 5.1c-1.8 1.6-3.9 2.8-6.2 3.5-2.4.7-4.8 1.1-7.3 1.1-3 .1-6-.7-8.7-2.1-2.5-1.4-4.6-3.5-5.9-6.1-1.4-2.6-2.1-5.6-2.1-9.1-.1-3.1.7-6.2 2.1-9 1.3-2.5 3.3-4.6 5.8-6.1 2.6-1.5 5.5-2.2 8.5-2.2 2.8-.1 5.6.7 8.1 2.2 2.4 1.5 4.3 3.6 5.5 6.1 1.4 2.8 2 5.9 2 9-.2.7-.2 1.6-.3 2.7Zm-7.2-5.5c-.4-2.6-1.3-4.5-2.8-6-1.4-1.4-3.3-2.1-5.5-2.1-2.4 0-4.4.7-5.9 2.2s-2.4 3.4-2.8 5.9h17ZM117.6 15.3c2.5 1.5 4.5 3.6 5.9 6.2 1.5 2.7 2.2 5.8 2.2 8.9s-.7 6.2-2.2 8.9c-1.4 2.6-3.4 4.7-5.9 6.2s-5.4 2.3-8.3 2.2c-2 0-4.1-.4-5.9-1.2-1.7-.8-3.2-2-4.4-3.5v3.9h-7.2V0H99v17.9c1.2-1.5 2.7-2.7 4.4-3.5 1.9-.9 3.9-1.3 5.9-1.2 2.9-.1 5.8.6 8.3 2.1Zm-3.9 24.2c1.5-.9 2.7-2.2 3.5-3.8.8-1.7 1.2-3.5 1.2-5.3s-.4-3.7-1.2-5.3c-.8-1.6-2-2.9-3.5-3.8-1.6-1-3.4-1.4-5.2-1.4s-3.6.4-5.2 1.4c-1.5.9-2.7 2.2-3.5 3.8-.8 1.7-1.3 3.5-1.2 5.4 0 1.9.4 3.7 1.2 5.4.8 1.6 2 2.9 3.5 3.8 1.6.9 3.3 1.4 5.2 1.4 1.8-.2 3.6-.7 5.2-1.6ZM161.2 33H137c.2 1.7.9 3.3 1.8 4.7.9 1.2 2.1 2.2 3.4 2.8 1.4.6 2.9.9 4.4.9 1.7 0 3.4-.3 5-.9 1.6-.6 3.2-1.5 4.5-2.6l3.6 5.1c-1.8 1.6-3.9 2.8-6.2 3.5-2.4.7-4.8 1.1-7.3 1.1-3 .1-6-.7-8.7-2.1-2.5-1.4-4.6-3.5-5.9-6.1-1.4-2.6-2.1-5.6-2.1-9.1-.1-3.1.7-6.2 2.1-9 1.3-2.5 3.3-4.6 5.8-6.1 2.6-1.5 5.5-2.2 8.5-2.2 2.8-.1 5.6.7 8.1 2.2 2.4 1.5 4.3 3.6 5.5 6.1 1.4 2.8 2 5.9 2 9-.1.7-.2 1.6-.3 2.7Zm-7.2-5.5c-.4-2.6-1.3-4.5-2.8-6-1.4-1.4-3.3-2.1-5.6-2.1s-4.4.7-5.9 2.2c-1.5 1.4-2.4 3.4-2.8 5.9H154ZM195.4 46.8h-8.8l-8.3-11.4-8.2 11.4h-8.4L174.1 30l-12.3-16.1h8.8l8 11 8-11h8.5l-12.1 16 12.4 16.9ZM109.1 73.9h-1.5V60.7h1.8v5c.4-.5.8-.9 1.4-1.2s1.2-.4 1.8-.4 1.2.1 1.8.3c.6.3 1 .6 1.4 1.1.7.9 1 2.1 1 3.5 0 1.7-.5 3-1.4 4-.4.4-.9.7-1.4.9-.5.2-1.1.3-1.6.3-.6 0-1.2-.1-1.8-.4-.5-.3-1-.7-1.4-1.2l-.1 1.3ZM115 69c0-1.2-.3-2.1-.9-2.7-.2-.2-.5-.4-.9-.6-.3-.1-.7-.2-1-.2-.4 0-.8.1-1.2.2-.4.2-.7.4-.9.7-.5.7-.8 1.6-.7 2.5 0 1.2.3 2.2.9 2.8.2.3.6.5.9.6.3.1.7.2 1.1.2s.8-.1 1.2-.2c.4-.2.7-.4.9-.8.4-.4.6-1.3.6-2.5ZM126.3 64.4l-3.3 9.7c-.4 1.3-.9 2.2-1.3 2.6-.2.3-.5.5-.8.6s-.7.2-1 .2c-.4 0-.8-.1-1.1-.2v-1.4c.3.1.6.1.9.1.2 0 .3 0 .5-.1s.3-.2.4-.3c.3-.5.6-1.1.8-1.7h-.6l-3.5-9.6h1.9l2.7 8.1 2.7-8.1 1.7.1ZM150.5 60.7h-3.3V74h3.3V60.7ZM177.5 64.5c-.9-.5-1.8-.7-2.8-.7-2.2 0-3.7 1.5-3.7 3.5s1.4 3.5 3.7 3.5c1 0 1.9-.2 2.8-.7v3.6c-1 .3-2 .5-3 .5-3.8 0-7.1-2.6-7.1-6.9 0-4 3-6.9 7.1-6.9 1 0 2.1.2 3 .5v3.6ZM142.6 64.5c-.9-.5-1.8-.7-2.8-.7-2.2 0-3.7 1.5-3.7 3.5s1.4 3.5 3.7 3.5c1 0 1.9-.2 2.8-.7v3.6c-1 .3-2 .5-3.1.5-3.8 0-7.1-2.6-7.1-6.9 0-4 3-6.9 7.1-6.9 1 0 2.1.2 3.1.5v3.6ZM188 63.9c-.5 0-.9.1-1.3.3-.4.2-.8.4-1.1.8-.3.3-.6.7-.7 1.1-.2.4-.3.9-.2 1.3 0 .5.1.9.2 1.3.2.4.4.8.7 1.1.3.3.7.6 1.1.8.4.2.9.3 1.3.3.5 0 .9-.1 1.3-.3.4-.2.8-.4 1.1-.8.3-.3.6-.7.7-1.1.2-.4.3-.9.2-1.3 0-.5-.1-.9-.2-1.3-.2-.4-.4-.8-.7-1.1-.3-.3-.7-.6-1.1-.8-.4-.3-.8-.3-1.3-.3Zm7 3.4c0 3.8-2.9 6.9-7 6.9s-7-3.1-7-6.9 2.9-6.9 7-6.9c4.1.1 7 3.2 7 6.9ZM163.2 63.7c-.9-.2-1.7-.4-2.6-.4-1.3 0-2.1.4-2.1 1.1 0 .8 1 1.1 1.5 1.3l.9.3c2.2.7 3.2 2.2 3.2 3.8 0 3.3-2.9 4.4-5.5 4.4-1.2 0-2.4-.1-3.6-.4v-3.1c1 .3 2.1.5 3.2.5 1.7 0 2.4-.5 2.4-1.2s-.7-1.1-1.5-1.3l-.7-.2c-1.8-.6-3.4-1.7-3.4-3.9 0-2.5 1.8-4.1 4.9-4.1 1.1 0 2.2.2 3.3.4v2.8Z"/></svg>
                {{elseif $event->online_type === "slack"}}
                	<svg viewBox="0 0 498 127" xmlns="http://www.w3.org/2000/svg"><g fill="none"><path d="m159.5 99.5 6.2-14.4c6.7 5 15.6 7.6 24.4 7.6 6.5 0 10.6-2.5 10.6-6.3-.1-10.6-38.9-2.3-39.2-28.9-.1-13.5 11.9-23.9 28.9-23.9 10.1 0 20.2 2.5 27.4 8.2L212 56.5c-6.6-4.2-14.8-7.2-22.6-7.2-5.3 0-8.8 2.5-8.8 5.7.1 10.4 39.2 4.7 39.6 30.1 0 13.8-11.7 23.5-28.5 23.5-12.3 0-23.6-2.9-32.2-9.1m237.9-19.6c-3.1 5.4-8.9 9.1-15.6 9.1-9.9 0-17.9-8-17.9-17.9 0-9.9 8-17.9 17.9-17.9 6.7 0 12.5 3.7 15.6 9.1l17.1-9.5c-6.4-11.4-18.7-19.2-32.7-19.2-20.7 0-37.5 16.8-37.5 37.5s16.8 37.5 37.5 37.5c14.1 0 26.3-7.7 32.7-19.2l-17.1-9.5zM228.8 2.5h21.4v104.7h-21.4zm194.1 0v104.7h21.4V75.8l25.4 31.4h27.4l-32.3-37.3 29.9-34.8h-26.2L444.3 64V2.5zM313.8 80.1c-3.1 5.1-9.5 8.9-16.7 8.9-9.9 0-17.9-8-17.9-17.9 0-9.9 8-17.9 17.9-17.9 7.2 0 13.6 4 16.7 9.2v17.7zm0-45v8.5c-3.5-5.9-12.2-10-21.3-10-18.8 0-33.6 16.6-33.6 37.4 0 20.8 14.8 37.6 33.6 37.6 9.1 0 17.8-4.1 21.3-10v8.5h21.4v-72h-21.4z" fill="#000"/><path d="M27.2 80c0 7.3-5.9 13.2-13.2 13.2C6.7 93.2.8 87.3.8 80c0-7.3 5.9-13.2 13.2-13.2h13.2V80zm6.6 0c0-7.3 5.9-13.2 13.2-13.2 7.3 0 13.2 5.9 13.2 13.2v33c0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V80z" fill="#E01E5A"/><path d="M47 27c-7.3 0-13.2-5.9-13.2-13.2C33.8 6.5 39.7.6 47 .6c7.3 0 13.2 5.9 13.2 13.2V27H47zm0 6.7c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H13.9C6.6 60.1.7 54.2.7 46.9c0-7.3 5.9-13.2 13.2-13.2H47z" fill="#36C5F0"/><path d="M99.9 46.9c0-7.3 5.9-13.2 13.2-13.2 7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H99.9V46.9zm-6.6 0c0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V13.8C66.9 6.5 72.8.6 80.1.6c7.3 0 13.2 5.9 13.2 13.2v33.1z" fill="#2EB67D"/><path d="M80.1 99.8c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V99.8h13.2zm0-6.6c-7.3 0-13.2-5.9-13.2-13.2 0-7.3 5.9-13.2 13.2-13.2h33.1c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H80.1z" fill="#ECB22E"/></g></svg>
                {{elseif $event->online_type === "discord"}}
                	<svg id="svg__discord-a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 292 56.47"><defs><clipPath id="svg__discord-b"><path class="svg__discord-d" d="M0 0h292v56.47H0z"/></clipPath><clipPath id="svg__discord-c"><path class="svg__discord-d" d="M0 0h292v56.47H0z"/></clipPath><style>.svg__discord-d{fill:none}.svg__discord-e{fill:#5865f2}</style></defs><g clip-path="url(#svg__discord-b)"><g clip-path="url(#svg__discord-c)"><path class="svg__discord-e" d="M61.8 4.73C57.08 2.52 52.03.91 46.75 0c-.65 1.17-1.41 2.75-1.93 4-5.61-.84-11.17-.84-16.68 0-.52-1.25-1.3-2.83-1.95-4-5.28.91-10.34 2.53-15.06 4.74C1.6 19.13-.98 33.17.31 47.01c6.32 4.72 12.44 7.58 18.46 9.46 1.49-2.05 2.81-4.22 3.95-6.51-2.17-.83-4.26-1.85-6.23-3.03.52-.39 1.03-.79 1.53-1.21 12 5.61 25.05 5.61 36.91 0 .5.42 1.01.82 1.53 1.21-1.97 1.19-4.06 2.21-6.24 3.04 1.14 2.29 2.46 4.47 3.95 6.51 6.02-1.88 12.15-4.74 18.47-9.46 1.51-16.04-2.59-29.95-10.84-42.28ZM24.36 38.5c-3.6 0-6.56-3.36-6.56-7.46s2.89-7.47 6.56-7.47 6.62 3.36 6.56 7.47c0 4.1-2.89 7.46-6.56 7.46Zm24.24 0c-3.6 0-6.56-3.36-6.56-7.46s2.89-7.47 6.56-7.47 6.62 3.36 6.56 7.47c0 4.1-2.89 7.46-6.56 7.46ZM98.03 14.41h15.66c3.78 0 6.97.6 9.58 1.81 2.61 1.2 4.57 2.88 5.86 5.02 1.3 2.14 1.95 4.6 1.95 7.37s-.68 5.16-2.03 7.36c-1.35 2.2-3.41 3.94-6.19 5.23-2.77 1.28-6.2 1.93-10.31 1.93H98.01V14.41Zm14.38 21.41c2.54 0 4.5-.65 5.86-1.95 1.37-1.3 2.05-3.07 2.05-5.32 0-2.08-.61-3.74-1.82-4.98-1.22-1.24-3.06-1.87-5.52-1.87h-4.9v14.11h4.33ZM154.54 43.08c-2.17-.57-4.13-1.41-5.86-2.5v-6.81c1.31 1.04 3.07 1.89 5.28 2.57 2.21.67 4.34 1 6.41 1 .96 0 1.69-.13 2.19-.39.49-.26.74-.57.74-.93 0-.41-.13-.75-.4-1.03s-.79-.5-1.57-.7l-4.82-1.11c-2.76-.66-4.72-1.56-5.88-2.73-1.17-1.16-1.75-2.68-1.75-4.57 0-1.59.51-2.97 1.53-4.14 1.01-1.18 2.46-2.09 4.34-2.73 1.88-.64 4.07-.97 6.59-.97 2.25 0 4.31.25 6.19.74 1.88.49 3.43 1.12 4.66 1.89v6.44c-1.26-.77-2.71-1.37-4.36-1.83-1.65-.45-3.34-.67-5.08-.67-2.52 0-3.77.44-3.77 1.31 0 .41.2.72.59.92.39.21 1.11.42 2.15.64l4.02.74c2.62.46 4.58 1.28 5.86 2.44 1.29 1.16 1.93 2.88 1.93 5.15 0 2.49-1.06 4.47-3.19 5.93s-5.15 2.2-9.06 2.2c-2.3 0-4.54-.29-6.71-.87ZM182.98 42.22c-2.3-1.15-4.04-2.71-5.2-4.68s-1.74-4.18-1.74-6.65.6-4.66 1.81-6.6 2.97-3.46 5.3-4.57c2.33-1.11 5.11-1.66 8.35-1.66 4.02 0 7.35.86 10 2.58v7.51c-.93-.66-2.03-1.19-3.27-1.6-1.25-.41-2.58-.62-4-.62-2.49 0-4.43.46-5.84 1.39-1.41.93-2.11 2.14-2.11 3.65s.68 2.68 2.05 3.63c1.37.94 3.35 1.42 5.94 1.42 1.34 0 2.66-.2 3.96-.59 1.3-.4 2.42-.88 3.35-1.46v7.26c-2.94 1.81-6.36 2.71-10.24 2.71-3.27-.01-6.06-.59-8.36-1.73ZM211.52 42.22c-2.32-1.15-4.09-2.72-5.3-4.72-1.22-2-1.83-4.23-1.83-6.69s.61-4.66 1.83-6.59c1.22-1.93 2.98-3.44 5.29-4.54 2.3-1.1 5.05-1.64 8.23-1.64s5.93.55 8.23 1.64 4.06 2.6 5.26 4.51c1.21 1.92 1.81 4.11 1.81 6.6s-.6 4.69-1.81 6.69-2.97 3.57-5.28 4.72c-2.32 1.15-5.06 1.72-8.22 1.72s-5.9-.57-8.21-1.72Zm12.2-7.28c.98-1 1.47-2.31 1.47-3.96s-.49-2.95-1.47-3.91c-.98-.97-2.31-1.46-3.99-1.46s-3.06.49-4.04 1.46c-.97.97-1.46 2.27-1.46 3.91s.49 2.96 1.46 3.96c.98 1 2.32 1.5 4.04 1.5 1.69 0 3.02-.5 3.99-1.5ZM259.17 19.57v8.86c-1.02-.69-2.34-1.03-3.98-1.03-2.14 0-3.79.66-4.94 1.99-1.15 1.32-1.73 3.39-1.73 6.18v7.55h-9.84v-24h9.64v7.63c.53-2.79 1.4-4.85 2.59-6.18 1.19-1.32 2.72-1.99 4.6-1.99 1.42 0 2.63.33 3.66.98ZM291.86 13.59v29.54h-9.84v-5.37c-.83 2.02-2.09 3.56-3.79 4.62-1.7 1.05-3.8 1.58-6.29 1.58-2.23 0-4.16-.55-5.82-1.66-1.66-1.11-2.94-2.63-3.84-4.55-.89-1.93-1.35-4.11-1.35-6.55-.03-2.51.45-4.77 1.43-6.77s2.36-3.56 4.14-4.68c1.78-1.12 3.81-1.68 6.09-1.68 4.69 0 7.83 2.08 9.44 6.24V13.59h9.84Zm-11.31 21.19c1-1 1.5-2.29 1.5-3.87s-.49-2.78-1.46-3.73c-.98-.96-2.31-1.44-3.99-1.44s-2.98.49-3.98 1.46c-.99.97-1.49 2.23-1.49 3.79s.49 2.83 1.49 3.82 2.3 1.48 3.94 1.48c1.66 0 2.99-.5 3.99-1.5ZM139.38 21.68c2.71 0 4.91-2.02 4.91-4.5s-2.2-4.5-4.91-4.5-4.91 2.01-4.91 4.5 2.2 4.5 4.91 4.5ZM134.47 24.78c3.01 1.32 6.74 1.38 9.81 0v18.47h-9.81V24.78Z"/></g></g></svg>
                {{elseif $event->online_type === "teams"}}
                	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2228.833 2073.333"><path fill="#5059C9" d="M1554.637 777.5h575.713c54.391 0 98.483 44.092 98.483 98.483v524.398c0 199.901-162.051 361.952-361.952 361.952h-1.711c-199.901.028-361.975-162-362.004-361.901V828.971c.001-28.427 23.045-51.471 51.471-51.471z"/><circle fill="#5059C9" cx="1943.75" cy="440.583" r="233.25"/><circle fill="#7B83EB" cx="1218.083" cy="336.917" r="336.917"/><path fill="#7B83EB" d="M1667.323 777.5H717.01c-53.743 1.33-96.257 45.931-95.01 99.676v598.105c-7.505 322.519 247.657 590.16 570.167 598.053 322.51-7.893 577.671-275.534 570.167-598.053V877.176c1.245-53.745-41.268-98.346-95.011-99.676z"/><path opacity=".1" d="M1244 777.5v838.145c-.258 38.435-23.549 72.964-59.09 87.598a91.8564 91.8564 0 0 1-35.765 7.257H667.613c-6.738-17.105-12.958-34.21-18.142-51.833a631.2871 631.2871 0 0 1-27.472-183.49V877.02c-1.246-53.659 41.198-98.19 94.855-99.52H1244z"/><path opacity=".2" d="M1192.167 777.5v889.978a91.8383 91.8383 0 0 1-7.257 35.765c-14.634 35.541-49.163 58.833-87.598 59.09H691.975c-8.812-17.105-17.105-34.21-24.362-51.833-7.257-17.623-12.958-34.21-18.142-51.833a631.282 631.282 0 0 1-27.472-183.49V877.02c-1.246-53.659 41.198-98.19 94.855-99.52h475.313z"/><path opacity=".2" d="M1192.167 777.5v786.312c-.395 52.223-42.632 94.46-94.855 94.855h-447.84A631.282 631.282 0 0 1 622 1475.177V877.02c-1.246-53.659 41.198-98.19 94.855-99.52h475.312z"/><path opacity=".2" d="M1140.333 777.5v786.312c-.395 52.223-42.632 94.46-94.855 94.855H649.472A631.282 631.282 0 0 1 622 1475.177V877.02c-1.246-53.659 41.198-98.19 94.855-99.52h423.478z"/><path opacity=".1" d="M1244 509.522v163.275c-8.812.518-17.105 1.037-25.917 1.037-8.812 0-17.105-.518-25.917-1.037a284.4725 284.4725 0 0 1-51.833-8.293c-104.963-24.857-191.679-98.469-233.25-198.003a288.0208 288.0208 0 0 1-16.587-51.833h258.648c52.305.198 94.657 42.549 94.856 94.854z"/><path opacity=".2" d="M1192.167 561.355v111.442a284.4725 284.4725 0 0 1-51.833-8.293c-104.963-24.857-191.679-98.469-233.25-198.003h190.228c52.304.198 94.656 42.55 94.855 94.854z"/><path opacity=".2" d="M1192.167 561.355v111.442a284.4725 284.4725 0 0 1-51.833-8.293c-104.963-24.857-191.679-98.469-233.25-198.003h190.228c52.304.198 94.656 42.55 94.855 94.854z"/><path opacity=".2" d="M1140.333 561.355v103.148c-104.963-24.857-191.679-98.469-233.25-198.003h138.395c52.305.199 94.656 42.551 94.855 94.855z"/><linearGradient id="svg__teams-a" gradientUnits="userSpaceOnUse" x1="198.099" y1="1683.0726" x2="942.2344" y2="394.2607" gradientTransform="matrix(1 0 0 -1 0 2075.3333)"><stop offset="0" stop-color="#5a62c3"/><stop offset=".5" stop-color="#4d55bd"/><stop offset="1" stop-color="#3940ab"/></linearGradient><path fill="url(#svg__teams-a)" d="M95.01 466.5h950.312c52.473 0 95.01 42.538 95.01 95.01v950.312c0 52.473-42.538 95.01-95.01 95.01H95.01c-52.473 0-95.01-42.538-95.01-95.01V561.51c0-52.472 42.538-95.01 95.01-95.01z"/><path fill="#FFF" d="M820.211 828.193h-189.97v517.297h-121.03V828.193H320.123V727.844h500.088v100.349z"/></svg>
                {{elseif $event->online_type === "tiktok"}}
                	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 291.379" xml:space="preserve"><path fill="#FF004F" d="M191.102 105.182c18.814 13.442 41.862 21.351 66.755 21.351V78.656c-4.711.001-9.41-.49-14.019-1.466v37.686c-24.891 0-47.936-7.909-66.755-21.35v97.703c0 48.876-39.642 88.495-88.54 88.495-18.245 0-35.203-5.513-49.29-14.968 16.078 16.431 38.5 26.624 63.306 26.624 48.901 0 88.545-39.619 88.545-88.497v-97.701h-.002zm17.294-48.302c-9.615-10.499-15.928-24.067-17.294-39.067v-6.158h-13.285c3.344 19.065 14.75 35.353 30.579 45.225zM70.181 227.25a40.2992 40.2992 0 0 1-8.262-24.507c0-22.354 18.132-40.479 40.502-40.479 4.169-.001 8.313.637 12.286 1.897v-48.947a89.3489 89.3489 0 0 0-14.013-.807v38.098a40.561 40.561 0 0 0-12.292-1.896c-22.37 0-40.501 18.123-40.501 40.48 0 15.808 9.063 29.494 22.28 36.161z"/><path d="M177.083 93.525c18.819 13.441 41.864 21.35 66.755 21.35V77.189c-13.894-2.958-26.194-10.215-35.442-20.309-15.83-9.873-27.235-26.161-30.579-45.225h-34.896v191.226c-.079 22.293-18.18 40.344-40.502 40.344-13.154 0-24.84-6.267-32.241-15.975-13.216-6.667-22.279-20.354-22.279-36.16 0-22.355 18.131-40.48 40.501-40.48 4.286 0 8.417.667 12.292 1.896v-38.098c-48.039.992-86.674 40.224-86.674 88.474 0 24.086 9.621 45.921 25.236 61.875 14.087 9.454 31.045 14.968 49.29 14.968 48.899 0 88.54-39.621 88.54-88.496V93.525h-.001z"/><path fill="#00F2EA" d="M243.838 77.189v-10.19a66.768 66.768 0 0 1-35.442-10.12 66.9532 66.9532 0 0 0 35.442 20.31zm-66.021-65.534a68.2815 68.2815 0 0 1-.734-5.497V0h-48.182v191.228c-.077 22.29-18.177 40.341-40.501 40.341-6.554 0-12.742-1.555-18.222-4.318 7.401 9.707 19.087 15.973 32.241 15.973 22.32 0 40.424-18.049 40.502-40.342V11.655h34.896zm-77.123 102.753V103.56c-4.026-.55-8.085-.826-12.149-.824C39.642 102.735 0 142.356 0 191.228c0 30.64 15.58 57.643 39.255 73.527-15.615-15.953-25.236-37.789-25.236-61.874 0-48.249 38.634-87.481 86.675-88.473z"/><path fill="#FF004F" d="M802.126 239.659c34.989 0 63.354-28.136 63.354-62.84 0-34.703-28.365-62.844-63.354-62.844h-9.545c34.99 0 63.355 28.14 63.355 62.844s-28.365 62.84-63.355 62.84h9.545z"/><path fill="#00F2EA" d="M791.716 113.975h-9.544c-34.988 0-63.358 28.14-63.358 62.844s28.37 62.84 63.358 62.84h9.544c-34.993 0-63.358-28.136-63.358-62.84-.001-34.703 28.365-62.844 63.358-62.844z"/><path d="M310.062 85.572v31.853h37.311v121.374h37.326V118.285h30.372l10.414-32.712H310.062zm305.482 0v31.853h37.311v121.374h37.326V118.285h30.371l10.413-32.712H615.544zm-183.11 18.076c0-9.981 8.146-18.076 18.21-18.076 10.073 0 18.228 8.095 18.228 18.076 0 9.982-8.15 18.077-18.228 18.077-10.064-.005-18.21-8.095-18.21-18.077zm0 30.993h36.438v104.158h-36.438V134.641zm52.062-49.069v153.226h36.452v-39.594l11.283-10.339 35.577 50.793h39.05l-51.207-74.03 45.997-44.768H557.39l-36.442 36.153V85.572h-36.452zm393.127 0v153.226h36.457v-39.594l11.278-10.339 35.587 50.793H1000l-51.207-74.03 45.995-44.768h-44.256l-36.452 36.153V85.572h-36.457zM792.578 239.659c34.988 0 63.358-28.136 63.358-62.84 0-34.703-28.37-62.844-63.358-62.844h-.865c-34.99 0-63.355 28.14-63.355 62.844s28.365 62.84 63.355 62.84h.865zm-31.242-62.84c0-16.881 13.8-30.555 30.817-30.555 17.005 0 30.804 13.674 30.804 30.555s-13.799 30.563-30.804 30.563c-17.017-.003-30.817-13.682-30.817-30.563z"/></svg>
                {{elseif $event->online_type === "twitch"}}
                	<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 454.9307 150.776"><path d="M444.54 51.9893 426.3453 33.796h-33.8v-23.4H363.944v106.5867h28.6013v-54.596h23.3934v54.596H444.54V51.9893ZM353.552 33.796h-44.1947l-18.1986 18.1933v46.792l18.1986 18.2014h44.1947V88.3893h-33.8V62.3867h33.8V33.796zm-72.792 0h-23.3933v-23.4h-28.6014v88.3853l18.1987 18.2014h33.796V88.3893h-23.3933V62.3867H280.76V33.796zm-62.3933-23.4h-28.5934v13.0027h28.5934V10.396zm0 23.4h-28.5934v83.1853h28.5934V33.796zm-38.992 0h-28.596v54.5933h-10.396V33.796h-28.5974v54.5933h-10.3946V33.796H72.7893v83.1867H161.18l18.1947-18.2014V33.796zm-116.984 0H38.996v-23.4H10.4v88.3853l18.1973 18.2014h33.7934V88.3893H38.996V62.3867h23.3947V33.796zm392.54 12.9933v77.988l-38.992 25.9987H389.944v-13.0027l-18.1973 13.0027h-23.3934v-13.0027l-12.9946 13.0027h-41.596L280.76 137.7733l-2.6027 13.0027H241.768l-14.8813-13.0027-.8334 13.0027h-41.2466l-1.4587-13.0027-11.1653 13.0027h-63l-13-5.2v5.2h-33.792l-38.996-23.4027L0 103.988V0h49.396l23.3933 23.3987h106.5854V0h88.3866v23.3987h23.3974v12.9946l13.0026-12.9946h25.9907L353.552 0h49.392v23.3987h28.5973l23.3894 23.3906Z" fill="#6441a5" fill-rule="evenodd"/></svg>
                {{elseif $event->online_type === "vimeo"}}
                	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 20" fill="#1ab7ea"><path d="M15.72 9.431c-.069 1.514-1.127 3.588-3.172 6.22-2.114 2.749-3.903 4.124-5.367 4.124-.906 0-1.673-.837-2.3-2.512-.418-1.535-.837-3.069-1.255-4.604-.465-1.674-.964-2.512-1.498-2.512-.116 0-.524.245-1.221.733l-.731-.943C.943 9.263 1.7 8.588 2.445 7.912c1.024-.884 1.792-1.35 2.305-1.397 1.21-.116 1.955.712 2.235 2.483.302 1.912.511 3.101.628 3.566.349 1.586.733 2.378 1.152 2.378.326 0 .815-.515 1.467-1.543.651-1.029 1-1.812 1.047-2.349.093-.888-.256-1.333-1.047-1.333-.373 0-.757.085-1.151.255.764-2.504 2.224-3.721 4.38-3.652 1.598.047 2.351 1.084 2.259 3.111"/><path d="M22.281 1.918c-.023.58-.314 1.136-.874 1.669-.628.602-1.373.903-2.234.903-1.327 0-1.968-.579-1.921-1.737.022-.602.378-1.182 1.064-1.738.687-.555 1.449-.834 2.288-.834.489 0 .896.192 1.223.574.325.382.477.77.454 1.163zm3.038 12.419c-.652 1.232-1.548 2.349-2.689 3.349-1.56 1.349-3.119 2.024-4.679 2.024-.723 0-1.275-.233-1.659-.699-.384-.465-.565-1.069-.541-1.814.022-.767.261-1.954.715-3.56.454-1.605.682-2.466.682-2.582 0-.605-.21-.908-.629-.908-.139 0-.536.245-1.188.733l-.803-.943c.745-.674 1.49-1.349 2.235-2.025 1.001-.884 1.746-1.35 2.236-1.397.768-.069 1.332.157 1.693.679.36.523.494 1.2.402 2.035-.303 1.415-.629 3.212-.978 5.392-.024.998.337 1.496 1.082 1.496.326 0 .908-.344 1.746-1.033.699-.574 1.269-1.114 1.712-1.62l.663.873"/><path d="M47.127 14.336c-.652 1.233-1.548 2.349-2.689 3.349-1.56 1.349-3.12 2.024-4.679 2.024-1.514 0-2.247-.837-2.2-2.513.022-.745.168-1.639.436-2.686.267-1.048.413-1.862.436-2.444.024-.883-.245-1.326-.806-1.326-.607 0-1.331.722-2.172 2.165-.887 1.514-1.367 2.98-1.436 4.4-.05 1.002.05 1.77.293 2.305-1.624.047-2.762-.221-3.411-.803-.582-.512-.848-1.361-.801-2.549.02-.745.136-1.49.343-2.235.205-.745.319-1.408.342-1.991.05-.861-.268-1.292-.944-1.292-.583 0-1.213.664-1.888 1.991-.676 1.326-1.049 2.712-1.119 4.155-.05 1.305.04 2.212.25 2.724-1.598.047-2.733-.29-3.404-1.01-.558-.603-.812-1.52-.765-2.751.02-.603.129-1.445.321-2.524.192-1.08.299-1.921.321-2.525.05-.417-.06-.627-.314-.627-.14 0-.536.236-1.188.707l-.838-.943c.117-.092.849-.768 2.2-2.025.978-.907 1.641-1.373 1.99-1.396.606-.047 1.094.203 1.467.75.372.547.559 1.182.559 1.903 0 .233-.02.454-.07.664.349-.535.756-1.002 1.222-1.398 1.071-.93 2.27-1.455 3.597-1.571 1.141-.093 1.955.174 2.445.803.395.512.581 1.246.558 2.2.163-.139.338-.291.525-.454.534-.628 1.058-1.128 1.57-1.501.861-.629 1.759-.978 2.689-1.048 1.118-.093 1.921.173 2.41.8.418.51.605 1.241.559 2.191-.024.65-.181 1.595-.472 2.836-.292 1.241-.436 1.953-.436 2.139-.024.488.023.824.139 1.009.117.186.395.278.838.278.326 0 .907-.344 1.746-1.034.698-.573 1.269-1.113 1.712-1.619l.664.872"/><path d="M52.295 10.654c.022-.625-.233-.938-.767-.938-.698 0-1.407.481-2.127 1.442-.721.961-1.093 1.882-1.116 2.762-.013 0-.013.151 0 .452 1.139-.417 2.127-1.053 2.964-1.911.674-.741 1.022-1.344 1.046-1.807zm7.927 3.646c-.675 1.117-2.002 2.232-3.981 3.348-2.467 1.418-4.971 2.126-7.508 2.126-1.885 0-3.237-.628-4.051-1.885-.582-.861-.861-1.885-.838-3.072.023-1.885.862-3.677 2.515-5.377 1.815-1.862 3.957-2.794 6.425-2.794 2.282 0 3.492.93 3.632 2.787.093 1.184-.559 2.404-1.956 3.658-1.49 1.371-3.365 2.241-5.622 2.612.418.581 1.046.871 1.885.871 1.676 0 3.504-.426 5.483-1.279 1.42-.599 2.538-1.221 3.353-1.866l.663.871"/><path d="M65.755 11.828c.023-.63-.064-1.207-.262-1.732-.198-.524-.484-.788-.855-.788-1.188 0-2.166.642-2.933 1.925-.653 1.05-1.003 2.17-1.048 3.358-.024.584.081 1.098.314 1.54.255.514.616.77 1.083.77 1.047 0 1.944-.617 2.689-1.854.628-1.027.965-2.1 1.012-3.219zm3.946.132c-.093 2.139-.884 3.987-2.374 5.544-1.49 1.557-3.342 2.336-5.553 2.336-1.839 0-3.236-.593-4.19-1.779-.698-.883-1.083-1.987-1.152-3.311-.118-2 .604-3.836 2.165-5.51 1.676-1.859 3.782-2.789 6.32-2.789 1.629 0 2.863.547 3.702 1.639.792 1 1.152 2.29 1.082 3.87"/></svg>
                {{elseif $event->online_type === "spotme"}}
                	<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 131 35"><defs><path id="spotme-a" d="M96.11 34.27h10.4v11.1h-10.4z"/><path id="spotme-e" d="M106.51 39.82c0 3.07-2.33 5.56-5.2 5.56s-5.2-2.49-5.2-5.56c0-3.06 2.33-5.55 5.2-5.55s5.2 2.49 5.2 5.55"/><path id="spotme-b" d="M127.4 68.4h-13.83V46.21h13.84z"/><path id="spotme-g" d="M113.72 64.98c.28-.4.52-.87.8-1.27s.71-.52 1.05-.24c.18.15 2.56 2.12 4.93 2.12 2.13 0 3.49-1.3 3.49-2.86 0-1.85-1.6-3.02-4.66-4.28-3.14-1.33-5.6-2.96-5.6-6.53 0-2.4 1.84-5.7 6.74-5.7 3.09 0 5.4 1.6 5.7 1.82.25.15.5.58.19 1.04l-.77 1.17c-.25.4-.65.59-1.08.31-.22-.12-2.37-1.54-4.16-1.54-2.6 0-3.48 1.63-3.48 2.77 0 1.76 1.35 2.84 3.91 3.89 3.58 1.44 6.63 3.14 6.63 6.9 0 3.2-2.87 5.81-6.88 5.81a10 10 0 0 1-6.62-2.43c-.28-.24-.5-.46-.19-.98"/><path id="spotme-h" d="M133.72 57.47v-7.7h4.2c2.1 0 3.86 1.62 3.86 3.73a3.91 3.91 0 0 1-3.86 3.97zM130.6 67.8c0 .31.24.6.58.6h1.97a.6.6 0 0 0 .58-.6v-7.29h4.4c3.72 0 6.79-3.13 6.79-6.98a6.87 6.87 0 0 0-6.81-6.86h-6.93a.58.58 0 0 0-.58.59z"/><path id="spotme-i" d="M157.71 65.9a8.01 8.01 0 0 1-7.95-8.03c0-4.4 3.6-8.1 7.95-8.1a8.1 8.1 0 0 1 7.98 8.1c0 4.43-3.59 8.03-7.98 8.03zm0-19.23c-6.14 0-11.02 5-11.02 11.2a11.03 11.03 0 1 0 22.07 0c0-6.2-4.9-11.2-11.05-11.2z"/><path id="spotme-j" d="M174.93 49.59h-4.99a.59.59 0 0 1-.58-.6v-1.73c0-.31.24-.59.58-.59h13.16c.33 0 .58.28.58.59V49c0 .3-.25.59-.58.59h-4.99V67.8a.6.6 0 0 1-.58.58h-2.02a.6.6 0 0 1-.58-.58z"/><path id="spotme-k" d="M187.43 47.13c.06-.24.3-.46.55-.46h.48c.18 0 .45.15.51.34l6.3 15.85h.13L201.67 47c.07-.19.3-.34.52-.34h.48c.24 0 .48.22.54.46l3.72 20.84c.09.44-.12.72-.55.72h-1.96a.63.63 0 0 1-.57-.44L201.6 54.4h-.08l-5.44 14.27c-.06.18-.24.34-.51.34h-.54c-.24 0-.46-.16-.52-.34l-5.46-14.27h-.12l-2.17 13.86c-.03.22-.3.44-.55.44h-1.96c-.42 0-.63-.28-.57-.72z"/><path id="spotme-c" d="M223.93 68.69v-21.9h-13.26v21.9h13.26z"/><path id="spotme-m" d="M210.67 47.38c0-.3.24-.59.58-.59h12.1c.34 0 .58.28.58.6v1.75c0 .3-.24.59-.57.59h-9.57v6.38h8.09c.3 0 .57.28.57.6v1.75c0 .34-.27.6-.57.6h-8.1v6.72h9.58c.33 0 .57.28.57.6v1.72c0 .3-.24.59-.57.59h-12.11a.58.58 0 0 1-.58-.6z"/><path id="spotme-n" d="M106.88 50.86c.08.1.09.22 0 .31-.3.36-1.08 1.24-1.57 1.78-.14.16-.4.05-.4-.16l.1-3.27c.01-.2.25-.3.4-.16l1.47 1.5zm-8.98-1.5a.23.23 0 0 1 .39.16l.1 3.27c0 .21-.26.32-.4.16-.5-.54-1.26-1.42-1.58-1.78a.23.23 0 0 1 .01-.3c.3-.33 1.03-1.06 1.48-1.5zm7.26 7.4c-.1-.35 0-.73.27-.97l4.66-4.16a.63.63 0 0 0 .02-.92c-.89-.87-2.7-2.6-3.7-3.6a1.53 1.53 0 0 0-1.08-.44h-7.36c-.4 0-.78.16-1.07.44l-3.71 3.6a.63.63 0 0 0 .02.92l4.66 4.16c.27.24.38.62.27.97l-2.8 9.29c-.08.23-1.65 1.58-2.27 2.12a.13.13 0 0 0 .09.22h5.55c.12 0 .22-.09.24-.21.95-5.7 1.71-8.42 2.24-9.74a.5.5 0 0 1 .92 0c.53 1.32 1.29 4.03 2.24 9.74.02.12.12.21.25.21h5.55c.11 0 .17-.14.08-.22-.62-.54-2.19-1.9-2.27-2.12z"/><clipPath id="spotme-d"><use xlink:href="#spotme-a"/></clipPath><clipPath id="spotme-f"><use xlink:href="#spotme-b"/></clipPath><clipPath id="spotme-l"><use xlink:href="#spotme-c"/></clipPath></defs><g clip-path="url(#spotme-d)" transform="translate(-93 -34)"><use fill="#e85224" xlink:href="#spotme-e"/></g><g clip-path="url(#spotme-f)" transform="translate(-93 -34)"><use fill="#e85224" xlink:href="#spotme-g"/></g><use fill="#e85224" xlink:href="#spotme-h" transform="translate(-93 -34)"/><use fill="#e85224" xlink:href="#spotme-i" transform="translate(-93 -34)"/><use fill="#e85224" xlink:href="#spotme-j" transform="translate(-93 -34)"/><use fill="#e85224" xlink:href="#spotme-k" transform="translate(-93 -34)"/><g clip-path="url(#spotme-l)" transform="translate(-93 -34)"><use fill="#e85224" xlink:href="#spotme-m"/></g><use fill="#353431" xlink:href="#spotme-n" transform="translate(-93 -34)"/></svg>
                {{endif}}
            </div>
        {{endif}}
	</div>

	<div class='cEvents__details'>
		<span class='cEvent__date'>
			{{if $event->_happening}}
	        	<span class="ipsBadge" title="{{if $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )}}
						{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->format( 'M' )} {$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->format( 'd' )}{{if !$event->all_day}}{{if $sameDay}},{{else}} at{{endif}} {$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->localeTime( FALSE )}{{endif}}
					{{else}}
						{$event->lastOccurrence( 'startDate' )->format('M')} {$event->lastOccurrence( 'startDate' )->format('d')}
						{{if !$event->all_day}}
							{$event->lastOccurrence( 'startDate' )->localeTime( FALSE )}
						{{endif}}
					{{endif}}
					{{if $event->_end_date}}
						 - 
						 {{if $event->nextOccurrence( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )}}
							{{if !$sameDay}}
								{$event->nextOccurrence( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )->format('M')} {$event->nextOccurrence( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )->format('d')}
							{{endif}}
							{{if !$event->all_day}}
								{{if !$sameDay}} at{{endif}} {$event->nextOccurrence( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )->localeTime( FALSE )}
							{{endif}}
						{{else}}
							{$event->lastOccurrence( 'endDate' )->format('M')} {$event->lastOccurrence( 'endDate' )->format('d')}{{if !$event->all_day}} {$event->lastOccurrence( 'endDate' )->localeTime( FALSE )}{{endif}}
						{{endif}}
					{{endif}}
					" data-ipsTooltip>{$event->_happening}</span>
	        {{else}}
				<time datetime='{expression="$event->_start_date->format( 'Y-m-d' )"}'>
					{{if $event->nextOccurrence( $date, 'startDate' )}}
                    <span data-controller="core.global.core.datetime" data-time="{$event->nextOccurrence( $date, 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}}, {{endif}}">
                        {$event->nextOccurrence( $date, 'startDate' )->calendarDate()}{{if !$event->all_day}}, {{endif}}
                    </span>
                    {{if !$event->all_day}}
                        <span data-controller="core.global.core.datetime" data-time="{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}">
                            {$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->localeTime( FALSE )}
                        </span>
                    {{endif}}
					{{else}}
                        <span data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}}, {{endif}}">
                            {$event->lastOccurrence( 'startDate' )->calendarDate()}{{if !$event->all_day}}, {{endif}}
                        </span>
                        {{if !$event->all_day}}
                        <span data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}">
                            {$event->lastOccurrence( 'startDate' )->localeTime( FALSE )}
                        </span>
                        {{endif}}
					{{endif}}
				</time>
				{{if $event->_end_date}}
					&nbsp;-&nbsp;
					<time datetime='{expression="$event->_end_date->format( 'Y-m-d' )"}'>
                        {{if $endDate = $event->nextOccurrence( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )}}
							{{if !$sameDay}}
                                <span data-controller="core.global.core.datetime" data-time="{$endDate->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}}, {{endif}}">
                                    {$endDate->calendarDate()}{{if !$event->all_day}}, {{endif}}
                                </span>
                            {{endif}}
                            {{if !$event->all_day}}
                                <span data-controller="core.global.core.datetime" data-time="{$endDate->format('c')}" data-format="{expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}">
                                    {$endDate->localeTime( FALSE )}
                                </span>
                            {{endif}}
						{{else}}
                            <span data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'endDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}">
                                {$event->lastOccurrence( 'endDate' )->calendarDate()}{{if !$event->all_day}} {$event->lastOccurrence( 'endDate' )->localeTime( FALSE )}{{endif}}
                            </span>
                        {{endif}}
					</time>
				{{endif}}
			{{endif}}
		</span>

		<h3 class='cEvents__title' data-ipsTruncate data-ipsTruncate-size='2 lines' data-ipsTruncate-type='remove'><a href='{$event->url()}'>{$event->title}</a></h3>

		<p class='cEvents__blurb'>
			{$event->truncated(TRUE, 400)}
		</p>
		{{if $event->container()->club() !== NULL || $event->venue || $event->location}}
		<hr class='ipsHr'>
			{{if $event->container()->club() !== NULL || $event->venue || $event->location}}
				<ul class='cEvent__eventMeta'>
					{{if $event->container()->club() !== NULL}}
						<li>
							<i class='fa fa-users'></i>
							<div><a href='{$event->container()->club()->url()}'>{$event->container()->club()->name}</a></div>
						</li>
					{{endif}}
					{{if $event->venue}}
						<li>
							<i class='fa fa-map-marker'></i>
							<div>{expression="\IPS\Member::loggedIn()->language()->get( $event->venue()->_titleLanguageKey )"}</div>
						</li>
					{{elseif $event->location}}
						{{$location = \IPS\GeoLocation::buildFromjson( $event->location );}}
						<li>
							<i class='fa fa-map-marker'></i>
							<div>{$location->toString()}</div>
						</li>
					{{endif}}
				</ul>
			{{endif}}
		{{endif}}

	</div>
</li>]]></template>
 <template template_group="events" template_name="featured" template_data="$featured" template_location="front" template_app="calendar"><![CDATA[
{{if \count( $featured )}}
	<div class='cFeaturedEvents' {{if \count( $featured ) > 1}}data-controller="calendar.front.overview.carousel"{{endif}}>
		<ul class='cFeaturedEvents__scroller'>
			{{foreach $featured as $idx => $event}}
				{template="featuredEvent" app="calendar" group="events" params="$event, $idx"}
			{{endforeach}}
		</ul>
		{{if \count( $featured ) > 1}}
			<div class='cFeaturedEvents__dots' aria-hidden='true'>
				{{foreach $featured as $idx => $item}}
					<button data-carousel-dot="{$idx + 1}"><span></span></button>
				{{endforeach}}
				<div class='cFeaturedEvents__current-dot'></div>
			</div>
		{{endif}}
	</div>
{{endif}}]]></template>
 <template template_group="events" template_name="featuredEvent" template_data="$event, $idx = 0" template_location="front" template_app="calendar"><![CDATA[
{{$image = FALSE;}}
{{$coverPhoto = $event->coverPhoto();}}
{{if $coverPhoto->file}}
	{{$image = $coverPhoto->file;}}
{{elseif $event->container()->club() !== NULL && $event->container()->club()->profile_photo}}
	{{$image = \IPS\File::get('core_Clubs', $event->container()->club()->profile_photo );}}
{{endif}}

<div data-item="{$idx + 1}" class='cFeaturedEvents__event cFeaturedEvents__event--{$idx + 1}'>
	{{if $image}}
		<img class='cFeaturedEvents__image' src='{$image->url}' alt=''>
	{{endif}}

	<div class='cFeaturedEvents__event-details'>
		<div class='cEvent__dateAside'>
			{{if $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )}}
				<span class='cEvent__dateAside__month'>{lang="_date_month_short" pluralize="$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->format( 'n' )"}</span>
				<span class='cEvent__dateAside__day'>{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->format( 'd' )}</span>
			{{else}}
				<span class='cEvent__dateAside__month'>{lang="_date_month_short" pluralize="$event->lastOccurrence( 'startDate' )->format( 'n' )"}</span>
				<span class='cEvent__dateAside__day'>{$event->lastOccurrence( 'startDate' )->format('d')}</span>
			{{endif}}
		</div>
		{{if $event->_happening}}
			<div class='ipsBadge'>{$event->_happening}</div>
        {{endif}}
		<h2 class='cFeaturedEvents__event-title ipsType_reset'>{$event->title}</h2>

		<p class='cEvent__date'>
            <time datetime='{expression="$event->_start_date->format( 'Y-m-d' )"}'>
                {{if $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )}}
                    <span data-controller="core.global.core.datetime" data-time="{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}}, {{endif}}">
                        {$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->calendarDate()}{{if !$event->all_day}}, {{endif}}
                    </span>
                    {{if !$event->all_day}}
                        <span data-controller="core.global.core.datetime" data-time="{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}">
                            {$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->localeTime( FALSE )}
                        </span>
                    {{endif}}
                    {{else}}
                        <span data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}}, {{endif}}">
                            {$event->lastOccurrence( 'startDate' )->calendarDate()}{{if !$event->all_day}}, {{endif}}
                        </span>
                        {{if !$event->all_day}}
                        <span data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}">
                            {$event->lastOccurrence( 'startDate' )->localeTime( FALSE )}
                        </span>
                    {{endif}}
                {{endif}}
            </time>

            {{if $event->_end_date}}
            &nbsp;-&nbsp;
            <time datetime='{expression="$event->_end_date->format( 'Y-m-d' )"}'>
                {{$sameDay = FALSE;}}
                {{if $event->_end_date}}
                    {{$sameDay = !( ($event->_start_date->mday != $event->_end_date->mday) or ($event->_start_date->mon != $event->_end_date->mon) or ($event->_start_date->year != $event->_end_date->year) );}}
                {{endif}}
                {{if $endDate = $event->nextOccurrence( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )}}
                {{if !$sameDay}}
                    <span data-controller="core.global.core.datetime" data-time="{$endDate->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}}, {{endif}}">
                        {$endDate->calendarDate()}{{if !$event->all_day}}, {{endif}}
                    </span>
                {{endif}}
                    {{if !$event->all_day}}
                        <span data-controller="core.global.core.datetime" data-time="{$endDate->format('c')}" data-format="{expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}">
                            {$endDate->localeTime( FALSE )}
                        </span>
                    {{endif}}
                {{else}}
                    <span data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'endDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}">
                        {$event->lastOccurrence( 'endDate' )->calendarDate()}{{if !$event->all_day}} {$event->lastOccurrence( 'endDate' )->localeTime( FALSE )}{{endif}}
                    </span>
                {{endif}}
            </time>
            {{endif}}
		</p>

		<p class='cEvents__blurb'>
			{$event->truncated(TRUE, 400)}
		</p>

		{{if ($event->club_associations && \count( $event->getAssociatedClubs() )) || $event->venue || $event->location}}
			<ul class='cFeaturedEvents__meta'>
				{{if $event->club_associations && \count( $event->getAssociatedClubs() )}}
					{{$clubNames = [];}}
					{{foreach $event->getAssociatedClubs() as $club}}
						{{$clubNames[] = $club->name;}}
					{{endforeach}}
					{{shuffle( $clubNames );}}
					<li>
						<i class='fa fa-globe'></i> {expression="implode(', ', $clubNames )"}
					</li>
				{{elseif $event->container()->club() !== NULL}}
					<li>
						<i class='fa fa-globe'></i> {$event->container()->club()->name}
					</li>
				{{endif}}
				{{if $event->venue || $event->location}}
					{{if $event->venue}}
						<li><i class='fa fa-map-marker'></i> {lang="calendar_venue_{$event->venue()->id}" escape="true"}</li>
					{{elseif $event->location}}
						{{$location = \IPS\GeoLocation::buildFromjson( $event->location );}}
						<li><i class='fa fa-map-marker'></i> {$location->toString()}</li>
					{{endif}}
				{{endif}}
			</ul>
		{{endif}}

		<a href='{$event->url()}' class='cFeaturedEvents__event-link'><span>View event</span></a>
	</div>
</div>]]></template>
 <template template_group="events" template_name="nearMe" template_data="$nearme, $mapMarkers" template_location="front" template_app="calendar"><![CDATA[
<section class='ipsBox ipsMargin_bottom' data-controller='calendar.front.overview.nearMe' {{if settings.googlemaps AND !settings.mapbox}}data-nearme-use-google data-googlemaps-api-key='{setting="google_maps_api_key"}'{{endif}}>

	<div style="display:flex;justify-content: space-between;align-items: center;">
		<h2 class='ipsType_sectionTitle'>{lang="events_happening_near_you"}</h2>

		<ul class="ipsList_reset">

			<li class='ipsFieldRow ipsFieldRow_checkbox' style="margin-right:15px;">
				<span class='ipsCustomInput'>
					<input type='checkbox' id='useCurrentLocation'> 
					<span></span>
				</span>
				<div class='ipsFieldRow_content'>
					<label for='useCurrentLocation'>{lang="events_search_use_location"}</label>
				</div>
			</li>
		</ul>
	</div>

	<div class='ipsPadding ipsAreaBackground_light ipsRadius:bl ipsRadius:br'>
		<p class='ipsType_reset ipsType_light ipsType_small ipsMargin_bottom'>{lang="showing_events_near_you"} <a href='{url="app=calendar&do=search&form_submitted=1&lat=0&lon=0"}' data-role='nearMeLink' data-action='moreNearMe'>{lang="see_more_events_near_you"} <i class='fa fa-angle-right'></i></a></p>
		<div class='nearMe ipsJS_hide' data-role='locationEvents'>
			{template="nearMeContent" group="events" app="calendar" params="$nearme, $mapMarkers"}
		</div>
	</div>
</section>]]></template>
 <template template_group="events" template_name="nearMeContent" template_data="$nearme, $mapMarkers" template_location="front" template_app="calendar"><![CDATA[
{{if \count( $nearme )}}
	<ul class='eventList nearMe__events'>
		<li class='nearMe__map' id='map' data-markers="{expression="json_encode( $mapMarkers )"}">

		</li>
		{{foreach $nearme as $event}}
			{template="event" group="events" app="calendar" params="$event"}
		{{endforeach}}
	</ul>
{{else}}
	<div class='ipsType_light ipsType_normal'>
        {lang="events_near_you_soon"}
	</div>
{{endif}}]]></template>
 <template template_group="events" template_name="noEvents" template_data="" template_location="front" template_app="calendar"><![CDATA[<div class='ipsType_light ipsType_large'>{lang="no_events_month"}</div>]]></template>
 <template template_group="events" template_name="online" template_data="$events" template_location="front" template_app="calendar"><![CDATA[{{if \count( $events )}}
	<section class='ipsBox ipsMargin_bottom'>
		<h2 class='ipsType_sectionTitle'>{lang="events_online_events"}</h2>
		<div class='ipsPadding ipsAreaBackground_light ipsRadius:bl ipsRadius:br'>
			<ul class='eventList'>
				{{foreach $events as $event}}
					{template="event" app="calendar" group="events" params="$event, 'small'"}
				{{endforeach}}
			</ul>
		</div>
	</section>
{{endif}}]]></template>
 <template template_group="events" template_name="searchResults" template_data="$results" template_location="front" template_app="calendar">{{if \count($results)}}
	{{foreach $results as $event}}
		{template=&quot;event&quot; group=&quot;events&quot; app=&quot;calendar&quot; params=&quot;$event&quot;}
	{{endforeach}}
{{endif}}</template>
 <template template_group="events" template_name="searchResultsWrapper" template_data="$results=array(), $mapMarkers=NULL" template_location="front" template_app="calendar"><![CDATA[
<div class='cEvents__searchTools'>
	<a href='{url="app=calendar"}' class='ipsType_normal cEvents__searchTools__back' data-action='backToOverview'><i class='fa fa-angle-left'></i> {lang="events_search_back_to_overview"}</a>
	<a href='#' class='ipsType_normal ipsType_blendLinks cEvents__searchTools__sort' id='elSortMenu' data-ipsMenu data-ipsMenu-selectable='radio'>
		<strong>{lang="events_search_sort_by"}</strong> <span data-role='searchOrder'>{lang="events_search_distance"}</span> <i class='fa fa-caret-down'></i>
	</a>
	<ul id='elSortMenu_menu' class='ipsMenu ipsMenu_selectable ipsMenu_radio ipsHide'>
		<li class='ipsMenu_item ipsMenu_itemChecked' data-ipsMenuValue='nearest'>
			<a href='#'>{lang="events_search_distance"}</a>
		</li>
		<li class='ipsMenu_item' data-ipsMenuValue='date'>
			<a href='#'>{lang="events_search_date"}</a>
		</li>
	</ul>
</div>
<div class='cEvents__searchMap cEvents__searchMap--loading event ipsAreaBackground ipsPad ipsSpacer_bottom ipsSpacer_double' data-role='searchResultsMap' {{if $mapMarkers}}data-markers="{$mapMarkers}"{{endif}}></div>
<ul class='eventList {{if !\count( $results )}}ipsHide{{endif}}' data-role='searchResults'>
	{template="searchResults" app="calendar" group="events" params="$results"}
</ul>
<div class='ipsPad ipsType_center'>
	<button class='ipsButton ipsButton_light ipsButton_normal ipsHide' data-action='loadMoreSearch'>{lang="events_search_show_more"}</button>
	<p class='ipsType_center ipsType_normal ipsType_light ipsHide' data-role='noMoreSearchResults'>{lang="events_search_no_events"}</p>
</div>
<div class='ipsAreaBackground_light ipsPad_double ipsType_center ipsType_large ipsType_light {{if \count( $results )}}ipsHide{{endif}}' data-role='noSearchResults'>
    {lang="events_search_no_events_long"}
</div>]]></template>
 <template template_group="global" template_name="commentTableHeader" template_data="$comment, $event" template_location="front" template_app="calendar"><![CDATA[
<div class='ipsFlex ipsFlex-ai:center sm:ipsFlex-ai:start sm:ipsMargin_top:double'>
	{{$date = ( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) == NULL ) ? $event->lastOccurrence() : $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' );}}
	<div class='ipsFlex-flex:00 ipsMargin_right sm:ipsMargin_right:half'>
		<time datetime='{$date->mysqlDatetime()}' class='ipsCalendarDate ipsCalendarDate_large'>
			<span class='ipsCalendarDate_month'>{$date->monthNameShort}</span>
			<span class='ipsCalendarDate_date'>{$date->mday}</span>
		</time>
	</div>
	<div>
		<h3 class='ipsType_sectionHead'><a href='{$event->url( "getPrefComment" )}'title='{lang="view_this_event" sprintf="$event->title"}'>{$event->title}</a></h3>
		<p class='ipsType_normal ipsType_light ipsType_blendLinks ipsType_reset'>{lang="in"} <a href='{$event->container()->url()}'>{$event->container()->_title}</a></p>
		{{if $event->container()->allow_reviews}}
			{template="rating" group="global" location="front" app="core" params="'large', $event->rating, \IPS\Settings::i()->reviews_rating_out_of"} &nbsp;&nbsp;
		{{endif}}

		<span class='ipsType_medium ipsType_reset'>{{if $event->container()->allow_comments}}&nbsp;&nbsp;{{if !$event->comments}}<span class='ipsType_light'>{{endif}}<i class='fa fa-comment'></i> {$event->comments}{{endif}}{{if !$event->comments}}</span>{{endif}}</span>
	</div>
</div>]]></template>
 <template template_group="global" template_name="embedEvent" template_data="$item, $url, $image=NULL" template_location="front" template_app="calendar"><![CDATA[
<div data-embedInfo-maxSize='{{if settings.max_internalembed_width}}{setting="max_internalembed_width"}{{else}}100%{{endif}}' class='ipsRichEmbed'>
	{template="embedHeader" group="embed" app="core" params="$item, $item->mapped('title'), $item->mapped('date'), $url"}

	{{if $item->map( 500, 100 )}}
		<div class='ipsRichEmbed_masthead ipsType_center'>
			<a href='{$url}' title='{$item->mapped('title')}'>
				{$item->map( 500, 100 )|raw}
			</a>
		</div>
	{{elseif $item->coverPhoto() && $item->coverPhoto()->file}}
		{{$photo = $item->coverPhoto()->file;}}
		<div class='ipsRichEmbed_masthead ipsRichEmbed_mastheadBg ipsType_center'>
			<a href='{$url}' title='{$item->mapped('title')}' style='background-image: url( "{expression="str_replace( array( '(', ')' ), array( '\(', '\)' ), $photo->url )"}") '>
				<img src='{$photo->url}' alt='{$item->mapped('title')}' class='ipsHide'>
			</a>
		</div>
	{{endif}}
	<div class='ipsPadding ipsClearfix'>
		<div class='ipsPhotoPanel ipsPhotoPanel_medium'>
			<span class='cCalendarEmbed_calendar ipsPos_left ipsType_blendLinks'>
				<a href='{$url}'>
					{{$nextOccurrence = $item->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: $item->lastOccurrence( 'startDate' );}}
					<time datetime='{$nextOccurrence->mysqlDatetime()}' class='ipsCalendarDate'>
						<span class='ipsCalendarDate_month'>{$nextOccurrence->monthNameShort}</span>
						<span class='ipsCalendarDate_date'>{$nextOccurrence->mday}</span>
					</time>
				</a>
			</span>
			<div>
				<div class='ipsType_reset ipsType_medium'>
					{{if $item->_end_date}}
						<dl class='cCalendarEmbed_dates ipsSpacer_top ipsSpacer_half'>
							<dt class='ipsType_light'>{lang="from"}</dt>
							<dd>
								<time datetime='{expression="$item->_start_date->format( 'Y-m-d' )"}'>
									{$item->_start_date->dayName} {$item->_start_date->mday} {$item->_start_date->monthName} {$item->_start_date->year}{{if !$item->all_day}}, {$item->_start_date->localeTime( FALSE )}{{endif}}
								</time>
							</dd>
							<dt class='ipsType_light'>{lang="until"}</dt>
							<dd>
								<time datetime='{expression="$item->_end_date->format( 'Y-m-d' )"}'>
									{{$sameDay = !( ($item->_start_date->mday != $item->_end_date->mday) or ($item->_start_date->mon != $item->_end_date->mon) or ($item->_start_date->year != $item->_end_date->year) );}}
									{{if !$sameDay}}{$item->_end_date->dayName} {$item->_end_date->mday} {$item->_end_date->monthName} {$item->_end_date->year}{{endif}}{{if !$item->all_day}}{{if !$sameDay}}, {{endif}}{$item->_end_date->localeTime( FALSE )}{{endif}}
								</time>
							</dd>
						</dl>
					{{else}}
						<p class='ipsSpacer_top ipsSpacer_half'>
							<time datetime='{expression="$item->_start_date->format( 'Y-m-d' )"}'>
								{$item->_start_date->dayName} {$item->_start_date->mday} {$item->_start_date->monthName} {$item->_start_date->year}{{if !$item->all_day}}, {$item->_start_date->localeTime( FALSE )}{{endif}}
							</time>
						</p>
					{{endif}}
				</div>
				{{if $desc = $item->truncated(TRUE)}}
					<div class='ipsType_richText ipsType_medium ipsSpacer_top ipsSpacer_half' data-truncate='1'>
						{$desc|raw}
					</div>
				{{endif}}
			</div>

			{{if $item->rsvp}}
				{{$attendees = $item->attendees();}}
				<hr class='ipsHr'>
				<ul class='ipsList_inline ipsSpacer_bottom ipsSpacer_half ipsType_normal'>
					{{if isset( $attendees[1][ \IPS\Member::loggedIn()->member_id ] )}}
						<li class='ipsType_success'>
							<i class='fa fa-check-circle'></i>
							{lang="you_are_going"}
						</li>
					{{elseif isset( $attendees[0][ \IPS\Member::loggedIn()->member_id ] )}}
						<li class='ipsType_negative'>
							<i class='fa fa-times-circle'></i>
							{lang="you_arent_going"}
						</li>
					{{elseif $item->can('rsvp') && !( $item->rsvp_limit > 0 AND \count($attendees[1]) >= $item->rsvp_limit )}}
						<li>
							<ul class='ipsList_inline ipsList_noSpacing'>
								<li>
									<a href='{$item->url('rsvp')->setQueryString( 'action', 'yes' )->csrf()}' class='ipsButton ipsButton_important ipsButton_fullWidth ipsButton_verySmall'>{lang="rsvp_attend_event"}</a>
								</li>
								{{if $item->rsvp_limit == -1}}
									<li>
										<a href='{$item->url('rsvp')->setQueryString( 'action', 'maybe' )->csrf()}' class='ipsButton ipsButton_link ipsButton_verySmall'>{lang="rsvp_maybe_event"}</a>
									</li>
								{{endif}}
								<li>
									<a href='{$item->url('rsvp')->setQueryString( 'action', 'no' )->csrf()}' class='ipsButton ipsButton_link ipsButton_verySmall'>{lang="rsvp_notgoing_event"}</a>
								</li>
							</ul>
						</li>
					{{endif}}

					<li class='{{if !\count($attendees[1])}}ipsType_light{{endif}}'>
						<i class='fa fa-user'></i> {lang="x_users_going" pluralize="\count($attendees[1])"}
					</li>
				</ul>
			{{endif}}
		</div>
		{template="embedItemStats" group="embed" app="core" params="$item"}
	</div>
</div>]]></template>
 <template template_group="global" template_name="embedEventComment" template_data="$comment, $item, $url" template_location="front" template_app="calendar"><![CDATA[
<div data-embedInfo-maxSize='{{if settings.max_internalembed_width}}{setting="max_internalembed_width"}{{else}}100%{{endif}}' class='ipsRichEmbed'>
	{template="embedHeader" group="embed" app="core" params="$comment, $item->mapped('title'), $comment->mapped('date'), $url"}
	<div class='ipsPadding'>
		<div class='ipsRichEmbed_originalItem ipsAreaBackground_reset ipsSpacer_bottom ipsType_blendLinks'>
			<div>
				{{if $item->map( 500, 100 )}}
					<div class='ipsRichEmbed_masthead ipsRichEmbed_masthead_small ipsType_center'>
						<a href='{$url}' title='{$item->mapped('title')}'>
							{$item->map( 500, 100 )|raw}
						</a>
					</div>
				{{elseif $item->coverPhoto() && $item->coverPhoto()->file}}
					{{$photo = $item->coverPhoto()->file;}}
					<div class='ipsRichEmbed_masthead ipsRichEmbed_masthead_small ipsRichEmbed_mastheadBg ipsType_center'>
						<a href='{$url}' title='{$item->mapped('title')}' style='background-image: url( "{expression="str_replace( array( '(', ')' ), array( '\(', '\)' ), $photo->url )"}") '>
							<img src='{$photo->url}' alt='{$item->mapped('title')}' class='ipsHide'>
						</a>
					</div>
				{{endif}}
				<div class='ipsPadding'>
					<div class='ipsPhotoPanel ipsPhotoPanel_small'>
						<span class='cCalendarEmbed_calendar ipsPos_left ipsType_blendLinks'>
							<a href='{$url}'>
								{{$nextOccurrence = $item->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: $item->lastOccurrence( 'startDate' );}}
								<time datetime='{$nextOccurrence->mysqlDatetime()}' class='ipsCalendarDate'>
									<span class='ipsCalendarDate_month'>{$nextOccurrence->monthNameShort}</span>
									<span class='ipsCalendarDate_date'>{$nextOccurrence->mday}</span>
								</time>
							</a>
						</span>
						<div>
							{template="embedOriginalItem" group="embed" app="core" params="$item, FALSE, \IPS\Theme::i()->getTemplate( 'global', 'calendar' )->embedEventItemSnippet( $item )"}
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class='ipsType_richText ipsType_medium' data-truncate='3'>
			{$comment->truncated(TRUE)|raw}
		</div>

		{{if settings.reputation_enabled AND \IPS\IPS::classUsesTrait( $comment, 'IPS\Content\Reactable' ) AND \count( $comment->reactions() )}}
			<ul class='ipsList_inline ipsSpacer_top ipsSpacer_half'>
				<li>
					{template="reactionOverview" app="core" group="global" params="$comment, TRUE, 'small'"}
				</li>
			</ul>
		{{endif}}
	</div>
</div>]]></template>
 <template template_group="global" template_name="embedEventItemSnippet" template_data="$item" template_location="front" template_app="calendar"><![CDATA[
{{if $item->_end_date}}
	<dl class='cCalendarEmbed_dates ipsSpacer_top ipsSpacer_half'>
		<dt class='ipsType_light'>{lang="from"}</dt>
		<dd>
			<time datetime='{expression="$item->_start_date->format( 'Y-m-d' )"}'>
				{$item->_start_date->dayName} {$item->_start_date->mday} {$item->_start_date->monthName} {$item->_start_date->year}{{if !$item->all_day}}, {$item->_start_date->localeTime( FALSE )}{{endif}}
			</time>
		</dd>
		<dt class='ipsType_light'>{lang="until"}</dt>
		<dd>
			<time datetime='{expression="$item->_end_date->format( 'Y-m-d' )"}'>
				{{$sameDay = !( ($item->_start_date->mday != $item->_end_date->mday) or ($item->_start_date->mon != $item->_end_date->mon) or ($item->_start_date->year != $item->_end_date->year) );}}
				{{if !$sameDay}}{$item->_end_date->dayName} {$item->_end_date->mday} {$item->_end_date->monthName} {$item->_end_date->year}{{endif}}{{if !$item->all_day}}{{if !$sameDay}}, {{endif}}{$item->_end_date->localeTime( FALSE )}{{endif}}
			</time>
		</dd>
	</dl>
{{else}}
	<p class='ipsSpacer_top ipsSpacer_half'>
		<time datetime='{expression="$item->_start_date->format( 'Y-m-d' )"}'>
			{$item->_start_date->dayName} {$item->_start_date->mday} {$item->_start_date->monthName} {$item->_start_date->year}{{if !$item->all_day}}, {$item->_start_date->localeTime( FALSE )}{{endif}}
		</time>
	</p>
{{endif}}]]></template>
 <template template_group="global" template_name="embedEventReview" template_data="$comment, $item, $url" template_location="front" template_app="calendar"><![CDATA[
<div data-embedInfo-maxSize='{{if settings.max_internalembed_width}}{setting="max_internalembed_width"}{{else}}100%{{endif}}' class='ipsRichEmbed'>
	{template="embedHeader" group="embed" app="core" params="$comment, $item->mapped('title'), $comment->mapped('date'), $url"}
	<div class='ipsPadding'>
		<div class='ipsRichEmbed_originalItem ipsAreaBackground_reset ipsSpacer_bottom ipsType_blendLinks'>
			<div>
				{{if $item->map( 500, 100 )}}
					<div class='ipsRichEmbed_masthead ipsRichEmbed_masthead_small ipsType_center'>
						<a href='{$url}' title='{$item->mapped('title')}'>
							{$item->map( 500, 100 )|raw}
						</a>
					</div>
				{{elseif $item->coverPhoto() && $item->coverPhoto()->file}}
					{{$photo = $item->coverPhoto()->file;}}
					<div class='ipsRichEmbed_masthead ipsRichEmbed_masthead_small ipsRichEmbed_mastheadBg ipsType_center'>
						<a href='{$url}' title='{$item->mapped('title')}' style='background-image: url( "{expression="str_replace( array( '(', ')' ), array( '\(', '\)' ), $photo->url )"}") '>
							<img src='{$photo->url}' alt='{$item->mapped('title')}' class='ipsHide'>
						</a>
					</div>
				{{endif}}
				<div class='ipsPadding'>
					<div class='ipsPhotoPanel ipsPhotoPanel_small'>
						<span class='cCalendarEmbed_calendar ipsPos_left ipsType_blendLinks'>
							<a href='{$url}'>
								{{$nextOccurrence = $item->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: $item->lastOccurrence( 'startDate' );}}
								<time datetime='{$nextOccurrence->mysqlDatetime()}' class='ipsCalendarDate'>
									<span class='ipsCalendarDate_month'>{$nextOccurrence->monthNameShort}</span>
									<span class='ipsCalendarDate_date'>{$nextOccurrence->mday}</span>
								</time>
							</a>
						</span>
						<div>
							{template="embedOriginalItem" group="embed" app="core" params="$item, FALSE, \IPS\Theme::i()->getTemplate( 'global', 'calendar' )->embedEventItemSnippet( $item )"}
						</div>
					</div>
				</div>
			</div>
		</div>

		{template="rating" app="core" params="'veryLarge', $comment->mapped('rating')" group="global"} 
		{{if $comment->mapped('votes_total')}}
			<p class='ipsType_reset ipsType_medium'>{$comment->helpfulLine()|raw}</p>
		{{endif}}
		<hr class='ipsHr'>
		<div class='ipsType_richText ipsType_medium ipsSpacer_top ipsSpacer_half' data-truncate='3'>
			{$comment->truncated(TRUE)|raw}
		</div>

		{{if settings.reputation_enabled AND \IPS\IPS::classUsesTrait( $comment, 'IPS\Content\Reactable' ) AND \count( $comment->reactions() )}}
			<ul class='ipsList_inline ipsSpacer_top ipsSpacer_half'>
				<li>
					{template="reactionOverview" app="core" group="global" params="$comment, TRUE, 'small'"}
				</li>
			</ul>
		{{endif}}
	</div>
</div>]]></template>
 <template template_group="global" template_name="manageFollowRow" template_data="$table, $headers, $rows, $includeFirstCommentInCommentCount=TRUE" template_location="front" template_app="calendar"><![CDATA[{{if \count( $rows )}}
	{{foreach $rows as $row}}
	{{$idField = $row::$databaseColumnId;}}
		<li class="ipsDataItem ipsDataItem_responsivePhoto {{if $row->unread()}}ipsDataItem_unread{{endif}} {{if method_exists( $row, 'tableClass' ) && $row->tableClass()}}ipsDataItem_{$row->tableClass()}{{endif}} {{if $row->hidden()}}ipsModerated{{endif}}" data-controller='core.front.system.manageFollowed' data-followID='{$row->_followData['follow_area']}-{$row->_followData['follow_rel_id']}'>
			<div class='ipsDataItem_generic ipsDataItem_size2 ipsDataItem_imageColumn'>
				{{if $row->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )}}
					<time datetime='{$row->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->mysqlDatetime()}' class='ipsCalendarDate ipsCalendarDate_large'>
						<span class='ipsCalendarDate_month'>{$row->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->monthNameShort}</span>
						<span class='ipsCalendarDate_date'>{$row->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->mday}</span>
					</time>
				{{else}}
					<time datetime='{$row->lastOccurrence( 'startDate' )->mysqlDatetime()}' class='ipsCalendarDate ipsCalendarDate_large'>
						<span class='ipsCalendarDate_month'>{$row->lastOccurrence( 'startDate' )->monthNameShort}</span>
						<span class='ipsCalendarDate_date'>{$row->lastOccurrence( 'startDate' )->mday}</span>
					</time>
				{{endif}}
			</div>
			<div class='ipsDataItem_main ipsPos_middle'>
				<h4 class='ipsDataItem_title ipsContained_container'>
					{{if $row->mapped('locked')}}
						<i class="fa fa-lock"></i>
					{{endif}}

					{{if $row->mapped('pinned') || $row->mapped('featured') || $row->hidden() === -1 || $row->hidden() === 1}}
						<span>
							{{if $row->hidden() === -1}}
								<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning" data-ipsTooltip title='{$row->hiddenBlurb()}'><i class='fa fa-eye-slash'></i></span>
							{{elseif $row->hidden() === 1}}
								<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>
							{{endif}}							
							{{if $row->mapped('pinned')}}
								<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
							{{endif}}
							{{if $row->mapped('featured')}}
								<span class="ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
							{{endif}}
						</span>
					{{endif}}

					{{if $row->prefix()}}
						<span>{template="prefix" group="global" app="core" params="$row->prefix( TRUE ), $row->prefix()"}</span>
					{{endif}}
					
					<span class='ipsType_break ipsContained'>
						<a href='{$row->url( "getPrefComment" )}'>
							{{if $row->mapped('title')}}{$row->mapped('title')}{{else}}<em class="ipsType_light">{lang="content_deleted"}</em>{{endif}}
						</a>
					</span>
				</h4>
				<div class='ipsDataItem_meta ipsType_light ipsType_blendLinks' data-ipsTruncate data-ipsTruncate-size='2 lines' data-ipsTruncate-type='remove'>
					{{if method_exists( $row, 'tableDescription' )}}
						{$row->tableDescription()|raw}
					{{else}}
                        {lang="byline" htmlsprintf="$row->author()->link( $row->warningRef() )"}{datetime="$row->__get( $row::$databaseColumnMap['date'] )"}
						{lang="in"} <a href="{$row->container()->url()}">{$row->container()->_title}</a>
					{{endif}}
				</div>				
			</div>

			<div class='ipsDataItem_generic ipsDataItem_size1 ipsType_center ipsType_large cFollowedContent_anon'>
				<span class='ipsBadge ipsBadge_icon ipsBadge_new {{if !$row->_followData['follow_is_anon']}}ipsHide{{endif}}' data-role='followAnonymous' data-ipsTooltip title='{lang="follow_is_anon"}'><i class='fa fa-eye-slash'></i></span>
			</div>

			<div class='ipsDataItem_generic ipsDataItem_size6 cFollowedContent_info'>
				<ul class='ipsList_reset'>
					<li title='{lang="follow_when"}' data-role='followDate'><i class='fa fa-clock-o'></i> {datetime="$row->_followData['follow_added']"}</li>
					<li title='{lang="follow_how"}' data-role='followFrequency'>
						{{if $row->_followData['follow_notify_freq'] == 'none'}}
							<i class='fa fa-bell-slash-o'></i>
						{{else}}
							<i class='fa fa-bell'></i>
						{{endif}} {lang="follow_freq_{$row->_followData['follow_notify_freq']}"}
					</li>
				</ul>
			</div>

			<div class='ipsDataItem_generic ipsDataItem_size6 ipsType_center cFollowedContent_manage'>
				{template="manageFollow" group="system" app="core" params="$row->_followData['follow_app'], $row->_followData['follow_area'], $row->_followData['follow_rel_id']"}
			</div>

			{{if $table->canModerate()}}
				<div class='ipsDataItem_modCheck'>
					<span class='ipsCustomInput'>
						<input type='checkbox' data-role='moderation' name="moderate[{$row->$idField}]" data-actions="{expression="implode( ' ', $table->multimodActions( $row ) )"}" data-state='{{if $row->tableStates()}}{$row->tableStates()}{{endif}}'>
						<span></span>
					</span>
				</div>
			{{endif}}

		</li>
	{{endforeach}}
{{endif}}
]]></template>
 <template template_group="global" template_name="rows" template_data="$table, $headers, $rows" template_location="front" template_app="calendar"><![CDATA[{{if \count( $rows )}}
	{{foreach $rows as $row}}
		<li class="ipsDataItem {{if method_exists( $row, 'tableClass' ) && $row->tableClass()}}ipsDataItem_{$row->tableClass()}{{endif}} {{if $row->hidden()}}ipsModerated{{endif}}">
			<div class='ipsDataItem_generic ipsDataItem_size3 ipsPos_top'>
				{{if $row->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )}}
					<time datetime='{$row->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->mysqlDatetime()}' class='ipsCalendarDate ipsCalendarDate_large'>
						<span class='ipsCalendarDate_month'>{$row->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->monthNameShort}</span>
						<span class='ipsCalendarDate_date'>{$row->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->mday}</span>
					</time>
				{{else}}
					<time datetime='{$row->lastOccurrence( 'startDate' )->mysqlDatetime()}' class='ipsCalendarDate ipsCalendarDate_large'>
						<span class='ipsCalendarDate_month'>{$row->lastOccurrence( 'startDate' )->monthNameShort}</span>
						<span class='ipsCalendarDate_date'>{$row->lastOccurrence( 'startDate' )->mday}</span>
					</time>
				{{endif}}
			</div>
			<div class='ipsDataItem_main'>
				<h4 class='ipsDataItem_title ipsType_sectionHead ipsContained_container'>
					{{if $row->mapped('locked')}}
						<i class="fa fa-lock"></i>
					{{endif}}
					
					{{if $row->mapped('pinned') || $row->mapped('featured') || $row->hidden() === -1 || $row->hidden() === 1}}
						{{if $row->hidden() === -1}}
							<span class="ipsBadge ipsBadge_small ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$row->hiddenBlurb()}'><i class='fa fa-eye-slash'></i></span>
						{{elseif $row->hidden() === 1}}
							<span class="ipsBadge ipsBadge_small ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>
						{{endif}}
						{{if $row->mapped('pinned')}}
							<span class="ipsBadge ipsBadge_small ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span>
						{{endif}}
						{{if $row->mapped('featured')}}
							<span class="ipsBadge ipsBadge_small ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span>
						{{endif}}
					{{endif}}
					
					{{if $row->prefix()}}
						<span>{template="prefix" group="global" app="core" params="$row->prefix( TRUE ), $row->prefix()"}</span>
					{{endif}}
					
					<span class='ipsType_break ipsContained'>
						<a href='{$row->url( "getPrefComment" )}' {{if $row->tableHoverUrl}}data-ipsHover{{endif}}>
							{{if $row->mapped('title')}}{$row->mapped('title')}{{else}}<em class="ipsType_light">{lang="content_deleted"}</em>{{endif}}
						</a>
					</span>
				</h4>
				<div class='ipsDataItem_meta ipsType_light ipsType_blendLinks'>
					{$row->eventBlurb()|raw}
				</div>

				{{if $row->rsvp}}
					{{if $attendees = $row->attendees() and isset( $attendees[1][ \IPS\Member::loggedIn()->member_id ] ) }}
						<p class='ipsType_large ipsType_success'><strong><i class='fa fa-check-circle'></i> {lang="you_are_going_to_this"}</strong></p>
					{{else}}
						<p class='ipsType_large ipsType_light ipsFaded'><strong><i class='fa fa-times-circle'></i> {lang="you_are_not_going_to_this"}</strong></p>
					{{endif}}

					{{if \count( $attendees[1] )}}
						<ul class='ipsList_inline'>
							<li class='ipsType_light'>{lang="rsvp_attend_event"}:</li>
							{{foreach $attendees[1] as $idx => $attendee}}
								{{if $idx < 6}}
									<li>{template="userPhoto" group="global" app="core" params="$attendee, 'tiny', NULL, NULL, TRUE"}</li>
								{{endif}}
							{{endforeach}}
							{{if \count( $attendees[1] ) > 5}}
								<li class='ipsType_light'>{lang="and_x_more" pluralize="\count( $attendees[1] ) - 5"}</li>
							{{endif}}
						</ul>
					{{endif}}
				{{endif}}
				{{if \count( $row->tags() )}}
					&nbsp;&nbsp;
					{template="tags" group="global" app="core" params="$row->tags(), true, true"}
				{{endif}}
			</div>
			<div class='ipsDataItem_generic ipsDataItem_size8'>
				{{if $row->container()->allow_reviews}}
					{template="rating" group="global" location="front" app="core" params="'large', $row->averageReviewRating(), \IPS\Settings::i()->reviews_rating_out_of, $row->memberReviewRating()"}&nbsp;&nbsp; <span class='ipsType_normal ipsType_light'>({lang="num_reviews" pluralize="$row->reviews"})</span>
				{{endif}}
				{{if $row->container()->allow_comments}}
					<p class='ipsType_normal'>
						{{if $row->comments}}
							<a href='{$row->url()->setQueryString( 'tab', 'comments' )->setFragment('replies')}'>
						{{endif}}
						<i class='fa fa-comment'></i> {lang="num_comments" pluralize="$row->comments"}
						{{if $row->comments}}
							</a>
						{{endif}}
					</p>
				{{endif}}
			</div>
			{{if $table->canModerate()}}
				<div class='ipsDataItem_modCheck'>
					{{$idField = $row::$databaseColumnId;}}
					<span class='ipsCustomInput'>
						<input type='checkbox' data-role='moderation' name="moderate[{$row->$idField}]" data-actions="{expression="implode( ' ', $table->multimodActions( $row ) )"}" data-state='{{if $row->tableStates()}}{$row->tableStates()}{{endif}}'>
						<span></span>
					</span>
				</div>
			{{endif}}
		</li>
	{{endforeach}}
{{endif}}]]></template>
 <template template_group="global" template_name="searchResultCommentSnippet" template_data="$indexData, $nextOccurance, $startDate, $endDate, $allDay, $reviewRating, $condensed" template_location="front" template_app="calendar"><![CDATA[{{if $condensed}}
	<time datetime='{$nextOccurance->mysqlDatetime()}' class='ipsCalendarDate ipsCalendarDate_small ipsPos_left'>
		<span class='ipsCalendarDate_month'>{$nextOccurance->monthNameShort}</span>
		<span class='ipsCalendarDate_date'>{$nextOccurance->mday}</span>
	</time>
{{else}}
	<div class='ipsColumns ipsColumns_collapsePhone ipsColumns_noSpacing'>
		<div class='ipsColumn ipsColumn_narrow'>
			<time datetime='{$nextOccurance->mysqlDatetime()}' class='ipsCalendarDate ipsCalendarDate_large ipsPos_center'>
				<span class='ipsCalendarDate_month'>{$nextOccurance->monthNameShort}</span>
				<span class='ipsCalendarDate_date'>{$nextOccurance->mday}</span>
			</time>
		</div>
		<div class='ipsColumn ipsColumn_fluid'>
			<div class='ipsStream_comment ipsPad'>
				<p class='ipsType_reset ipsType_normal'>
					<strong class='ipsType_normal'>
						<time datetime='{expression="$startDate->format( 'Y-m-d' )"}'>
							{$startDate->dayName} {$startDate->mday} {$startDate->monthName} {$startDate->year}{{if !$allDay}}, {$startDate->localeTime( FALSE )}{{endif}}
						</time>
						{{if $endDate}}
							{lang="until_lc"}
							{{$sameDay = !( ($startDate->mday != $endDate->mday) or ($startDate->mon != $endDate->mon) or ($startDate->year != $endDate->year) );}}
							<time datetime='{expression="$endDate->format( 'Y-m-d' )"}'>
							{{if !$sameDay}}{$endDate->dayName} {$endDate->mday} {$endDate->monthName} {$endDate->year}{{endif}}{{if !$allDay}}{{if !$sameDay}}, {{endif}}{$endDate->localeTime( FALSE )}{{endif}}
							</time>
						{{endif}}
					</strong>
				</p>
				{{if $reviewRating !== NULL}}
					{template="rating" app="core" params="'medium', $reviewRating" group="global"}
				{{endif}}
				{{if trim( $indexData['index_content'] ) !== ''}}
					<div class='ipsType_richText ipsType_break ipsType_medium ipsSpacer_top ipsSpacer_half' {{if !( \IPS\Dispatcher::i()->application->directory == 'core' and \IPS\Dispatcher::i()->module and \IPS\Dispatcher::i()->module->key == 'search' )}}data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='3 lines' data-ipsTruncate-watch='false'{{else}}data-searchable data-findTerm{{endif}}>
						{expression="\IPS\Content\Search\Result::preDisplay( $indexData['index_content'] )" raw="true"}
					</div>
				{{endif}}
			</div>
		</div>
	</div>
{{endif}}]]></template>
 <template template_group="global" template_name="searchResultEventSnippet" template_data="$indexData, $itemData, $nextOccurance, $startDate, $endDate, $allDay, $condensed" template_location="front" template_app="calendar"><![CDATA[{{if $condensed}}
	<time datetime='{$nextOccurance->mysqlDatetime()}' class='ipsCalendarDate ipsCalendarDate_small ipsPos_left'>
		<span class='ipsCalendarDate_month' data-controller="core.global.core.datetime" data-time="{$nextOccurance->format('c')}" data-format="%h" >{$nextOccurance->monthNameShort}</span>
		<span class='ipsCalendarDate_date' data-controller="core.global.core.datetime" data-time="{$nextOccurance->format('c')}" data-format="%d">{$nextOccurance->mday}</span>
	</time>
{{else}}
	<div class='ipsColumns ipsColumns_collapsePhone'>
		<div class='ipsColumn ipsColumn_narrow ipsColumn--ipsCalendarDate'>
			<time datetime='{$nextOccurance->mysqlDatetime()}' class='ipsCalendarDate ipsCalendarDate_large ipsPos_center'>
				<span class='ipsCalendarDate_month' data-controller="core.global.core.datetime" data-time="{$nextOccurance->format('c')}" data-format="%h" >{$nextOccurance->monthNameShort}</span>
				<span class='ipsCalendarDate_date' data-controller="core.global.core.datetime" data-time="{$nextOccurance->format('c')}" data-format="%d">{$nextOccurance->mday}</span>
			</time>
		</div>
		<div class='ipsColumn ipsColumn_fluid ipsStream_snippetInfo'>
			<strong class='ipsType_normal'>
				<time datetime='{expression="$startDate->format( 'Y-m-d' )"}'>
					{$startDate->dayName} {$startDate->mday} {$startDate->monthName} {$startDate->year}{{if !$allDay}}, {$startDate->localeTime( FALSE )}{{endif}}
				</time>
				{{if $endDate}}
					{lang="until_lc"}
					{{$sameDay = !( ($startDate->mday != $endDate->mday) or ($startDate->mon != $endDate->mon) or ($startDate->year != $endDate->year) );}}
					<time datetime='{expression="$endDate->format( 'Y-m-d' )"}'>
						{{if !$sameDay}}{$endDate->dayName} {$endDate->mday} {$endDate->monthName} {$endDate->year}{{endif}}{{if !$allDay}}{{if !$sameDay}}, {{endif}}{$endDate->localeTime( FALSE )}{{endif}}
					</time>
				{{endif}}
			</strong>

			{{if trim( $indexData['index_content'] ) !== ''}}
				<div class='ipsSpacer_top ipsSpacer_half ipsType_richText ipsType_break ipsType_medium' {{if !( \IPS\Dispatcher::i()->application->directory == 'core' and \IPS\Dispatcher::i()->module and \IPS\Dispatcher::i()->module->key == 'search' )}}data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='2 lines' data-ipsTruncate-watch='false'{{else}}data-searchable data-findTerm{{endif}}>
					{expression="\IPS\Content\Search\Result::preDisplay( $indexData['index_content'] )" raw="true"}
				</div>
			{{endif}}
		</div>
	</div>
{{endif}}]]></template>
 <template template_group="global" template_name="subscribeMenu" template_data="$thisCalendar, $downloadLinks" template_location="front" template_app="calendar"><![CDATA[{{if $downloadLinks}}
    <ul class='ipsMenu ipsMenu_auto ipsHide' id='elCalendarSettings_menu'>
        <li class='ipsMenu_title'>{{if $thisCalendar}}{lang="with_calendar" sprintf="$thisCalendar->_title"}{{else}}{lang="with_all_calendars"}{{endif}}</li>
        <li class='ipsMenu_item'><a href='{{if $thisCalendar}}{$downloadLinks['iCalCalendar']}{{else}}{$downloadLinks['iCalAll']}{{endif}}'><i class='fa fa-download'></i> {lang="download_webcal"}</a></li>
        <li class='ipsMenu_item'><a href='{expression="str_replace( array( 'http://', 'https://' ), 'webcal://', $thisCalendar ? $downloadLinks['iCalCalendar'] : $downloadLinks['iCalAll'] )"}'><i class='fa fa-calendar'></i> {lang="subscribe_webcal"}</a></li>
    </ul>
{{endif}}]]></template>
 <template template_group="livesearch" template_name="calendar" template_data="$calendar" template_location="admin" template_app="calendar"><![CDATA[<li class='ipsPad_half ipsClearfix' data-role='result'>
	<a href='{url="app=calendar&module=calendars&controller=calendars&do=form&id="}{$calendar->id}' class='ipsPos_left'>{$calendar->_title}</a>
</li>

]]></template>
 <template template_group="modcp" template_name="approvalQueueItem" template_data="$item, $ref, $container, $title" template_location="front" template_app="calendar"><![CDATA[<div id="elApprovePanel" class='ipsBox'>
	<article class="ipsClearfix ipsClear">
		<div class='ipsPad'>
			<p class="ipsPos_right ipsPad_half">
				<a href='{$item->url()}' class='ipsType_normal ipsType_light'>
					<i class='fa fa-{$item::$icon}'></i> {lang="$item::$title"}
				</a>
			</p>
			<div class="ipsPhotoPanel ipsPhotoPanel_small ipsClearfix"> 
				{template="userPhoto" group="global" params="$item->author()"}
				<div>
					<a href="#user{$item->author()->member_id}_menu" id="user{$item->author()->member_id}" class="ipsType_sectionHead" data-ipsmenu="">{$item->author()->name} &nbsp;<i class="fa fa-caret-down"></i></a>
					<ul class="ipsMenu ipsMenu_auto ipsMenu_withStem ipsHide" id="user{$item->author()->member_id}_menu">
						{{if \IPS\Member::loggedIn()->modPermission('mod_can_warn')}}
							<li class='ipsMenu_item'><a href='{url="app=core&module=system&controller=warnings&do=warn&id={$item->author()->member_id}&ref={$ref}" seoTemplate="warn_add" seoTitle="$item->author()->members_seo_name"}' data-ipsDialog data-ipsDialog-title="{lang="warn_member" sprintf="$item->author()->name"}" data-ipsDialog-remoteSubmit data-ipsDialog-flashMessage="{lang="warning_issued"}" data-role="warnUserDialog">{lang="warn_user"}</a></li>
						{{endif}}
						{{if $item->author()->member_id != \IPS\Member::loggedIn()->member_id}}
							{{if $item->author()->members_bitoptions['bw_is_spammer']}}
								<li class='ipsMenu_item' data-ipsMenuValue='spamFlagButton'><a href='{url="app=core&module=system&controller=moderation&do=flagAsSpammer&id={$item->author()->member_id}&s=0" seoTemplate="flag_as_spammer" seoTitle="$item->author()->members_seo_name" csrf="true"}' data-confirm data-confirmSubMessage="{lang="spam_unflag_confirm"}">{lang="spam_unflag"}</a></li>
							{{else}}
								<li class='ipsMenu_item' data-ipsMenuValue='spamFlagButton'><a href='{url="app=core&module=system&controller=moderation&do=flagAsSpammer&id={$item->author()->member_id}&s=1" seoTemplate="flag_as_spammer" seoTitle="$item->author()->members_seo_name" csrf="true"}' data-confirm>{lang="spam_flag"}</a></li>
							{{endif}}
						{{endif}}
						<li class="ipsMenu_item"><a href='{url="app=core&module=messaging&controller=messenger&do=compose&to={$item->author()->member_id}" seoTemplate="messenger_compose"}' data-ipsDialog data-ipsDialog-title='{lang="compose_new"}' data-ipsDialog-remoteSubmit data-ipsDialog-flashMessage="{lang="message_sent"}">{lang="message_send"}</a></li>
					</ul>
					{{if $container}}
						<p class='ipsType_reset'>{lang="posted_in_container"} <a href="{$container->url()}">{$container->_title}</a></p>
					{{endif}}
					<p class="ipsType_light ipsType_reset">{lang="date_replied" htmlsprintf="\IPS\DateTime::ts( $item->mapped('date') )->html(FALSE)"}</p>
				</div>
				<p class='ipsType_normal ipsType_reset'>
					<time datetime='{expression="$item->_start_date->format( 'Y-m-d' )"}'>
					{{if $item->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )}}
						{$item->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->calendarDate()}{{if !$item->all_day}}, {$item->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->localeTime( FALSE )} {{endif}}
					{{else}}
						{$item->lastOccurrence( 'startDate' )->calendarDate()}{{if !$item->all_day}} {$item->lastOccurrence( 'startDate' )->localeTime( FALSE )} {{endif}}
					{{endif}}
					</time>
					{{if $item->_end_date}}
						&nbsp;&nbsp;<i class='fa fa-arrow-circle-right ipsType_large ipsType_light'></i>&nbsp;&nbsp;
						<time datetime='{expression="$item->_end_date->format( 'Y-m-d' )"}'>
					{{if $item->nextOccurrence( $item->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )}}
						{$item->nextOccurrence( $item->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )->calendarDate()}{{if !$item->all_day}}, {$item->nextOccurrence( $item->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )->localeTime( FALSE )}{{endif}}
					{{else}}
						{$item->lastOccurrence( 'endDate' )->calendarDate()}{{if !$item->all_day}} {$item->lastOccurrence( 'endDate' )->localeTime( FALSE )}{{endif}}
					{{endif}}
						</time>
					{{endif}}
				</p>
				</div>
			</div>
		</div>
		<div class='ipsAreaBackground_light ipsPad'>
			<div class='ipsBox'>
				<h2 class="ipsType_sectionTitle ipsType_blendLinks"><a href="{$item->url()}">{$title}</a></h2>
				{template="richText" group="global" app="core" location="global" params="$item->content(), array('ipsPost', 'ipsType_normal', 'ipsPad')"}
			</div>
		</div>
	</article>
</div>
{{if $reason = $item->approvalQueueReason()}}
<br>
<div class='ipsType_sectionTitle'>{lang="reason_for_approval"}</div>
<div class='ipsAreaBackground_light ipsBorder_bottom ipsPadding:half'>
	<p class='ipsType_light'>{$reason}</p>
</div>
{{endif}}]]></template>
 <template template_group="overview" template_name="byMonth" template_data="$calendars, $date, $featured, $events, $thisCalendar, $months=array()" template_location="front" template_app="calendar"><![CDATA[<section class='ipsBox' data-controller="calendar.front.overview.eventList">
	<h2 class='ipsType_sectionTitle'>{lang="events_browse_by_month"}</h2>
	<div class='ipsPadding ipsAreaBackground_light ipsRadius:bl ipsRadius:br'>
		<div class='cEvents__monthNav' data-role='monthNav'>
			{{foreach $months as $monthObj }}
				<a class='cEvents__monthNav__monthItem {{if $monthObj->format( 'n' ) == $date->mon}}cEvents__monthNav__monthItem--active{{endif}}' href="{{if $thisCalendar}}{url="app=calendar&module=calendar&controller=view&id={$thisCalendar->_id}&y={$monthObj->format( 'Y' )}&m={$monthObj->format( 'n' )}"}{{else}}{url="app=calendar&module=calendar&controller=view&y={$monthObj->format( 'Y' )}&m={$monthObj->format( 'n' )}"}{{endif}}" rel='nofollow' data-action='changeMonth' data-month='{$monthObj->format( 'n' )}' data-year='{$monthObj->format( 'Y' )}'>
                <span class='cEvents__monthNav__month'>{lang="_date_month_short" pluralize="$monthObj->format( 'n' )"}</span>
					<span class='cEvents__monthNav__year'>{$monthObj->format( 'Y' )}</span>
				</a>
			{{endforeach}}
		</div>

		<div class='ipsMargin_top'>
			{{if \count($events) }}
				<ul class='eventList' data-role='eventList'>
					{{foreach $events as $event}}
						{template="event" app="calendar" group="events" params="$event, 'normal', \IPS\calendar\Date::getDate( $date->firstDayOfMonth('year'), $date->firstDayOfMonth('mon'), $date->firstDayOfMonth('mday') )"}
					{{endforeach}}
				</ul>
				<div class='ipsPadding_top ipsType_center'>
					<button class='ipsButton ipsButton_light ipsButton_normal {{if \count( $events ) < 16}}ipsHide{{endif}}' data-action='loadMore'>{lang="events_show_more"}</button>
					<p class='ipsType_center ipsType_normal ipsType_light {{if \count( $events ) >= 16}}ipsHide{{endif}}' data-role='noMoreResults'>{lang="events_no_more_this_month"}</p>
				</div>
			{{else}}
                <ul class='eventList' data-role='eventList'>
                    {template="noEvents" app="calendar" group="events"}
                </ul>
			{{endif}}
		</div>
	</div>
</section>]]></template>
 <template template_group="overview" template_name="header" template_data="$date, $thisCalendar=NULL, $downloadLinks=NULL" template_location="front" template_app="calendar"><![CDATA[
<div class="ipsPageHeader ipsMargin_bottom">
    <div class="ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsGap:3 sm:ipsFlex-fd:column">
        <h2 class="ipsType_pageTitle">{lang="frontnavigation_calendar"}</h2>
        <ul class="ipsToolList ipsToolList_horizontal ipsClearfix">
            <li class="ipsToolList_primaryAction">
                {{if \IPS\Application::appIsEnabled('cloud') and \IPS\Member::loggedIn()->canAccessModule( \IPS\Application\Module::get( 'cloud', 'livetopics' ) ) and \IPS\cloud\LiveTopic::canCreate( \IPS\Member::loggedIn() )}}
                    <a href="#elEventCreate_menu" id="elEventCreate" class="ipsButton ipsButton_medium ipsButton_important" data-ipsMenu>{lang="livetopic_create_event"} <i class="fa fa-caret-down"></i></a>
                    <ul id="elEventCreate_menu" class="ipsMenu ipsMenu_normal ipsHide">
                        <li class="ipsMenu_item" data-menuItem="livetopic">
                            {{if !\IPS\Settings::i()->club_nodes_in_apps and $theOnlyNode = \IPS\calendar\Calendar::theOnlyNode() }}
                            <a class="ipsMenu_link" href="{url="app=calendar&module=calendar&controller=submit&do=livetopic&id={$theOnlyNode->_id}" seoTemplate="calendar_submit"}">{lang="event_create_livetopic"}</a>
                            {{elseif ( $thisCalendar AND $thisCalendar->can('add') )}}
                            <a class="ipsMenu_link" href='{url="app=calendar&module=calendar&controller=submit&do=livetopic&id={$thisCalendar->_id}" seoTemplate="calendar_submit"}' data-ipsTooltip title='{lang="add_event"}'>{lang="event_create_livetopic"}</a>
                            {{elseif \IPS\calendar\Calendar::canOnAny('add')}}
                            <a class="ipsMenu_link" href="{url="app=calendar&module=calendar&controller=submit&do=livetopic" seoTemplate="calendar_submit"}">{lang="event_create_livetopic"}</a>
                            {{endif}}
                        </li>
                        <li class="ipsMenu_item" data-menuItem="event">
                            {{if !\IPS\Settings::i()->club_nodes_in_apps and $theOnlyNode = \IPS\calendar\Calendar::theOnlyNode() }}
                            <a class="ipsMenu_link" href="{url="app=calendar&module=calendar&controller=submit&do=submit&id={$theOnlyNode->_id}" seoTemplate="calendar_submit"}">{lang="event_create_normal"}</a>
                            {{elseif ( $thisCalendar AND $thisCalendar->can('add') )}}
                            <a class="ipsMenu_link" href='{url="app=calendar&module=calendar&controller=submit&do=submit&id={$thisCalendar->_id}" seoTemplate="calendar_submit"}' data-ipsTooltip title='{lang="add_event"}'>{lang="event_create_normal"}</a>
                            {{elseif \IPS\calendar\Calendar::canOnAny('add')}}
                            <a class="ipsMenu_link" href="{url="app=calendar&module=calendar&controller=submit" seoTemplate="calendar_submit"}" data-ipsdialog="" data-ipsdialog-size="narrow" data-ipsdialog-title="{lang="select_calendar"}">{lang="event_create_normal"}</a>
                            {{endif}}
                        </li>
                    </ul>
                {{else}}
                    {{if !\IPS\Settings::i()->club_nodes_in_apps and $theOnlyNode = \IPS\calendar\Calendar::theOnlyNode() }}
                        <a class="ipsButton ipsButton_medium ipsButton_important" href="{url="app=calendar&module=calendar&controller=submit&do=submit&id={$theOnlyNode->_id}" seoTemplate="calendar_submit"}">{lang="create_event"}</a>
                    {{elseif ( $thisCalendar AND $thisCalendar->can('add') )}}
                        <a class="ipsButton ipsButton_medium ipsButton_important" href='{url="app=calendar&module=calendar&controller=submit&do=submit&id={$thisCalendar->_id}" seoTemplate="calendar_submit"}' data-ipsTooltip title='{lang="add_event"}'>{lang="create_event"}</a>
                    {{elseif \IPS\calendar\Calendar::canOnAny('add')}}
                        <a class="ipsButton ipsButton_medium ipsButton_important" href="{url="app=calendar&module=calendar&controller=submit" seoTemplate="calendar_submit"}" data-ipsdialog="" data-ipsdialog-size="narrow" data-ipsdialog-title="{lang="select_calendar"}">{lang="create_event"}</a>
                    {{endif}}
                {{endif}}
            </li>
            {{if request.view=='overview'}}
                <li>
                    <a href='#elCalendarSettings_menu' id='elCalendarSettings' data-ipsMenu data-ipsMenu-alignCenter class='ipsButton ipsButton_veryLight ipsButton_medium'>{lang="subscribe_button"} <i class='fa fa-caret-down'></i></a>
                </li>
            {{endif}}
            <li>
                <ul class="ipsButton_split">
                    <li>
                        <a href="{url="app=calendar&module=calendar&controller=view&view=overview" seoTemplate="calendar"}" class="ipsButton{{if request.view=='overview'}} ipsButton_primary{{else}} ipsButton_veryLight{{endif}} ipsButton_narrow ipsButton_medium" data-ipstooltip="" data-ipstooltip-safe="" title="{lang="event_view_overview"}" rel="nofollow">
                            <i class="fa fa-align-justify"></i>
                        </a>
                    </li>
                    <li>
                        <a href="{url="app=calendar&module=calendar&controller=view&view=month&y={$date->year}&m={$date->mon}" seoTemplate="calendar_month"}" class="ipsButton{{if request.view=='month'}} ipsButton_primary{{else}} ipsButton_veryLight{{endif}} ipsButton_narrow ipsButton_medium" data-ipstooltip="" data-ipstooltip-safe="" title="{lang="event_view_monthly"}" rel="nofollow">
                            <i class="fa fa-calendar"></i>
                        </a>
                    </li>
                    <li>
                        <a href="{url="app=calendar&module=calendar&controller=view&view=week&w={$date->year}-{$date->mon}-{$date->mday}" seoTemplate="calendar_week"}" class="ipsButton{{if request.view=='week'}} ipsButton_primary{{else}} ipsButton_veryLight{{endif}} ipsButton_narrow ipsButton_medium" data-ipstooltip="" data-ipstooltip-safe="" title="{lang="event_view_weekly"}" rel="nofollow">
                            <i class="fa fa-calendar-minus-o"></i>
                        </a>
                    </li>
                    <li>
                        <a href="{url="app=calendar&module=calendar&controller=view&view=day&y={$date->year}&m={$date->mon}&d={$date->mday}" seoTemplate="calendar_day"}" class="ipsButton{{if request.view=='day'}} ipsButton_primary{{else}} ipsButton_veryLight{{endif}} ipsButton_narrow ipsButton_medium" data-ipstooltip="" data-ipstooltip-safe="" title="{lang="event_view_daily"}" rel="nofollow">
                            <i class="fa fa-calendar-o"></i>
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</div>
{template="subscribeMenu" app="calendar" group="global" params="$thisCalendar, $downloadLinks"}]]></template>
 <template template_group="overview" template_name="search" template_data="$searchForm, $results=array(), $mapMarkers=NULL" template_location="front" template_app="calendar"><![CDATA[
<div class='eventsPage'>
	{$searchForm->customTemplate( array( \IPS\Theme::i()->getTemplate( 'overview', 'calendar' ), 'searchBar' ) )|raw}

	{template="searchResultsWrapper" group="events" app="calendar" params="$results, $mapMarkers"}
</div>]]></template>
 <template template_group="overview" template_name="searchBar" template_data="$id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='', $attributes=array(), $sidebar='', $form=NULL" template_location="front" template_app="calendar"><![CDATA[
<form accept-charset='utf-8' class="ipsForm {$class} ipsFlex-flex:11" action="{$action}" method="post" {{if $uploadField}}enctype="multipart/form-data"{{endif}} {{foreach $attributes as $k => $v}}{$k}="{$v}"{{endforeach}} data-ipsForm data-controller='calendar.front.overview.search'{{if \IPS\GeoLocation::enabled()}} data-placeholder='{$elements['']['location']->options['placeholder']}'{{endif}}>
	<input type="hidden" name="{$id}_submitted" value="1">
	{{foreach $hiddenValues as $k => $v}}
	{{if \is_array($v)}}
	{{foreach $v as $_k => $_v}}
	<input type="hidden" name="{$k}[{$_k}]" value="{$_v}">
	{{endforeach}}
	{{else}}
	<input type="hidden" name="{$k}" value="{$v}">
	{{endif}}
	{{endforeach}}

	{{$byLocation = FALSE;}}
	{{if isset( \IPS\Request::i()->lat ) && isset( \IPS\Request::i()->lon )}}
	<input type='hidden' name='lat' value='{request="lat"}'>
	<input type='hidden' name='lon' value='{request="lon"}'>
	{{endif}}

	{{if isset( \IPS\Request::i()->searchNearLocation )}}
	<input type='hidden' name='searchNearLocation' value='1'>
	{{$byLocation = TRUE;}}
	{{endif}}

	<ul class='ipsList_reset cEvents__search'>
		{{foreach $elements[''] as $key => $input}}
		{{if $key === 'location'}}
		<li class='cEvents__search__field cEvents__search__field--location'>
			<label class='cEvents__search__label'>{lang="events_search_location"}</label>
			<div class='cEvents__search__searchWrap'>
				{{if $byLocation}}
				{{$input->options['placeholder'] = \IPS\Member::loggedIn()->language()->addToStack( "events_search_your_location" );}}
				{{$input->options['disabled'] = TRUE;}}
				{$input->html()|raw}
				<a href='#' class='eventSearch__searchLocation ipsJS_show ipsHide' data-action='useMyLocation'><i class='fa fa-crosshairs'></i> <span>{lang="events_search_use_location"}</span></a>
				<a href='#' class='eventSearch__searchLocation ipsJS_show' data-action='cancelLocation'><span>{lang="events_search_cancel_location"}</span></a>
				{{else}}
				{$input->html()|raw}
				<a href='#' class='eventSearch__searchLocation ipsJS_show' data-action='useMyLocation'><i class='fa fa-crosshairs'></i> <span>{lang="events_search_use_location"}</span></a>
				<a href='#' class='eventSearch__searchLocation ipsJS_show ipsHide' data-action='cancelLocation'><span>{lang="events_search_cancel_location"}</span></a>
				{{endif}}
			</div>
		</li>
		{{elseif $key === 'show'}}
		<li class='cEvents__search__field cEvents__search__field--show'>
			<label class='cEvents__search__label'>{lang="events_search_type"}</label>
			{$input->html()|raw}
		</li>
		{{elseif $key === 'date'}}
		<li class='cEvents__search__field cEvents__search__field--date cEvents__search__field--from'>
			<label class='cEvents__search__label'>{lang="events_search_from"}</label>
			{$input->start->html()|raw}
		</li>
		<li class='cEvents__search__field cEvents__search__field--date cEvents__search__field--to'>
			<label class='cEvents__search__label'>{lang="events_search_to"}</label>
			{$input->end->html()|raw}
		</li>
		{{endif}}
		{{endforeach}}
		<li class='cEvents__search__field cEvents__search__field--submit'>
			<button type='submit' class='ipsButton ipsButton_primary ipsButton_medium ipsButton_fullWidth cEvents__search__Submit'>{lang="events_search_search"}</button>
		</li>
	</ul>
</form>]]></template>
 <template template_group="overview" template_name="wrapper" template_data="$featured, $nearme, $stream, $searchForm, $mapMarkers, $online, $date, $downloadLinks" template_location="front" template_app="calendar"><![CDATA[
<div data-role='eventsPage' class='eventsPage'>
	{template="header" group="overview" app="calendar" params="$date, NULL, $downloadLinks"}

	<div class='cEvents__overview-header'>
		{{if \count( $featured )}}
			{template="featured" group="events" app="calendar" params="$featured"}
		{{endif}}
		<div class='ipsBox {{if \count( $featured )}}ipsFlex ipsFlex-fd:column{{endif}}'>
			<h2 class="ipsType_sectionTitle ipsType_reset">{lang="events_search_events"}</h2>
			<div class='ipsPadding {{if \count( $featured )}}ipsFlex-flex:11 ipsFlex ipsFlex-ai:center{{endif}}'>
				<div class='ipsFlex-flex:11 eventSearch {{if \count( $featured )}}eventSearch--vertical{{else}}eventSearch--horizontal{{endif}}'>
					{$searchForm->customTemplate( array( \IPS\Theme::i()->getTemplate( 'overview', 'calendar' ), 'searchBar' ) )|raw}
				</div>
			</div>
		</div>
	</div>

	<div data-role='eventsOverview'>
        {{if \IPS\GeoLocation::enabled() }}
		    {template="nearMe" group="events" app="calendar" params="$nearme, $mapMarkers"}
        {{endif}}
		{template="online" group="events" app="calendar" params="$online"}

		{$stream|raw}
	</div>

	<div data-role='searchResultsWrapper' class='ipsHide'>
		{template="searchResultsWrapper" group="events" app="calendar" params=""}
	</div>
</div>]]></template>
 <template template_group="submit" template_name="calendarSelector" template_data="$form" template_location="front" template_app="calendar"><![CDATA[<div class='ipsPad'>
    {$form|raw}
</div>]]></template>
 <template template_group="submit" template_name="datesForm" template_data="$name, $value, $timeZones, $error=''" template_location="front" template_app="calendar"><![CDATA[
<div data-controller='calendar.front.submit.dates' id='eventDateSelection' class='ipsAreaBackground_light ipsBorder_bottom ipsPadding'>
	{{if $error}}
		<div class="ipsMessage ipsMessage_error">{lang="$error"}</div>
	{{endif}}
	<div class='ipsGrid ipsGrid_collapsePhone'>
		<div class='ipsGrid_span5 ipsType_center ipsBox' id='elDateGrid_start'>
			<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="submit_event_start"}</h2>
			<div class='ipsPadding'>
				<div class='cCalendarSubmit_field'>
					<i class='fa fa-calendar'></i>
					<input type="date" data-summaryControl name="event_dates[start_date]" value="{{if $value['start_date'] instanceof \IPS\DateTime}}{$value['start_date']->format('Y-m-d')}{{else}}{$value['start_date']}{{endif}}" data-preferredFormat="{{if $value['start_date'] instanceof \IPS\DateTime}}{$value['start_date']->fullYearLocaleDate()}{{else}}{$value['start_date']}{{endif}}" required aria-required='true' class="ipsField_short" data-control="date" id='event_start_date' placeholder='{expression="str_replace( array( 'YYYY', 'MM', 'DD' ), array( \IPS\Member::loggedIn()->language()->addToStack('_date_format_yyyy'), \IPS\Member::loggedIn()->language()->addToStack('_date_format_mm'), \IPS\Member::loggedIn()->language()->addToStack('_date_format_dd') ), str_replace( 'Y', 'YY', \IPS\Member::loggedIn()->language()->preferredDateFormat() ) )"}'>
				</div>
				<div class='cCalendarSubmit_field' id='start_time_wrap'>
					<i class='fa fa-clock-o'></i>
					<input name="event_dates[start_time]" id="start_time" type="time" size='12' class="ipsField_short" placeholder="{lang="_time_format_hhmm"}" step='60' min='00:00' value="{$value['start_time']}">
				</div>
				<br><br>
				<ul class='ipsList_inline'>
					<li>
						<span class='ipsCustomInput'>
							<input type="checkbox" role="checkbox" name="event_dates[single_day]" {{if isset($value['single_day']) AND $value['single_day']}}checked aria-checked='true'{{endif}} value="1" id="check_single_day">
							<span></span>
						</span> <label for='check_single_day'>{lang="event_single_day"}</label>
					</li>
					<li>
						<span class='ipsCustomInput'>
							<input type="checkbox" role="checkbox" name="event_dates[all_day]" {{if isset($value['all_day']) AND $value['all_day']}}checked aria-checked='true'{{endif}} value="1" id="check_all_day"> 
							<span></span>
						</span> <label for='check_all_day'>{lang="event_all_day"}</label>
					</li>
				</ul>

				<p class='ipsType_light ipsType_blendLinks' id='elTimezone'>
					<a href='#elTimezoneSelector_menu' id='elTimezoneSelector' data-ipsMenu data-ipsMenu-closeOnClick="false" data-ipsMenu-appendTo="#eventDateSelection"><i class='fa fa-globe'></i> {lang="event_timezone"}: <em data-role="timezone_display"></em> &nbsp;<i class='fa fa-caret-down'></i></a>
				</p>

			</div>
		</div>
		<div class='ipsGrid_span2 ipsType_center' id='elDateGrid_arrow'>
			<strong><i class='fa fa-angle-right'></i></strong>
		</div>
		<div class='ipsGrid_span5 ipsType_center ipsBox' id='elDateGrid_end'>
			<h2 class='ipsType_sectionTitle ipsType_reset'>{lang="submit_event_end"}</h2>
			<div class='ipsPadding'>
				<div class='cCalendarSubmit_field' id='event_end_date_wrap'>
					<i class='fa fa-calendar'></i>
					<input type="date" name="event_dates[end_date]" value="{{if $value['end_date'] instanceof \IPS\DateTime}}{$value['end_date']->format('Y-m-d')}{{else}}{$value['end_date']}{{endif}}" data-preferredFormat="{{if $value['end_date'] instanceof \IPS\DateTime}}{$value['end_date']->fullYearLocaleDate()}{{else}}{{if $value['start_date'] instanceof \IPS\DateTime}}{$value['start_date']->fullYearLocaleDate()}{{else}}{$value['end_date']}{{endif}}{{endif}}" class="ipsField_short" data-control="date" id="event_end_date" placeholder='{expression="mb_strtoupper( str_replace( 'Y', 'YY', \IPS\Member::loggedIn()->language()->preferredDateFormat() ) )"}'>
				</div>
				<div class='cCalendarSubmit_field' id='end_time_wrap'>
					<i class='fa fa-clock-o'></i>
					<input name="event_dates[end_time]" id="end_time" type="time" size='12' class="ipsField_short" placeholder="{lang="_time_format_hhmm"}" step='60' min='00:00' value="{{if isset( $value['end_time'] )}}{$value['end_time']}{{endif}}">
				</div>
				<br><br>
				<ul class='ipsList_inline' id='end_date_controls'>
					<li>
						<span class='ipsCustomInput'>
							<input type="checkbox" role="checkbox" name="event_dates[no_end_time]" {{if !isset( $value['end_time'] ) OR !$value['end_time']}}checked aria-checked='true'{{endif}} value="1" id="check_no_end_time"> 
							<span></span>
						</span> <label for='check_no_end_time'>{lang="no_end_time"}</label>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<br>

	<div class='ipsBox ipsPadding ipsType_center'>
		<strong class='ipsType_light'>{lang="submit_event_summary"}</strong>
		<p class='ipsType_large ipsType_reset'>
			<span data-role='dateSummary'></span>
		</p>
		<p class='ipsType_normal' id='elRepeatRow_hidden'>
			<span class='ipsCustomInput'>
				<input type='checkbox' role='checkbox' name='event_dates[event_repeat]' value='1' id="elRepeatCb" {{if isset($value['event_repeat']) AND $value['event_repeat']}}checked aria-checked='true'{{endif}}>
				<span></span>
			</span> <label for='elRepeatCb'>{lang="submit_event_repeats_check"}</label>
		</p>
		<div id='elRepeatRow_shown' class='ipsJS_hide'>
			<br>
			<strong class='ipsType_light'>{lang="submit_event_repeats"}</strong>
			<p class='ipsType_normal ipsType_reset'>
				<span id='elRecurEdit' data-ipsMenu data-ipsMenu-closeOnClick='false' data-ipsMenu-appendTo="#eventDateSelection" class='ipsType_normal ipsCursor_pointer'><span data-role='recurringSummary'></span> <i class='fa fa-caret-down'></i></span> &nbsp;&nbsp;<a href='#' id='elRecurRemove' class='ipsType_small'>[{lang="submit_event_remove_repeat"}]</a>
			</p>
		</div>
	</div>

	<div id='elTimezoneSelector_menu' class='ipsHide ipsMenu'>
		<div class='ipsPad'>
			<select name="event_dates[event_timezone]" id="event_timezone">
                {{foreach $timeZones as $k => $v}}
					<option value='{$k}' {{if $value['event_timezone'] == $k}}selected{{endif}} data-abbreviated="{$k}">{$k}</option>
				{{endforeach}}
			</select>
		</div>
		<div class='ipsAreaBackground_light ipsClearfix ipsPad ipsType_center'>
			<button class='ipsButton ipsButton_primary ipsButton_verySmall' role='button' data-action="updateTimezone">{lang="change"}</button>
		</div>
	</div>


	<div id='elRecurEdit_menu' class='ipsHide ipsMenu ipsMenu_wide ipsPad'>
		<ul>
			<li class='ipsFieldRow'>
				<label class='ipsFieldRow_label' for=''>{lang="event_rpm_repeats"}</label>
				<div class='ipsFieldRow_content'>
					{template="select" group="forms" app="core" location="front" params="'event_dates[event_repeats]', $value['event_repeats'], FALSE, array( 'daily' => \IPS\Member::loggedIn()->language()->addToStack('event_rpm_repeats_daily'), 'weekly' => \IPS\Member::loggedIn()->language()->addToStack('event_rpm_repeats_weekly'), 'monthly' => \IPS\Member::loggedIn()->language()->addToStack('event_rpm_repeats_monthly'), 'yearly' => \IPS\Member::loggedIn()->language()->addToStack('event_rpm_repeats_yearly') ), FALSE, '', FALSE, array( 'daily' => array( 'repeatFreqPer_day' ), 'weekly' => array( 'elRepeatOn', 'repeatFreqPer_week' ), 'monthly' => array( 'repeatFreqPer_month' ), 'yearly' => array( 'repeatFreqPer_year' ) ), 'event_repeats'"}
				</div>
			</li>
			<li class='ipsFieldRow'>
				<label class='ipsFieldRow_label' for=''>{lang="event_rpm_repeatevery"}</label>
				<div class='ipsFieldRow_content'>
					{template="select" group="forms" app="core" location="front" params="'event_dates[event_repeat_freq]', $value['event_repeat_freq'], FALSE, array_combine( range( 1, 30 ), range( 1, 30 ) ), FALSE, '', FALSE, array(), 'event_repeat_freq'"}
					<span id='repeatFreqPer_day' {{if $value['event_repeats'] and $value['event_repeats'] != 'daily'}}style="display:none"{{endif}}>{lang="event_rpm_repeatevery_day"}</span>
					<span id='repeatFreqPer_week' {{if $value['event_repeats'] != 'weekly'}}style="display:none"{{endif}}>{lang="event_rpm_repeatevery_week"}</span>
					<span id='repeatFreqPer_month' {{if $value['event_repeats'] != 'monthly'}}style="display:none"{{endif}}>{lang="event_rpm_repeatevery_month"}</span>
					<span id='repeatFreqPer_year' {{if $value['event_repeats'] != 'yearly'}}style="display:none"{{endif}}>{lang="event_rpm_repeatevery_year"}</span>
				</div>
			</li>
			<li class='ipsFieldRow' id='elRepeatOn'>
				<span class='ipsFieldRow_label'>{lang="event_rpm_repeaton"}</span>
				<ul class='ipsFieldRow_content ipsList_reset'>
					{{foreach \IPS\calendar\Date::getDayNames() as $day }}
						<li class='ipsFieldRow_inlineCheckbox'>
							<span class='ipsCustomInput'>
								<input type="checkbox" role="checkbox" name="event_dates[repeat_freq_on_{$day['ical']}]" value="1" id="check_repeat_freq_on_{$day['ical']}" data-iCal='{$day['ical']}' {{if ( isset( $value['repeat_freq_on_' . $day['ical'] ] ) AND $value['repeat_freq_on_' . $day['ical'] ] )}}checked aria-checked='true'{{endif}}>
								<span></span>
							</span> <label for="check_repeat_freq_on_{$day['ical']}">{$day['abbreviated']}</label>
						</li>
					{{endforeach}}
				</ul>
			</li>
			<li class='ipsFieldRow'>
				<span class='ipsFieldRow_label' for=''>{lang="event_rpm_ends"}</span>
				<ul class='ipsFieldRow_content ipsField_fieldList'>
					<li>
						<span class='ipsCustomInput'>
							<input type='radio' name='event_dates[repeat_end]' id='event_repeat_end_never' value='never'{{if !$value['repeat_end_occurrences'] AND !$value['repeat_end_date']}} checked{{endif}}>
							<span></span>
						</span>
						<div class='ipsField_fieldList_content'>
							<label for="event_repeat_end_never">{lang="event_rpm_ends_never"}</label>
						</div>
					</li>
					<li>
						<span class='ipsCustomInput'>
							<input type='radio' name='event_dates[repeat_end]' id='event_repeat_end_afterx' value='after'{{if $value['repeat_end_occurrences']}} checked{{endif}}>
							<span></span>
						</span>
						<div class='ipsField_fieldList_content'>
							<label for="event_repeat_end_afterx">{lang="event_rpm_ends_afterx"}</label> <input type='number' name='event_dates[repeat_end_occurrences]' class='cCalendar_shortInput' size='4' min='1' value='{$value['repeat_end_occurrences']}'> {lang="event_rpm_ends_occurrencesx"}
						</div>
					</li>
					<li>
						<span class='ipsCustomInput'>
							<input type='radio' name='event_dates[repeat_end]' id='event_repeat_end_ondate' value='date'{{if $value['repeat_end_date']}} checked{{endif}}>
							<span></span>
						</span>
						<div class='ipsField_fieldList_content'>
							<label for="event_repeat_end_ondate">{lang="event_rpm_ends_date"}</label> <input type='date' name='event_dates[repeat_end_date]' class='cCalendar_shortInput' size='10' value='{{if $value['repeat_end_date'] instanceof \IPS\calendar\Date}}{$value['repeat_end_date']->mysqlDatetime( FALSE )}{{else}}{$value['repeat_end_date']}{{endif}}'>
						</div>
					</li>
				</ul>
			</li>
			<li class='ipsFieldRow'>
				<div class='ipsFieldRow_content ipsType_center'>
					<button type='button' class='ipsButton ipsButton_light' role='button' data-action="updateRepeat">{lang="ok"}</button>
				</div>
			</li>
		</ul>
	</div>
</div>]]></template>
 <template template_group="submit" template_name="submitForm" template_data="$id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class=''" template_location="front" template_app="calendar"><![CDATA[
<form accept-charset='utf-8' class="ipsForm {$class}" action="{$action}" method="post" {{if $uploadField}}enctype="multipart/form-data"{{endif}} data-ipsForm data-ipsFormSubmit>
	<input type="hidden" name="{$id}_submitted" value="1">
	{{foreach $hiddenValues as $k => $v}}
		<input type="hidden" name="{$k}" value="{$v}">
	{{endforeach}}
	{{if $uploadField}}
		<input type="hidden" name="MAX_FILE_SIZE" value="{$uploadField}">
		<input type="hidden" name="plupload" value="{expression="md5( mt_rand() )"}">
	{{endif}}
	
	<div class='ipsBox ipsResponsive_pull'>
		<ul class='ipsForm ipsForm_vertical'>
			{{foreach $elements as $collection}}
				{{foreach $collection as $inputName => $input}}
					{{if $inputName == 'event_dates'}}
						{$input->html()|raw}
					{{endif}}
				{{endforeach}}
			{{endforeach}}
		</ul>
		<ul class='ipsForm ipsPadding ipsForm_vertical'>
			{{foreach $elements as $collection}}
				{{foreach $collection as $inputName => $input}}
					{{if $inputName != 'event_dates'}}
						{$input|raw}
					{{endif}}
				{{endforeach}}
			{{endforeach}}
		</ul>
		<br>
		<div class='ipsPadding ipsBorder_top ipsType_center'>
			<button type='submit' class='ipsButton ipsButton_large ipsButton_primary'>{lang="submit_event"}</button>
		</div>
	</div>
</form>]]></template>
 <template template_group="submit" template_name="submitPage" template_data="$output, $pageHeader, $calendar=NULL" template_location="front" template_app="calendar"><![CDATA[
{{if $calendar and $club = $calendar->club()}}
	{{if settings.clubs and settings.clubs_header == 'full'}}
		{template="header" app="core" group="clubs" params="$club, $calendar"}
	{{endif}}
{{endif}}

{template="pageHeader" group="global" app="core" params="$pageHeader"}

{{if isset( \IPS\Request::i()->do ) and \IPS\Request::i()->do === 'livetopic'}}
<div class="ipsMargin_top ipsMargin_bottom">{lang="ai_service_livetopics_desc"}</div>
{{endif}}

{$output|raw}]]></template>
 <template template_group="venue" template_name="upcomingStream" template_data="$date, $events, $venue" template_location="front" template_app="calendar"><![CDATA[
<div class='ipsPager cCalendarNav ipsSpacer_bottom lg:ipsPos_sticky'>
	<div class='ipsPager_prev'>
		<a href="{{if $venue}}{url="app=calendar&module=calendar&controller=venue&id={$venue->_id}&y={$date->lastMonth('year')}&m={$date->lastMonth('mon')}" seoTemplate="calendar_venue" seoTitle="$venue->title_seo"}{{else}}{url="app=calendar&module=calendar&controller=venue&y={$date->lastMonth('year')}&m={$date->lastMonth('mon')}" seoTemplate="calendar_venue"}{{endif}}" title='{lang="cal_month_stream_title" sprintf="$date->lastMonth('monthName'), $date->lastMonth('year')"}' rel='prev nofollow' data-action='changeView'>
			<span class='ipsPager_type ipsType_normal'>{$date->lastMonth('monthName')}</span>
			<span class='ipsPager_title ipsType_light'>{$date->lastMonth('year')}</span>
		</a>
	</div>
	<div class='ipsPager_center cCalendarNav' data-role='calendarNav'>
		<h1 class='ipsType_pageTitle ipsType_center'>{lang="cal_month_title" sprintf="$date->monthName, $date->year"}</h1>

	</div>
	<div class='ipsPager_next'>
		<a href="{{if $venue}}{url="app=calendar&module=calendar&controller=venue&id={$venue->_id}&y={$date->nextMonth('year')}&m={$date->nextMonth('mon')}" seoTemplate="calendar_venue" seoTitle="$venue->title_seo"}{{else}}{url="app=calendar&module=calendar&controller=venue&y={$date->nextMonth('year')}&m={$date->nextMonth('mon')}" seoTemplate="calendar_venue"}{{endif}}" title='{lang="cal_month_stream_title" sprintf="$date->nextMonth('monthName'), $date->nextMonth('year')"}' rel='next nofollow' data-action='changeView'>
			<span class='ipsPager_type ipsType_normal'>{$date->nextMonth('monthName')}</span>
			<span class='ipsPager_title ipsType_light'>{$date->nextMonth('year')}</span>
		</a>
	</div>
</div>

<section class='ipsAreaBackground ipsPad' id='venueStream'>
	{{if \count($events) }}
		<div>
			<div>
				{{foreach $events as $event}}
					<div>
						{template="eventStreamBlock" app="calendar" group="view" params="$event, $date, TRUE, array( 240, 185 ), TRUE"}
					</div>
				{{endforeach}}
			</div>
		</div>
	{{else}}
		<div class='ipsType_light ipsType_large'>{lang="no_events_month"}</div>
	{{endif}}
</section>]]></template>
 <template template_group="venue" template_name="view" template_data="$venue, $upcoming=array(), $past=array(), $address=NULL" template_location="front" template_app="calendar"><![CDATA[<div>
	<section>
			<div class='ipsColumns ipsColumns_collapsePhone'>
				<aside class='ipsColumn ipsColumn_wide'>
					{$venue->map( 270, 270 )|raw}
					<div class='ipsAreaBackground_light'>
						{{if $address}}
						<div class='ipsPad_half ipsAreaBackground'>
							<h3 class='ipsType_minorHeading'>
								<strong>{lang="venue_address"}</strong>
							</h3>
							{$address|raw}
						</div>
						{{endif}}
					</div>
					{{if \IPS\Member::loggedIn()->member_id}}
					<ul class="ipsToolList ipsClearfix ipsSpacer_both">
						<li class='ipsToolList_primaryAction'>
							<a class="ipsButton ipsButton_medium ipsButton_important ipsButton_fullWidth" href="{url="app=calendar&module=calendar&controller=submit&venue={$venue->id}" seoTemplate="calendar_submit"}" data-ipsDialog data-ipsdialog-size="narrow" rel='nofollow noindex'>{lang="create_event"}</a>
						</li>
					</ul>
					{{endif}}
				</aside>
				<div class='ipsColumn ipsColumn_fluid'>
					<div class='ipsBox ipsPad ipsClearfix'>
						{{if $venue->description}}
						<h2 class='ipsType_sectionHead ipsSpacer_bottom'>{lang="venue_details"}</h2>

						<div class='ipsType_medium'>
							<div class='ipsClear ipsType_normal ipsType_richText ipsType_break'>
								{$venue->description|raw}
							</div>
						</div>
						<br>
						{{endif}}
						<h2 class='ipsType_sectionHead ipsSpacer_bottom'>{lang="venue_upcoming_events"}</h2>
						<div data-controller='calendar.front.venue.main'>
								{{if $upcoming}}
									{$upcoming|raw}
								{{else}}
									{lang="no_upcoming_events"}
								{{endif}}
						</div>
					</div>
				</div>
			</div>

	</section>
</div>]]></template>
 <template template_group="view" template_name="attendees" template_data="$event" template_location="front" template_app="calendar"><![CDATA[<div class="ipsPrint">
	<h1>{setting="board_name"}</h1>
	<h2>{lang="event_attendees" sprintf="$event->title"}</h2>
	<h4 class='date'>
		{$event->_start_date->dayName} {$event->_start_date->mday} {$event->_start_date->monthName}, {$event->_start_date->year}{{if !$event->all_day}}, {$event->_start_date->localeTime( FALSE )}{{endif}}
		{{if $event->_end_date}} - {$event->_end_date->dayName} {$event->_end_date->mday} {$event->_end_date->monthName}, {$event->_end_date->year} {{if !$event->all_day}}, {$event->_end_date->localeTime( FALSE )}{{endif}}{{endif}}
	</h4>
	<div></div>
	<div></div>

	<h3>{lang="event_rsvp_attendees"}</h3>
	<ul>
		{{if \count( $event->attendees( \IPS\calendar\Event::RSVP_YES ) ) }}
			{{foreach $event->attendees( \IPS\calendar\Event::RSVP_YES ) as $attendee }}
				<li>{$attendee->name}</li>
			{{endforeach}}
		{{else}}
			<li><em>{lang="no_rsvps_yet"}</em></li>
		{{endif}}
	</ul>

	{{if \count( $event->attendees( \IPS\calendar\Event::RSVP_MAYBE ) ) }}
		<div></div>
		<h3>{lang="rsvp_maybe_attendees"}</h3>
		<ul>
			{{foreach $event->attendees( \IPS\calendar\Event::RSVP_MAYBE ) as $attendee }}
				<li>{$attendee->name}</li>
			{{endforeach}}
		</ul>
	{{endif}}

	{{if \count( $event->attendees( \IPS\calendar\Event::RSVP_NO ) ) }}
		<div></div>
		<h3>{lang="rsvp_notgoing_attendees"}</h3>
		<ul>
			{{foreach $event->attendees( \IPS\calendar\Event::RSVP_NO ) as $attendee }}
				<li>{$attendee->name}</li>
			{{endforeach}}
		</ul>
	{{endif}}
</div>]]></template>
 <template template_group="view" template_name="comments" template_data="$event" template_location="front" template_app="calendar"><![CDATA[
<div class='' data-controller='core.front.core.commentFeed, core.front.core.ignoredComments' {{if settings.auto_polling_enabled}}data-autoPoll{{endif}} data-baseURL='{$event->url()}' {{if $event->isLastPage()}}data-lastPage{{endif}} data-feedID='event-{$event->id}' id='comments'>

	{template="featuredComments" group="global" app="core" params="$event->featuredComments(), $event->url()->setQueryString('tab', 'comments')->setQueryString('recommended', 'comments')"}
	{template="commentMultimodHeader" app="core" group="global" params="$event, '#comments'"}
	{{if $event->commentPageCount() > 1}}
		{$event->commentPagination( array( 'tab' ) )|raw}
		<br><br>
	{{endif}}

	<div data-role='commentFeed' data-controller='core.front.core.moderation'>
		{{if ( $comments = $event->comments( NULL, NULL, 'date', 'asc', NULL, NULL, NULL, NULL, FALSE, isset( \IPS\Request::i()->showDeleted ) ) and \count( $comments ) )}}
			<form action="{$event->url()->csrf()->setQueryString( 'do', 'multimodComment' )->setPage('page',\IPS\Request::i()->page)}" method="post" data-ipsPageAction data-role='moderationTools'>
				{{$commentCount=0; $timeLastRead = $event->timeLastRead(); $lined = FALSE;}}
				{{foreach $comments as $comment}}
					{{if !$lined and $timeLastRead and $timeLastRead->getTimestamp() < $comment->mapped('date')}}
						{{if $lined = TRUE and $commentCount}}
							<hr class="ipsCommentUnreadSeperator">
						{{endif}}
					{{endif}}
					{{$commentCount++;}}
					{$comment->html()|raw}
				{{endforeach}}
				{template="commentMultimod" app="core" group="global" params="$event"}
			</form>
		{{else}}
			<p class='ipsType_normal ipsType_light ipsType_center' data-role='noComments'>{lang="no_comments"}</p>
		{{endif}}
	</div>
	{{if $event->commentPageCount() > 1}}
		<hr class='ipsHr'>
		{$event->commentPagination( array( 'tab' ) )|raw}
	{{endif}}
	{{if $event->commentForm() || $event->locked() || \IPS\Member::loggedIn()->restrict_post || \IPS\Member::loggedIn()->members_bitoptions['unacknowledged_warnings'] || !\IPS\Member::loggedIn()->checkPostsPerDay()}}
		<a id='replyForm'></a>
		<div data-role='replyArea' class='ipsBox ipsPad {{if !$event->canComment()}}cTopicPostArea_noSize{{endif}} ipsSpacer_top'>
			{{if $event->commentForm()}}
				{{if $event->locked()}}
					<p class='ipsType_reset ipsType_warning ipsComposeArea_warning ipsSpacer_bottom ipsSpacer_half'><i class='fa fa-info-circle'></i> {lang="event_locked_can_comment"}</p>
				{{endif}}
				{$event->commentForm()|raw}
				{{else}}
				{{if $event->locked()}}
					{template="commentUnavailable" group="forms" location="front" app="core" params="'event_locked_cannot_comment'"}
				{{elseif \IPS\Member::loggedIn()->restrict_post}}
					{template="commentUnavailable" group="forms" location="front" app="core" params="'restricted_cannot_comment', \IPS\Member::loggedIn()->warnings(5,NULL,'rpa'), \IPS\Member::loggedIn()->restrict_post"}
				{{elseif \IPS\Member::loggedIn()->members_bitoptions['unacknowledged_warnings']}}
					{template="commentUnavailable" group="forms" location="front" app="core" params="'unacknowledged_warning_cannot_post', \IPS\Member::loggedIn()->warnings( 1, FALSE )"}
				{{elseif !\IPS\Member::loggedIn()->checkPostsPerDay()}}
					{template="commentUnavailable" group="forms" location="front" app="core" params="'member_exceeded_posts_per_day'"}
				{{endif}}
			{{endif}}
		</div>
	{{endif}}
</div>]]></template>
 <template template_group="view" template_name="coverPhotoOverlay" template_data="$event" template_location="front" template_app="calendar"><![CDATA[{{$sameDay = FALSE;}}
{{if $event->_end_date}}
    {{$sameDay = !( ($event->_start_date->mday != $event->_end_date->mday) or ($event->_start_date->mon != $event->_end_date->mon) or ($event->_start_date->year != $event->_end_date->year) );}}
{{endif}}

<div class='cEvent_details'>
    <p class='cEvent__date'>
        {{if $event->_happening}}
            <span class="ipsBadge">{$event->_happening}</span>
        {{endif}}
    </p>
	<h1 class='ipsType_pageTitle ipsContained_container ipsType_break'>
		{{if $event->locked()}}<span><span><i class='fa fa-lock'></i></span></span> {{endif}}

		{{if $event->mapped('pinned') || $event->mapped('featured') || $event->hidden() === -1 || $event->hidden() === 1 || $event->hidden() === -2}}
			{{if $event->hidden() === -1}}
				<span><span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$event->hiddenBlurb()}'><i class='fa fa-eye-slash'></i></span></span>
			{{elseif $event->hidden() === -2}}
				<span><span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{$event->deletedBlurb()}'><i class='fa fa-trash'></i></span></span>
			{{elseif $event->hidden() === 1}}
				<span><span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span></span>
			{{endif}}
			{{if $event->mapped('pinned')}}
				<span><span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="pinned"}'><i class='fa fa-thumb-tack'></i></span></span>
			{{endif}}
			{{if $event->mapped('featured')}}
				<span><span class="ipsBadge ipsBadge_icon ipsBadge_positive" data-ipsTooltip title='{lang="featured"}'><i class='fa fa-star'></i></span></span>
			{{endif}}
		{{endif}}
		{{if $event->canEdit()}}
			<span class='ipsType_break ipsContained ipsPageHead_barText' data-controller="core.front.core.moderation">
				{{if $event->prefix() OR ( $event->canEdit() AND $event::canTag() AND $event::canPrefix() )}}
					<span {{if !$event->prefix()}}class='ipsHide'{{endif}} {{if ( $event->canEdit() AND $event::canTag() AND $event::canPrefix() )}}data-editablePrefix{{endif}}>
						{template="prefix" group="global" app="core" params="$event->prefix( TRUE ), $event->prefix()"}
					</span>
				{{endif}}
				<span data-role="editableTitle" title='{lang="click_hold_edit"}'>{$event->title}</span>
			</span>
		{{else}}
			<span class='ipsType_break ipsContained ipsPageHead_barText'>
				{{if $event->prefix() OR ( $event->canEdit() AND $event::canTag() AND $event::canPrefix() )}}
					<span {{if !$event->prefix()}}class='ipsHide'{{endif}} {{if ( $event->canEdit() AND $event::canTag() AND $event::canPrefix() )}}data-editablePrefix{{endif}}>
						{template="prefix" group="global" app="core" params="$event->prefix( TRUE ), $event->prefix()"}
					</span>
				{{endif}}
				{$event->title}
			</span>
		{{endif}}
	</h1>
	<p class='ipsType_normal ipsType_reset ipsPageHead_barText_small'>
		<time datetime='{expression="$event->_start_date->format( 'Y-m-d' )"}'>
			{{if $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )}}
				<span data-controller="core.global.core.datetime" data-time="{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}}, {expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"} {{endif}}">
					{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->calendarDate()}{{if !$event->all_day}}, {$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->localeTime( FALSE )} {{endif}}
				</span>
			{{else}}
				<span data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}} {expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"} {{endif}}">
					{$event->lastOccurrence( 'startDate' )->calendarDate()}{{if !$event->all_day}} {$event->lastOccurrence( 'startDate' )->localeTime( FALSE )} {{endif}}
				</span>
			{{endif}}
		</time>
		{{if $event->_end_date}}
			&nbsp;&nbsp;<i class='fa fa-arrow-circle-right ipsType_large ipsType_light'></i>&nbsp;&nbsp;
			<time datetime='{expression="$event->_end_date->format( 'Y-m-d' )"}'>
				{{$sameDay = !( ($event->_start_date->mday != $event->_end_date->mday) or ($event->_start_date->mon != $event->_end_date->mon) or ($event->_start_date->year != $event->_end_date->year) );}}
				{{if $endDate = $event->nextOccurrence( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )}}
					{{if !$sameDay}}
						<span data-controller="core.global.core.datetime" data-time="{$endDate->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}}, {{endif}}">
							{$endDate->calendarDate()}{{if !$event->all_day}}, {{endif}}
						</span>
					{{endif}}
					{{if !$event->all_day}}
						<span data-controller="core.global.core.datetime" data-time="{$endDate->format('c')}" data-format="{expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}">
							{$endDate->localeTime( FALSE )}
						</span>
					{{endif}}
				{{else}}
					<span data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'endDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}} {expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}{{endif}}">
						{$event->lastOccurrence( 'endDate' )->calendarDate()}{{if !$event->all_day}} {$event->lastOccurrence( 'endDate' )->localeTime( FALSE )}{{endif}}
					</span>
				{{endif}}
			</time>
		{{endif}}
	</p>
</div>]]></template>
 <template template_group="view" template_name="eventBlock" template_data="$event, $date, $truncate=FALSE, $map=array( 300, 200 ), $revertToFirst=FALSE" template_location="front" template_app="calendar"><![CDATA[{{$coverPhoto = $event->coverPhoto();}}
<div class='cCalendarBlock ipsAreaBackground_reset ipsBox ipsBox--child'>
	<div class='ipsPageHead_special ipsCoverPhoto' data-controller='core.global.core.coverPhoto' data-coverOffset='{$coverPhoto->offset}'>
		{{if $coverPhoto->file}}
			<div class='ipsCoverPhoto_container'>
				{{if settings.lazy_load_enabled}}
					<img src="{expression="\IPS\Text\Parser::blankImage()"}" data-src='{$coverPhoto->file->url}' class='ipsCoverPhoto_photo' alt='{$event->title}'>
				{{else}}
					<img src='{$coverPhoto->file->url}' class='ipsCoverPhoto_photo' alt='{$event->title}'>
				{{endif}}
			</div>
		{{endif}}
		<div class='ipsColumns'>
			<div class='ipsColumn ipsColumn_fixed ipsColumn_veryNarrow ipsPos_center'>
				<img src='{$event->author()->photo}' class="ipsUserPhoto ipsUserPhoto_mini" alt=''>
			</div>
			<div class='ipsColumn ipsColumn_fluid'>
				<h2 class='ipsType_pageTitle ipsType_blendLinks ipsPageHead_barText ipsPageHead_barText_small ipsType_break'><a href='{$event->url( "getPrefComment" )}' title='{$event->title}'>{truncate="$event->title" length="18"}{{if $event->hidden() === 1}} <span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>{{endif}}</a></h2>
			</div>
		</div>
	</div>
	<br>
	<div class='ipsPad ipsClearfix'>
		<h3 class='ipsType_reset'>
			{{$startDate = $event->nextOccurrence( $date, 'startDate' );}}
			{{if $revertToFirst AND $startDate AND $startDate->mon > $date->mon}}
				{{$startDate = $event->nextOccurrence( \IPS\calendar\Date::getDate( $date->year, $date->mon, 1 ), 'startDate' );}}
			{{endif}}
			{{if $startDate}}
				{{$nextEndDate = $event->nextOccurrence( $startDate ?: $date, 'endDate' );}}
				{{$sameDay = ( $nextEndDate AND $startDate->calendarDate() == $nextEndDate->calendarDate() );}}
				{$startDate->calendarDate()}{{if !$event->all_day}} {$startDate->localeTime( FALSE )} {{endif}}
				{{if $event->_end_date AND $event->nextOccurrence( $startDate ?: $date, 'endDate' ) }}
					&nbsp;&nbsp;<i class='fa fa-arrow-circle-right ipsType_large ipsType_light'></i>&nbsp;&nbsp;
					{{if !$sameDay}}
						{$event->nextOccurrence( $startDate ?: $date, 'endDate' )->calendarDate()}
					{{endif}}
					{{if !$event->all_day}}
						{{if !$sameDay}} {{endif}}
						{$event->nextOccurrence( $startDate ?: $date, 'endDate' )->localeTime( FALSE )}
					{{endif}}
				{{endif}}
			{{else}}
				{$event->lastOccurrence( 'startDate' )->calendarDate()}{{if !$event->all_day}} {$event->lastOccurrence( 'startDate' )->localeTime( FALSE )} {{endif}}
				{{if $event->_end_date AND $event->lastOccurrence( 'endDate' ) }}
					&nbsp;&nbsp;<i class='fa fa-arrow-circle-right ipsType_large ipsType_light'></i>&nbsp;&nbsp;{$event->lastOccurrence( 'endDate' )->calendarDate()}{{if !$event->all_day}} {$event->lastOccurrence( 'endDate' )->localeTime( FALSE )}{{endif}}
				{{endif}}
			{{endif}}
		</h3>
		{{if $event->recurring}}<p class='ipsType_reset ipsType_normal ipsType_light'>{$event->_recurring_text}</p><br>{{endif}}
		<div class='ipsType_richText ipsType_medium' {{if ( \IPS\Request::i()->isAjax() or $truncate ) && $event->content}}data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='5 lines'{{endif}}>
			{{if $event->content}}
				{{if \IPS\Request::i()->isAjax() or $truncate}}
					{$event->truncated()|raw}
				{{else}}
					{$event->content|raw}
				{{endif}}
			{{endif}}
			<p class='ipsType_medium ipsType_richText ipsSpacer_both'><a href='{$event->url( "getPrefComment" )}'>{lang="event_details"}</a></p>
		</div>
		{{if $map !== FALSE AND $event->map( $map[0], $map[1] )}}
			<div class='ipsAreaBackground_light cCalendarBlock_map ipsPad_half'>
				{$event->map( $map[0], $map[1] )|raw}
			</div>
		{{endif}}
		<br>
		<a href='{$event->container()->url()}' class='ipsPos_right ipsResponsive_noFloat cEvents_event cEvents_eventSmall cEvents_style{$event->container()->id}'>{$event->container()->_title}</a>
		{{if $event->container()->allow_comments}}<a href='{$event->url()->setQueryString( 'tab', 'comments' )}' class='ipsType_medium ipsType_noBreak'>{lang="event_comment_count" pluralize="$event->comments"}</a>{{endif}}
		{{if $event->container()->allow_comments AND $event->container()->allow_reviews}}&middot;{{endif}}
		{{if $event->container()->allow_reviews}}<a href='{$event->url()->setQueryString( 'tab', 'reviews' )}' class='ipsType_medium ipsType_noBreak'>{lang="event_review_count" pluralize="$event->reviews"}</a>{{endif}}
		{{if $event->rsvp }}
			<hr class='ipsHr'>
			<h4 class='ipsType_reset'><strong>{lang="event_rsvp_attendees_list" pluralize="$event->attendeeCount( \IPS\calendar\Event::RSVP_YES )"}</strong></h4>
			{{if \count( $event->attendees( \IPS\calendar\Event::RSVP_YES, 5 ) )}}
				<ul class='ipsList_inline ipsList_noSpacing ipsSpacer_top ipsSpacer_half'>
					{{foreach $event->attendees( \IPS\calendar\Event::RSVP_YES, 5 ) as $attendee}}
						<li>{template="userPhoto" app="core" group="global" params="$attendee, 'tiny'"}</li>
					{{endforeach}}
				</ul>
			{{endif}}
		{{endif}}
	</div>
    {{if settings.core_datalayer_enabled}}
    <script>
        $('body').trigger( 'ipsDataLayer', {
            _key: 'content_view',
            _properties: {
                {{foreach $event->getDataLayerProperties() as $key => $value}}
                $key : {expression="json_encode( $value )" raw="true"},
                {{endforeach}}
                view_location: 'hovercard',
            }
        } );
    </script>
    {{endif}}
</div>]]></template>
 <template template_group="view" template_name="eventBlocks" template_data="$events" template_location="front" template_app="calendar"><![CDATA[
<ul class='ipsDataList ipsDataList_reducedSpacing'>
	{{foreach $events as $event}}
		<li class='ipsDataItem'>
			<div class='ipsDataItem_icon cCalendar_date_overlay'>
				{{$nextOccurrence = $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: $event->lastOccurrence();}}
				<time datetime='{$nextOccurrence->mysqlDatetime()}' class='ipsCalendarDate'>
					<span class='ipsCalendarDate_month'>{$nextOccurrence->monthNameShort}</span>
					<span class='ipsCalendarDate_date'>{$nextOccurrence->mday}</span>
				</time>
			</div>
			<div class='ipsDataItem_main'>
				<a href="{$event->url( "getPrefComment" )}" title='{lang="view_this_event" sprintf="$event->title"}'>{$event->title}</a><br>
				<span class='ipsType_light ipsType_medium'>{lang="byline_nodate" sprintf="$event->author()->name"}</span><br>
			</div>
		</li>
	{{endforeach}}
</ul>]]></template>
 <template template_group="view" template_name="eventSidebar" template_data="$event, $attendees, $tabId='', $address=NULL" template_location="front" template_app="calendar"><![CDATA[
{{if $address || $event->map( 500, 500 )}}
	<div class='ipsBox ipsResponsive_pull ipsMargin_bottom'>
		{{if $event->map( 500, 500 )}}
			<div class='cEvents__sidebarMap'>
				{$event->map( 500, 500 )|raw}
			</div>
		{{endif}}
		{{if $event->venue || $address}}
			<div class='ipsPadding'>
				{{if $event->venue}}
					<div class='ipsMargin_bottom'>
						<h3 class='ipsType_minorHeading'>
							<strong>{lang="event_venue_name"}</strong>
						</h3>
						{lang="calendar_venue_{$event->venue()->id}" escape="true"}
					</div>
				{{endif}}
				{{if $address}}
					<div>{$address|raw}</div>
				{{endif}}
			</div>
		{{endif}}
	</div>
{{endif}}

{{if $event->online and $event->url}}
    {{if ( ( $event->rsvp and isset( $attendees[1][ \IPS\Member::loggedIn()->member_id ] ) ) or !$event->rsvp ) and !$event->hasPassed() }}
    <div class='ipsBox ipsResponsive_pull ipsMargin_bottom ipsPadding'>
        <a href='{$event->url}' target='_blank' class='ipsButton ipsButton_important ipsButton_fullWidth ipsMargin_bottom:half'>{lang="open_event"} <i class="fa fa-external-link" aria-hidden="true" style='margin-inline:.4em'></i></a>
        {{if $event->online_type}}
            <div class='cEvents__sidebarOnlineLogo'>
                <span>{lang="powered_by"}</span>
                {{if $event->online_type === "zoom"}}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 224"><path d="M814.1856 67.3887c3.8225 6.595 5.073 14.0983 5.486 22.5337l.5427 11.2433v78.62l.5544 11.2551c1.109 18.3809 14.6646 31.9719 33.187 33.128l11.1961.5546V101.1657l.5545-11.2433c.4601-8.341 1.699-15.986 5.5804-22.628a44.9022 44.9022 0 0 1 77.747.1415c3.8225 6.595 5.0141 14.2399 5.4742 22.4865l.5545 11.2079v78.6555l.5545 11.255c1.1562 18.4753 14.6056 32.0663 33.187 33.128l11.1961.5546V89.9224A89.8988 89.8988 0 0 0 910.1366.0236a89.6628 89.6628 0 0 0-67.424 30.45A89.7808 89.7808 0 0 0 775.2884.0118c-18.664 0-35.9831 5.663-50.3292 15.4433C716.2053 5.6865 696.6211.0118 685.3779.0118v224.7116l11.2432-.5545c18.8056-1.2388 32.3966-14.464 33.128-33.128l.6018-11.2551v-78.6202l.5545-11.2432c.4719-8.4826 1.6516-15.9387 5.486-22.5809a45.0202 45.0202 0 0 1 38.897-22.392 44.9494 44.9494 0 0 1 38.8972 22.4392zm-769.248 156.792 11.2432.5427h168.5307l-.5545-11.2079c-1.5219-18.4752-14.6056-31.9719-33.1398-33.1752l-11.2432-.5545H78.6673l134.801-134.8482-.5545-11.196c-.873-18.664-14.5112-32.1489-33.1398-33.1753L168.5307.059 0 .0118l.5545 11.2433c1.4747 18.2983 14.7472 32.078 33.128 33.1398l11.255.5545h101.1067L11.2432 179.7976l.5545 11.2432c1.109 18.5225 14.4759 31.9365 33.1399 33.128zM641.266 32.9039a112.3499 112.3499 0 0 1 0 158.9038 112.4325 112.4325 0 0 1-158.9391 0c-43.8758-43.8758-43.8758-115.028 0-158.9038A112.2909 112.2909 0 0 1 561.7258 0a112.3735 112.3735 0 0 1 79.5403 32.9157Zm-31.7949 31.8185a67.4477 67.4477 0 0 1 0 95.3494 67.4477 67.4477 0 0 1-95.3493 0 67.4477 67.4477 0 0 1 0-95.3494 67.4477 67.4477 0 0 1 95.3493 0zM325.9126 0a112.2909 112.2909 0 0 1 79.3987 32.9157c43.8876 43.864 43.8876 115.028 0 158.892a112.4325 112.4325 0 0 1-158.9391 0c-43.8758-43.8758-43.8758-115.028 0-158.9038A112.2909 112.2909 0 0 1 325.771 0Zm47.6038 64.6988a67.4477 67.4477 0 0 1 0 95.3612 67.4477 67.4477 0 0 1-95.3493 0 67.4477 67.4477 0 0 1 0-95.3494 67.4477 67.4477 0 0 1 95.3493 0z" fill="#2d8cff" fill-rule="evenodd"/></svg>
                {{elseif $event->online_type === "eventbrite"}}
                    <svg viewBox="0 0 200 36" xmlns="http://www.w3.org/2000/svg"><path d="M186.292 17.513a6.657 6.657 0 0 1 6.878 2.584l-11.905 2.693c.411-2.52 2.333-4.668 5.027-5.277zm6.945 9.91a6.57 6.57 0 0 1-3.98 2.679c-2.711.614-5.417-.51-6.907-2.626l11.941-2.702 1.945-.44 3.72-.841a11.77 11.77 0 0 0-.31-2.372c-1.514-6.426-8.056-10.432-14.612-8.949-6.556 1.484-10.644 7.896-9.13 14.321 1.513 6.426 8.055 10.433 14.611 8.95 3.863-.875 6.868-3.46 8.376-6.751l-5.654-1.269zm-28.102 7.695V18.082h-3.677v-5.804h3.677V4.289h6.244v7.989h4.69v5.804h-4.69v17.036h-6.244zm-11.928 0h6.03v-22.84h-6.03v22.84zm-.784-30.853c0-2.114 1.667-3.7 3.824-3.7s3.775 1.586 3.775 3.7c0 2.115-1.618 3.748-3.775 3.748s-3.824-1.633-3.824-3.748zm-1.315 8.077c-3.083.16-4.901.633-6.75 1.973v-2.037h-6.027v22.84h6.026v-11.2c0-3.524.86-5.529 6.751-5.726v-5.85zm-33.601 11.715c.15 3.333 3.051 6.128 6.602 6.128 3.602 0 6.553-2.942 6.553-6.422 0-3.432-2.951-6.373-6.553-6.373-3.55 0-6.452 2.843-6.602 6.128v.539zm-5.88 11.061V1.38l6.03-1.364v13.962c1.863-1.49 4.07-2.115 6.472-2.115 6.864 0 12.355 5.286 12.355 11.918 0 6.583-5.49 11.965-12.355 11.965-2.402 0-4.609-.624-6.472-2.114v1.487h-6.03v-.001zm-12.835 0V17.965h-3.677v-5.687h3.677V4.283l6.244-1.413v9.408h4.69v5.687h-4.69v17.153h-6.244zm-11.05 0V22.915c0-4.421-2.403-5.382-4.806-5.382-2.402 0-4.804.913-4.804 5.286v12.299h-6.03v-22.84h6.03v1.699c1.323-.961 2.941-2.115 6.129-2.115 5.098 0 9.511 2.932 9.511 10.092v13.164h-6.03zM56.831 17.513c2.694-.61 5.382.495 6.878 2.584L51.805 22.79c.41-2.52 2.333-4.668 5.026-5.277zm6.945 9.91a6.57 6.57 0 0 1-3.98 2.679 6.656 6.656 0 0 1-6.907-2.626l11.942-2.702 1.945-.44 3.719-.841a11.77 11.77 0 0 0-.31-2.372c-1.514-6.426-8.056-10.432-14.612-8.949-6.556 1.484-10.644 7.896-9.13 14.321 1.514 6.426 8.055 10.433 14.612 8.95 3.863-.875 6.868-3.46 8.375-6.751l-5.654-1.269zm-31.538 7.695-9.365-22.84h6.57l5.933 15.49 5.981-15.49h6.57l-9.364 22.84h-6.325zM11.05 17.507a6.658 6.658 0 0 1 6.879 2.584L6.024 22.785c.41-2.52 2.333-4.668 5.026-5.278zm6.945 9.91a6.57 6.57 0 0 1-3.98 2.68c-2.71.613-5.416-.51-6.907-2.626l11.942-2.702 1.945-.44 3.719-.842a11.782 11.782 0 0 0-.31-2.371c-1.514-6.426-8.055-10.433-14.612-8.95C3.236 13.65-.85 20.063.662 26.489c1.514 6.426 8.056 10.432 14.612 8.949 3.863-.874 6.868-3.46 8.376-6.75l-5.655-1.27v-.001z" fill="#F05537"/></svg>
                {{elseif $event->online_type === "on24"}}
                    <svg viewBox="-0.0374 -5.1555 205.0374 63.5155" xmlns="http://www.w3.org/2000/svg"><path d="m122.92 12.87-.76-.55c5.08-7.59 10.41-12 20.34-12 10.15 0 17.51 6.78 17.51 16v.17c0 8.24-4.35 13.31-14.28 21.94l-15.1 13.41h29.94v5.83h-35.23a4.21 4.21 0 0 1-4.21-4.21v-.73L141.6 34.6c8.63-7.76 11.79-12.11 11.79-17.75C153.4 10.21 148.16 6 142 6c-5 0-8.65 2-12.15 5.9l-.71.76a4.21 4.21 0 0 1-5.95.35z" fill="#232323"/><path d="M194.25 57.61A4.21 4.21 0 0 1 190 53.4v-9.21h-26.83a4.21 4.21 0 0 1-4-3l-.46-1.68 32-38.83h5.66v38.18H205v5.33h-8.7v13.42zm-4.17-18.75V9.73l-23.74 29.13z" fill="#232323"/><path d="M76.67 18.72v38.89h-6.38a3.35 3.35 0 0 1-3.68-3.69V.86h7.23a4.24 4.24 0 0 1 3.25 1.5l27.34 36.25V.86l6.4.05a3.35 3.35 0 0 1 3.68 3.68v53h-6.28a4.25 4.25 0 0 1-3.32-1.6zM50.22 6.26l.07.11a21.59 21.59 0 0 1 4 15.63C53 33.17 43.91 41.21 34.06 40c-7.83-1-13.78-7.52-15.21-15.75-3.12 7.25-.85 15.32 5.28 20.59a15.36 15.36 0 0 0 6.15 3.45H29.2a20.7 20.7 0 1 1 18.42-32l.13.14C45.09 6.94 37.93 0 26.09 0a22.37 22.37 0 0 0-10.82 2.77A29.63 29.63 0 0 0 0 28.62C0 45 13.56 58.36 30.27 58.36S60.55 45 60.55 28.62A29.42 29.42 0 0 0 50.26 6.29z" fill="#3040e8"/></svg>
                {{elseif $event->online_type === "facebook"}}
                    <svg viewBox="0 0 62.488 12.094" xmlns="http://www.w3.org/2000/svg"><g><path d="M4.8891 1.8945c-.7357 0-.9484.3263-.9484 1.046v1.194h1.9624l-.1967 1.9287H3.9415v5.8536h-2.355V6.0632H0V4.1344h1.5865v-1.161C1.5865 1.0276 2.371 0 4.5598 0c.4586-.001.917.0262 1.3723.0816v1.8152ZM6.0663 7.7801c0-2.1743 1.03-3.8119 3.1882-3.8119 1.1771 0 1.896.6053 2.2399 1.357V4.1345h2.2559v7.7824h-2.2559v-1.1771c-.327.7524-1.0628 1.341-2.2399 1.341-2.1583 0-3.1882-1.6353-3.1882-3.8119Zm2.3542.5238c0 1.1603.4246 1.9288 1.5202 1.9288.9651 0 1.4554-.703 1.4554-1.8145v-.7814c0-1.1116-.4903-1.8145-1.4554-1.8145-1.0956 0-1.5202.7685-1.5202 1.9288ZM18.6554 3.9705c.9149 0 1.7817.1967 2.256.523l-.523 1.668a3.7043 3.7043 0 0 0-1.5698-.3598c-1.2755 0-1.8297.7357-1.8297 1.9952v.4574c0 1.2595.5557 1.9952 1.8297 1.9952a3.7055 3.7055 0 0 0 1.5697-.3599l.523 1.6673c-.4742.3271-1.3402.5238-2.2559.5238-2.7636 0-4.0223-1.4882-4.0223-3.8752v-.3598c0-2.387 1.2587-3.8752 4.0223-3.8752ZM21.2216 8.323v-.6862c0-2.2071 1.2587-3.6594 3.8264-3.6594 2.4198 0 3.4825 1.4714 3.4825 3.6297v1.2426h-4.9554c.0495 1.0628.5237 1.537 1.8297 1.537.8836 0 1.8152-.18 2.5021-.4742l.4308 1.6124c-.6214.3278-1.8968.5726-3.0244.5726-2.9801-.0008-4.0917-1.4874-4.0917-3.7746Zm2.3542-1.014h2.8452v-.196c0-.85-.343-1.5247-1.3722-1.5247-1.0636.0007-1.473.6716-1.473 1.7176ZM37.2575 8.271c0 2.1744-1.046 3.812-3.202 3.812-1.1771 0-1.9944-.5886-2.3214-1.341v1.177H29.511V.2266L31.8652.013v5.1994c.343-.6861 1.0955-1.2427 2.191-1.2427 2.1584 0 3.202 1.6353 3.202 3.812Zm-2.3542-.5397c0-1.0955-.4247-1.9128-1.553-1.9128-.9652 0-1.4882.6862-1.4882 1.7985v.8172c0 1.1116.523 1.7985 1.4882 1.7985 1.1283 0 1.553-.8173 1.553-1.9128ZM38.045 8.2215v-.3918c0-2.2407 1.2755-3.8592 3.8752-3.8592s3.876 1.6185 3.876 3.8592v.3918c0 2.2399-1.2755 3.8592-3.8752 3.8592s-3.876-1.6193-3.876-3.8592Zm5.3962-.5557c0-1.03-.4254-1.8473-1.5248-1.8473-1.0993 0-1.521.8173-1.521 1.8473v.7196c0 1.03.4255 1.8473 1.521 1.8473 1.0956 0 1.5248-.8173 1.5248-1.8473ZM46.5791 8.2215v-.3918c0-2.2407 1.2755-3.8592 3.8752-3.8592s3.8752 1.6185 3.8752 3.8592v.3918c0 2.2399-1.2755 3.8592-3.8752 3.8592s-3.8752-1.6193-3.8752-3.8592Zm5.3962-.5557c0-1.03-.4255-1.8473-1.521-1.8473s-1.5202.8173-1.5202 1.8473v.7196c0 1.03.4247 1.8473 1.5202 1.8473s1.521-.8173 1.521-1.8473ZM57.5665 7.8457l2.3215-3.7113h2.5014l-2.4358 3.8424 2.5341 3.94h-2.5014l-2.4198-3.812v3.812h-2.355V.2265l2.355-.2135Z" fill="#1877f2"/></g></svg>
                {{elseif $event->online_type === "google"}}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 272 92"><path fill="#EA4335" d="M115.75 47.18c0 12.77-9.99 22.18-22.25 22.18s-22.25-9.41-22.25-22.18C71.25 34.32 81.24 25 93.5 25s22.25 9.32 22.25 22.18zm-9.74 0c0-7.98-5.79-13.44-12.51-13.44S80.99 39.2 80.99 47.18c0 7.9 5.79 13.44 12.51 13.44s12.51-5.55 12.51-13.44z"/><path fill="#FBBC05" d="M163.75 47.18c0 12.77-9.99 22.18-22.25 22.18s-22.25-9.41-22.25-22.18c0-12.85 9.99-22.18 22.25-22.18s22.25 9.32 22.25 22.18zm-9.74 0c0-7.98-5.79-13.44-12.51-13.44s-12.51 5.46-12.51 13.44c0 7.9 5.79 13.44 12.51 13.44s12.51-5.55 12.51-13.44z"/><path fill="#4285F4" d="M209.75 26.34v39.82c0 16.38-9.66 23.07-21.08 23.07-10.75 0-17.22-7.19-19.66-13.07l8.48-3.53c1.51 3.61 5.21 7.87 11.17 7.87 7.31 0 11.84-4.51 11.84-13v-3.19h-.34c-2.18 2.69-6.38 5.04-11.68 5.04-11.09 0-21.25-9.66-21.25-22.09 0-12.52 10.16-22.26 21.25-22.26 5.29 0 9.49 2.35 11.68 4.96h.34v-3.61h9.25zm-8.56 20.92c0-7.81-5.21-13.52-11.84-13.52-6.72 0-12.35 5.71-12.35 13.52 0 7.73 5.63 13.36 12.35 13.36 6.63 0 11.84-5.63 11.84-13.36z"/><path fill="#34A853" d="M225 3v65h-9.5V3h9.5z"/><path fill="#EA4335" d="m262.02 54.48 7.56 5.04c-2.44 3.61-8.32 9.83-18.48 9.83-12.6 0-22.01-9.74-22.01-22.18 0-13.19 9.49-22.18 20.92-22.18 11.51 0 17.14 9.16 18.98 14.11l1.01 2.52-29.65 12.28c2.27 4.45 5.8 6.72 10.75 6.72 4.96 0 8.4-2.44 10.92-6.14zm-23.27-7.98 19.82-8.23c-1.09-2.77-4.37-4.7-8.23-4.7-4.95 0-11.84 4.37-11.59 12.93z"/><path fill="#4285F4" d="M35.29 41.41V32H67c.31 1.64.47 3.58.47 5.68 0 7.06-1.93 15.79-8.15 22.01-6.05 6.3-13.78 9.66-24.02 9.66C16.32 69.35.36 53.89.36 34.91.36 15.93 16.32.47 35.3.47c10.5 0 17.98 4.12 23.6 9.49l-6.64 6.64c-4.03-3.78-9.49-6.72-16.97-6.72-13.86 0-24.7 11.17-24.7 25.03 0 13.86 10.84 25.03 24.7 25.03 8.99 0 14.11-3.61 17.39-6.89 2.66-2.66 4.41-6.46 5.1-11.65l-22.49.01z"/></svg>
                {{elseif $event->online_type === "webex"}}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 195.4 77.5"><defs><style>.svg__webex-logo{fill:#010101}</style></defs><path class="svg__webex-logo" d="M47.5 13.9H55L44.1 46.7h-8.6L27.4 22l-8.1 24.8h-8.4L0 13.9h7.6l7.8 25 8-25h8.1L39.7 39l7.8-25.1ZM87 33H62.8c.2 1.7.9 3.3 1.8 4.7.9 1.2 2.1 2.2 3.4 2.8 1.4.6 2.9.9 4.4.9 1.7 0 3.4-.3 5-.9 1.6-.6 3.2-1.5 4.5-2.6l3.6 5.1c-1.8 1.6-3.9 2.8-6.2 3.5-2.4.7-4.8 1.1-7.3 1.1-3 .1-6-.7-8.7-2.1-2.5-1.4-4.6-3.5-5.9-6.1-1.4-2.6-2.1-5.6-2.1-9.1-.1-3.1.7-6.2 2.1-9 1.3-2.5 3.3-4.6 5.8-6.1 2.6-1.5 5.5-2.2 8.5-2.2 2.8-.1 5.6.7 8.1 2.2 2.4 1.5 4.3 3.6 5.5 6.1 1.4 2.8 2 5.9 2 9-.2.7-.2 1.6-.3 2.7Zm-7.2-5.5c-.4-2.6-1.3-4.5-2.8-6-1.4-1.4-3.3-2.1-5.5-2.1-2.4 0-4.4.7-5.9 2.2s-2.4 3.4-2.8 5.9h17ZM117.6 15.3c2.5 1.5 4.5 3.6 5.9 6.2 1.5 2.7 2.2 5.8 2.2 8.9s-.7 6.2-2.2 8.9c-1.4 2.6-3.4 4.7-5.9 6.2s-5.4 2.3-8.3 2.2c-2 0-4.1-.4-5.9-1.2-1.7-.8-3.2-2-4.4-3.5v3.9h-7.2V0H99v17.9c1.2-1.5 2.7-2.7 4.4-3.5 1.9-.9 3.9-1.3 5.9-1.2 2.9-.1 5.8.6 8.3 2.1Zm-3.9 24.2c1.5-.9 2.7-2.2 3.5-3.8.8-1.7 1.2-3.5 1.2-5.3s-.4-3.7-1.2-5.3c-.8-1.6-2-2.9-3.5-3.8-1.6-1-3.4-1.4-5.2-1.4s-3.6.4-5.2 1.4c-1.5.9-2.7 2.2-3.5 3.8-.8 1.7-1.3 3.5-1.2 5.4 0 1.9.4 3.7 1.2 5.4.8 1.6 2 2.9 3.5 3.8 1.6.9 3.3 1.4 5.2 1.4 1.8-.2 3.6-.7 5.2-1.6ZM161.2 33H137c.2 1.7.9 3.3 1.8 4.7.9 1.2 2.1 2.2 3.4 2.8 1.4.6 2.9.9 4.4.9 1.7 0 3.4-.3 5-.9 1.6-.6 3.2-1.5 4.5-2.6l3.6 5.1c-1.8 1.6-3.9 2.8-6.2 3.5-2.4.7-4.8 1.1-7.3 1.1-3 .1-6-.7-8.7-2.1-2.5-1.4-4.6-3.5-5.9-6.1-1.4-2.6-2.1-5.6-2.1-9.1-.1-3.1.7-6.2 2.1-9 1.3-2.5 3.3-4.6 5.8-6.1 2.6-1.5 5.5-2.2 8.5-2.2 2.8-.1 5.6.7 8.1 2.2 2.4 1.5 4.3 3.6 5.5 6.1 1.4 2.8 2 5.9 2 9-.1.7-.2 1.6-.3 2.7Zm-7.2-5.5c-.4-2.6-1.3-4.5-2.8-6-1.4-1.4-3.3-2.1-5.6-2.1s-4.4.7-5.9 2.2c-1.5 1.4-2.4 3.4-2.8 5.9H154ZM195.4 46.8h-8.8l-8.3-11.4-8.2 11.4h-8.4L174.1 30l-12.3-16.1h8.8l8 11 8-11h8.5l-12.1 16 12.4 16.9ZM109.1 73.9h-1.5V60.7h1.8v5c.4-.5.8-.9 1.4-1.2s1.2-.4 1.8-.4 1.2.1 1.8.3c.6.3 1 .6 1.4 1.1.7.9 1 2.1 1 3.5 0 1.7-.5 3-1.4 4-.4.4-.9.7-1.4.9-.5.2-1.1.3-1.6.3-.6 0-1.2-.1-1.8-.4-.5-.3-1-.7-1.4-1.2l-.1 1.3ZM115 69c0-1.2-.3-2.1-.9-2.7-.2-.2-.5-.4-.9-.6-.3-.1-.7-.2-1-.2-.4 0-.8.1-1.2.2-.4.2-.7.4-.9.7-.5.7-.8 1.6-.7 2.5 0 1.2.3 2.2.9 2.8.2.3.6.5.9.6.3.1.7.2 1.1.2s.8-.1 1.2-.2c.4-.2.7-.4.9-.8.4-.4.6-1.3.6-2.5ZM126.3 64.4l-3.3 9.7c-.4 1.3-.9 2.2-1.3 2.6-.2.3-.5.5-.8.6s-.7.2-1 .2c-.4 0-.8-.1-1.1-.2v-1.4c.3.1.6.1.9.1.2 0 .3 0 .5-.1s.3-.2.4-.3c.3-.5.6-1.1.8-1.7h-.6l-3.5-9.6h1.9l2.7 8.1 2.7-8.1 1.7.1ZM150.5 60.7h-3.3V74h3.3V60.7ZM177.5 64.5c-.9-.5-1.8-.7-2.8-.7-2.2 0-3.7 1.5-3.7 3.5s1.4 3.5 3.7 3.5c1 0 1.9-.2 2.8-.7v3.6c-1 .3-2 .5-3 .5-3.8 0-7.1-2.6-7.1-6.9 0-4 3-6.9 7.1-6.9 1 0 2.1.2 3 .5v3.6ZM142.6 64.5c-.9-.5-1.8-.7-2.8-.7-2.2 0-3.7 1.5-3.7 3.5s1.4 3.5 3.7 3.5c1 0 1.9-.2 2.8-.7v3.6c-1 .3-2 .5-3.1.5-3.8 0-7.1-2.6-7.1-6.9 0-4 3-6.9 7.1-6.9 1 0 2.1.2 3.1.5v3.6ZM188 63.9c-.5 0-.9.1-1.3.3-.4.2-.8.4-1.1.8-.3.3-.6.7-.7 1.1-.2.4-.3.9-.2 1.3 0 .5.1.9.2 1.3.2.4.4.8.7 1.1.3.3.7.6 1.1.8.4.2.9.3 1.3.3.5 0 .9-.1 1.3-.3.4-.2.8-.4 1.1-.8.3-.3.6-.7.7-1.1.2-.4.3-.9.2-1.3 0-.5-.1-.9-.2-1.3-.2-.4-.4-.8-.7-1.1-.3-.3-.7-.6-1.1-.8-.4-.3-.8-.3-1.3-.3Zm7 3.4c0 3.8-2.9 6.9-7 6.9s-7-3.1-7-6.9 2.9-6.9 7-6.9c4.1.1 7 3.2 7 6.9ZM163.2 63.7c-.9-.2-1.7-.4-2.6-.4-1.3 0-2.1.4-2.1 1.1 0 .8 1 1.1 1.5 1.3l.9.3c2.2.7 3.2 2.2 3.2 3.8 0 3.3-2.9 4.4-5.5 4.4-1.2 0-2.4-.1-3.6-.4v-3.1c1 .3 2.1.5 3.2.5 1.7 0 2.4-.5 2.4-1.2s-.7-1.1-1.5-1.3l-.7-.2c-1.8-.6-3.4-1.7-3.4-3.9 0-2.5 1.8-4.1 4.9-4.1 1.1 0 2.2.2 3.3.4v2.8Z"/></svg>
                {{elseif $event->online_type === "slack"}}
                    <svg viewBox="0 0 498 127" xmlns="http://www.w3.org/2000/svg"><g fill="none"><path d="m159.5 99.5 6.2-14.4c6.7 5 15.6 7.6 24.4 7.6 6.5 0 10.6-2.5 10.6-6.3-.1-10.6-38.9-2.3-39.2-28.9-.1-13.5 11.9-23.9 28.9-23.9 10.1 0 20.2 2.5 27.4 8.2L212 56.5c-6.6-4.2-14.8-7.2-22.6-7.2-5.3 0-8.8 2.5-8.8 5.7.1 10.4 39.2 4.7 39.6 30.1 0 13.8-11.7 23.5-28.5 23.5-12.3 0-23.6-2.9-32.2-9.1m237.9-19.6c-3.1 5.4-8.9 9.1-15.6 9.1-9.9 0-17.9-8-17.9-17.9 0-9.9 8-17.9 17.9-17.9 6.7 0 12.5 3.7 15.6 9.1l17.1-9.5c-6.4-11.4-18.7-19.2-32.7-19.2-20.7 0-37.5 16.8-37.5 37.5s16.8 37.5 37.5 37.5c14.1 0 26.3-7.7 32.7-19.2l-17.1-9.5zM228.8 2.5h21.4v104.7h-21.4zm194.1 0v104.7h21.4V75.8l25.4 31.4h27.4l-32.3-37.3 29.9-34.8h-26.2L444.3 64V2.5zM313.8 80.1c-3.1 5.1-9.5 8.9-16.7 8.9-9.9 0-17.9-8-17.9-17.9 0-9.9 8-17.9 17.9-17.9 7.2 0 13.6 4 16.7 9.2v17.7zm0-45v8.5c-3.5-5.9-12.2-10-21.3-10-18.8 0-33.6 16.6-33.6 37.4 0 20.8 14.8 37.6 33.6 37.6 9.1 0 17.8-4.1 21.3-10v8.5h21.4v-72h-21.4z" fill="#000"/><path d="M27.2 80c0 7.3-5.9 13.2-13.2 13.2C6.7 93.2.8 87.3.8 80c0-7.3 5.9-13.2 13.2-13.2h13.2V80zm6.6 0c0-7.3 5.9-13.2 13.2-13.2 7.3 0 13.2 5.9 13.2 13.2v33c0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V80z" fill="#E01E5A"/><path d="M47 27c-7.3 0-13.2-5.9-13.2-13.2C33.8 6.5 39.7.6 47 .6c7.3 0 13.2 5.9 13.2 13.2V27H47zm0 6.7c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H13.9C6.6 60.1.7 54.2.7 46.9c0-7.3 5.9-13.2 13.2-13.2H47z" fill="#36C5F0"/><path d="M99.9 46.9c0-7.3 5.9-13.2 13.2-13.2 7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H99.9V46.9zm-6.6 0c0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V13.8C66.9 6.5 72.8.6 80.1.6c7.3 0 13.2 5.9 13.2 13.2v33.1z" fill="#2EB67D"/><path d="M80.1 99.8c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V99.8h13.2zm0-6.6c-7.3 0-13.2-5.9-13.2-13.2 0-7.3 5.9-13.2 13.2-13.2h33.1c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H80.1z" fill="#ECB22E"/></g></svg>
                {{elseif $event->online_type === "discord"}}
                    <svg id="svg__discord-a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 292 56.47"><defs><clipPath id="svg__discord-b"><path class="svg__discord-d" d="M0 0h292v56.47H0z"/></clipPath><clipPath id="svg__discord-c"><path class="svg__discord-d" d="M0 0h292v56.47H0z"/></clipPath><style>.svg__discord-d{fill:none}.svg__discord-e{fill:#5865f2}</style></defs><g clip-path="url(#svg__discord-b)"><g clip-path="url(#svg__discord-c)"><path class="svg__discord-e" d="M61.8 4.73C57.08 2.52 52.03.91 46.75 0c-.65 1.17-1.41 2.75-1.93 4-5.61-.84-11.17-.84-16.68 0-.52-1.25-1.3-2.83-1.95-4-5.28.91-10.34 2.53-15.06 4.74C1.6 19.13-.98 33.17.31 47.01c6.32 4.72 12.44 7.58 18.46 9.46 1.49-2.05 2.81-4.22 3.95-6.51-2.17-.83-4.26-1.85-6.23-3.03.52-.39 1.03-.79 1.53-1.21 12 5.61 25.05 5.61 36.91 0 .5.42 1.01.82 1.53 1.21-1.97 1.19-4.06 2.21-6.24 3.04 1.14 2.29 2.46 4.47 3.95 6.51 6.02-1.88 12.15-4.74 18.47-9.46 1.51-16.04-2.59-29.95-10.84-42.28ZM24.36 38.5c-3.6 0-6.56-3.36-6.56-7.46s2.89-7.47 6.56-7.47 6.62 3.36 6.56 7.47c0 4.1-2.89 7.46-6.56 7.46Zm24.24 0c-3.6 0-6.56-3.36-6.56-7.46s2.89-7.47 6.56-7.47 6.62 3.36 6.56 7.47c0 4.1-2.89 7.46-6.56 7.46ZM98.03 14.41h15.66c3.78 0 6.97.6 9.58 1.81 2.61 1.2 4.57 2.88 5.86 5.02 1.3 2.14 1.95 4.6 1.95 7.37s-.68 5.16-2.03 7.36c-1.35 2.2-3.41 3.94-6.19 5.23-2.77 1.28-6.2 1.93-10.31 1.93H98.01V14.41Zm14.38 21.41c2.54 0 4.5-.65 5.86-1.95 1.37-1.3 2.05-3.07 2.05-5.32 0-2.08-.61-3.74-1.82-4.98-1.22-1.24-3.06-1.87-5.52-1.87h-4.9v14.11h4.33ZM154.54 43.08c-2.17-.57-4.13-1.41-5.86-2.5v-6.81c1.31 1.04 3.07 1.89 5.28 2.57 2.21.67 4.34 1 6.41 1 .96 0 1.69-.13 2.19-.39.49-.26.74-.57.74-.93 0-.41-.13-.75-.4-1.03s-.79-.5-1.57-.7l-4.82-1.11c-2.76-.66-4.72-1.56-5.88-2.73-1.17-1.16-1.75-2.68-1.75-4.57 0-1.59.51-2.97 1.53-4.14 1.01-1.18 2.46-2.09 4.34-2.73 1.88-.64 4.07-.97 6.59-.97 2.25 0 4.31.25 6.19.74 1.88.49 3.43 1.12 4.66 1.89v6.44c-1.26-.77-2.71-1.37-4.36-1.83-1.65-.45-3.34-.67-5.08-.67-2.52 0-3.77.44-3.77 1.31 0 .41.2.72.59.92.39.21 1.11.42 2.15.64l4.02.74c2.62.46 4.58 1.28 5.86 2.44 1.29 1.16 1.93 2.88 1.93 5.15 0 2.49-1.06 4.47-3.19 5.93s-5.15 2.2-9.06 2.2c-2.3 0-4.54-.29-6.71-.87ZM182.98 42.22c-2.3-1.15-4.04-2.71-5.2-4.68s-1.74-4.18-1.74-6.65.6-4.66 1.81-6.6 2.97-3.46 5.3-4.57c2.33-1.11 5.11-1.66 8.35-1.66 4.02 0 7.35.86 10 2.58v7.51c-.93-.66-2.03-1.19-3.27-1.6-1.25-.41-2.58-.62-4-.62-2.49 0-4.43.46-5.84 1.39-1.41.93-2.11 2.14-2.11 3.65s.68 2.68 2.05 3.63c1.37.94 3.35 1.42 5.94 1.42 1.34 0 2.66-.2 3.96-.59 1.3-.4 2.42-.88 3.35-1.46v7.26c-2.94 1.81-6.36 2.71-10.24 2.71-3.27-.01-6.06-.59-8.36-1.73ZM211.52 42.22c-2.32-1.15-4.09-2.72-5.3-4.72-1.22-2-1.83-4.23-1.83-6.69s.61-4.66 1.83-6.59c1.22-1.93 2.98-3.44 5.29-4.54 2.3-1.1 5.05-1.64 8.23-1.64s5.93.55 8.23 1.64 4.06 2.6 5.26 4.51c1.21 1.92 1.81 4.11 1.81 6.6s-.6 4.69-1.81 6.69-2.97 3.57-5.28 4.72c-2.32 1.15-5.06 1.72-8.22 1.72s-5.9-.57-8.21-1.72Zm12.2-7.28c.98-1 1.47-2.31 1.47-3.96s-.49-2.95-1.47-3.91c-.98-.97-2.31-1.46-3.99-1.46s-3.06.49-4.04 1.46c-.97.97-1.46 2.27-1.46 3.91s.49 2.96 1.46 3.96c.98 1 2.32 1.5 4.04 1.5 1.69 0 3.02-.5 3.99-1.5ZM259.17 19.57v8.86c-1.02-.69-2.34-1.03-3.98-1.03-2.14 0-3.79.66-4.94 1.99-1.15 1.32-1.73 3.39-1.73 6.18v7.55h-9.84v-24h9.64v7.63c.53-2.79 1.4-4.85 2.59-6.18 1.19-1.32 2.72-1.99 4.6-1.99 1.42 0 2.63.33 3.66.98ZM291.86 13.59v29.54h-9.84v-5.37c-.83 2.02-2.09 3.56-3.79 4.62-1.7 1.05-3.8 1.58-6.29 1.58-2.23 0-4.16-.55-5.82-1.66-1.66-1.11-2.94-2.63-3.84-4.55-.89-1.93-1.35-4.11-1.35-6.55-.03-2.51.45-4.77 1.43-6.77s2.36-3.56 4.14-4.68c1.78-1.12 3.81-1.68 6.09-1.68 4.69 0 7.83 2.08 9.44 6.24V13.59h9.84Zm-11.31 21.19c1-1 1.5-2.29 1.5-3.87s-.49-2.78-1.46-3.73c-.98-.96-2.31-1.44-3.99-1.44s-2.98.49-3.98 1.46c-.99.97-1.49 2.23-1.49 3.79s.49 2.83 1.49 3.82 2.3 1.48 3.94 1.48c1.66 0 2.99-.5 3.99-1.5ZM139.38 21.68c2.71 0 4.91-2.02 4.91-4.5s-2.2-4.5-4.91-4.5-4.91 2.01-4.91 4.5 2.2 4.5 4.91 4.5ZM134.47 24.78c3.01 1.32 6.74 1.38 9.81 0v18.47h-9.81V24.78Z"/></g></g></svg>
                {{elseif $event->online_type === "teams"}}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2228.833 2073.333"><path fill="#5059C9" d="M1554.637 777.5h575.713c54.391 0 98.483 44.092 98.483 98.483v524.398c0 199.901-162.051 361.952-361.952 361.952h-1.711c-199.901.028-361.975-162-362.004-361.901V828.971c.001-28.427 23.045-51.471 51.471-51.471z"/><circle fill="#5059C9" cx="1943.75" cy="440.583" r="233.25"/><circle fill="#7B83EB" cx="1218.083" cy="336.917" r="336.917"/><path fill="#7B83EB" d="M1667.323 777.5H717.01c-53.743 1.33-96.257 45.931-95.01 99.676v598.105c-7.505 322.519 247.657 590.16 570.167 598.053 322.51-7.893 577.671-275.534 570.167-598.053V877.176c1.245-53.745-41.268-98.346-95.011-99.676z"/><path opacity=".1" d="M1244 777.5v838.145c-.258 38.435-23.549 72.964-59.09 87.598a91.8564 91.8564 0 0 1-35.765 7.257H667.613c-6.738-17.105-12.958-34.21-18.142-51.833a631.2871 631.2871 0 0 1-27.472-183.49V877.02c-1.246-53.659 41.198-98.19 94.855-99.52H1244z"/><path opacity=".2" d="M1192.167 777.5v889.978a91.8383 91.8383 0 0 1-7.257 35.765c-14.634 35.541-49.163 58.833-87.598 59.09H691.975c-8.812-17.105-17.105-34.21-24.362-51.833-7.257-17.623-12.958-34.21-18.142-51.833a631.282 631.282 0 0 1-27.472-183.49V877.02c-1.246-53.659 41.198-98.19 94.855-99.52h475.313z"/><path opacity=".2" d="M1192.167 777.5v786.312c-.395 52.223-42.632 94.46-94.855 94.855h-447.84A631.282 631.282 0 0 1 622 1475.177V877.02c-1.246-53.659 41.198-98.19 94.855-99.52h475.312z"/><path opacity=".2" d="M1140.333 777.5v786.312c-.395 52.223-42.632 94.46-94.855 94.855H649.472A631.282 631.282 0 0 1 622 1475.177V877.02c-1.246-53.659 41.198-98.19 94.855-99.52h423.478z"/><path opacity=".1" d="M1244 509.522v163.275c-8.812.518-17.105 1.037-25.917 1.037-8.812 0-17.105-.518-25.917-1.037a284.4725 284.4725 0 0 1-51.833-8.293c-104.963-24.857-191.679-98.469-233.25-198.003a288.0208 288.0208 0 0 1-16.587-51.833h258.648c52.305.198 94.657 42.549 94.856 94.854z"/><path opacity=".2" d="M1192.167 561.355v111.442a284.4725 284.4725 0 0 1-51.833-8.293c-104.963-24.857-191.679-98.469-233.25-198.003h190.228c52.304.198 94.656 42.55 94.855 94.854z"/><path opacity=".2" d="M1192.167 561.355v111.442a284.4725 284.4725 0 0 1-51.833-8.293c-104.963-24.857-191.679-98.469-233.25-198.003h190.228c52.304.198 94.656 42.55 94.855 94.854z"/><path opacity=".2" d="M1140.333 561.355v103.148c-104.963-24.857-191.679-98.469-233.25-198.003h138.395c52.305.199 94.656 42.551 94.855 94.855z"/><linearGradient id="svg__teams-a" gradientUnits="userSpaceOnUse" x1="198.099" y1="1683.0726" x2="942.2344" y2="394.2607" gradientTransform="matrix(1 0 0 -1 0 2075.3333)"><stop offset="0" stop-color="#5a62c3"/><stop offset=".5" stop-color="#4d55bd"/><stop offset="1" stop-color="#3940ab"/></linearGradient><path fill="url(#svg__teams-a)" d="M95.01 466.5h950.312c52.473 0 95.01 42.538 95.01 95.01v950.312c0 52.473-42.538 95.01-95.01 95.01H95.01c-52.473 0-95.01-42.538-95.01-95.01V561.51c0-52.472 42.538-95.01 95.01-95.01z"/><path fill="#FFF" d="M820.211 828.193h-189.97v517.297h-121.03V828.193H320.123V727.844h500.088v100.349z"/></svg>
                {{elseif $event->online_type === "tiktok"}}
                	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 291.379" xml:space="preserve"><path fill="#FF004F" d="M191.102 105.182c18.814 13.442 41.862 21.351 66.755 21.351V78.656c-4.711.001-9.41-.49-14.019-1.466v37.686c-24.891 0-47.936-7.909-66.755-21.35v97.703c0 48.876-39.642 88.495-88.54 88.495-18.245 0-35.203-5.513-49.29-14.968 16.078 16.431 38.5 26.624 63.306 26.624 48.901 0 88.545-39.619 88.545-88.497v-97.701h-.002zm17.294-48.302c-9.615-10.499-15.928-24.067-17.294-39.067v-6.158h-13.285c3.344 19.065 14.75 35.353 30.579 45.225zM70.181 227.25a40.2992 40.2992 0 0 1-8.262-24.507c0-22.354 18.132-40.479 40.502-40.479 4.169-.001 8.313.637 12.286 1.897v-48.947a89.3489 89.3489 0 0 0-14.013-.807v38.098a40.561 40.561 0 0 0-12.292-1.896c-22.37 0-40.501 18.123-40.501 40.48 0 15.808 9.063 29.494 22.28 36.161z"/><path d="M177.083 93.525c18.819 13.441 41.864 21.35 66.755 21.35V77.189c-13.894-2.958-26.194-10.215-35.442-20.309-15.83-9.873-27.235-26.161-30.579-45.225h-34.896v191.226c-.079 22.293-18.18 40.344-40.502 40.344-13.154 0-24.84-6.267-32.241-15.975-13.216-6.667-22.279-20.354-22.279-36.16 0-22.355 18.131-40.48 40.501-40.48 4.286 0 8.417.667 12.292 1.896v-38.098c-48.039.992-86.674 40.224-86.674 88.474 0 24.086 9.621 45.921 25.236 61.875 14.087 9.454 31.045 14.968 49.29 14.968 48.899 0 88.54-39.621 88.54-88.496V93.525h-.001z"/><path fill="#00F2EA" d="M243.838 77.189v-10.19a66.768 66.768 0 0 1-35.442-10.12 66.9532 66.9532 0 0 0 35.442 20.31zm-66.021-65.534a68.2815 68.2815 0 0 1-.734-5.497V0h-48.182v191.228c-.077 22.29-18.177 40.341-40.501 40.341-6.554 0-12.742-1.555-18.222-4.318 7.401 9.707 19.087 15.973 32.241 15.973 22.32 0 40.424-18.049 40.502-40.342V11.655h34.896zm-77.123 102.753V103.56c-4.026-.55-8.085-.826-12.149-.824C39.642 102.735 0 142.356 0 191.228c0 30.64 15.58 57.643 39.255 73.527-15.615-15.953-25.236-37.789-25.236-61.874 0-48.249 38.634-87.481 86.675-88.473z"/><path fill="#FF004F" d="M802.126 239.659c34.989 0 63.354-28.136 63.354-62.84 0-34.703-28.365-62.844-63.354-62.844h-9.545c34.99 0 63.355 28.14 63.355 62.844s-28.365 62.84-63.355 62.84h9.545z"/><path fill="#00F2EA" d="M791.716 113.975h-9.544c-34.988 0-63.358 28.14-63.358 62.844s28.37 62.84 63.358 62.84h9.544c-34.993 0-63.358-28.136-63.358-62.84-.001-34.703 28.365-62.844 63.358-62.844z"/><path d="M310.062 85.572v31.853h37.311v121.374h37.326V118.285h30.372l10.414-32.712H310.062zm305.482 0v31.853h37.311v121.374h37.326V118.285h30.371l10.413-32.712H615.544zm-183.11 18.076c0-9.981 8.146-18.076 18.21-18.076 10.073 0 18.228 8.095 18.228 18.076 0 9.982-8.15 18.077-18.228 18.077-10.064-.005-18.21-8.095-18.21-18.077zm0 30.993h36.438v104.158h-36.438V134.641zm52.062-49.069v153.226h36.452v-39.594l11.283-10.339 35.577 50.793h39.05l-51.207-74.03 45.997-44.768H557.39l-36.442 36.153V85.572h-36.452zm393.127 0v153.226h36.457v-39.594l11.278-10.339 35.587 50.793H1000l-51.207-74.03 45.995-44.768h-44.256l-36.452 36.153V85.572h-36.457zM792.578 239.659c34.988 0 63.358-28.136 63.358-62.84 0-34.703-28.37-62.844-63.358-62.844h-.865c-34.99 0-63.355 28.14-63.355 62.844s28.365 62.84 63.355 62.84h.865zm-31.242-62.84c0-16.881 13.8-30.555 30.817-30.555 17.005 0 30.804 13.674 30.804 30.555s-13.799 30.563-30.804 30.563c-17.017-.003-30.817-13.682-30.817-30.563z"/></svg>
                {{elseif $event->online_type === "twitch"}}
                	<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 454.9307 150.776"><path d="M444.54 51.9893 426.3453 33.796h-33.8v-23.4H363.944v106.5867h28.6013v-54.596h23.3934v54.596H444.54V51.9893ZM353.552 33.796h-44.1947l-18.1986 18.1933v46.792l18.1986 18.2014h44.1947V88.3893h-33.8V62.3867h33.8V33.796zm-72.792 0h-23.3933v-23.4h-28.6014v88.3853l18.1987 18.2014h33.796V88.3893h-23.3933V62.3867H280.76V33.796zm-62.3933-23.4h-28.5934v13.0027h28.5934V10.396zm0 23.4h-28.5934v83.1853h28.5934V33.796zm-38.992 0h-28.596v54.5933h-10.396V33.796h-28.5974v54.5933h-10.3946V33.796H72.7893v83.1867H161.18l18.1947-18.2014V33.796zm-116.984 0H38.996v-23.4H10.4v88.3853l18.1973 18.2014h33.7934V88.3893H38.996V62.3867h23.3947V33.796zm392.54 12.9933v77.988l-38.992 25.9987H389.944v-13.0027l-18.1973 13.0027h-23.3934v-13.0027l-12.9946 13.0027h-41.596L280.76 137.7733l-2.6027 13.0027H241.768l-14.8813-13.0027-.8334 13.0027h-41.2466l-1.4587-13.0027-11.1653 13.0027h-63l-13-5.2v5.2h-33.792l-38.996-23.4027L0 103.988V0h49.396l23.3933 23.3987h106.5854V0h88.3866v23.3987h23.3974v12.9946l13.0026-12.9946h25.9907L353.552 0h49.392v23.3987h28.5973l23.3894 23.3906Z" fill="#6441a5" fill-rule="evenodd"/></svg>
                {{elseif $event->online_type === "vimeo"}}
                	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 20" fill="#1ab7ea"><path d="M15.72 9.431c-.069 1.514-1.127 3.588-3.172 6.22-2.114 2.749-3.903 4.124-5.367 4.124-.906 0-1.673-.837-2.3-2.512-.418-1.535-.837-3.069-1.255-4.604-.465-1.674-.964-2.512-1.498-2.512-.116 0-.524.245-1.221.733l-.731-.943C.943 9.263 1.7 8.588 2.445 7.912c1.024-.884 1.792-1.35 2.305-1.397 1.21-.116 1.955.712 2.235 2.483.302 1.912.511 3.101.628 3.566.349 1.586.733 2.378 1.152 2.378.326 0 .815-.515 1.467-1.543.651-1.029 1-1.812 1.047-2.349.093-.888-.256-1.333-1.047-1.333-.373 0-.757.085-1.151.255.764-2.504 2.224-3.721 4.38-3.652 1.598.047 2.351 1.084 2.259 3.111"/><path d="M22.281 1.918c-.023.58-.314 1.136-.874 1.669-.628.602-1.373.903-2.234.903-1.327 0-1.968-.579-1.921-1.737.022-.602.378-1.182 1.064-1.738.687-.555 1.449-.834 2.288-.834.489 0 .896.192 1.223.574.325.382.477.77.454 1.163zm3.038 12.419c-.652 1.232-1.548 2.349-2.689 3.349-1.56 1.349-3.119 2.024-4.679 2.024-.723 0-1.275-.233-1.659-.699-.384-.465-.565-1.069-.541-1.814.022-.767.261-1.954.715-3.56.454-1.605.682-2.466.682-2.582 0-.605-.21-.908-.629-.908-.139 0-.536.245-1.188.733l-.803-.943c.745-.674 1.49-1.349 2.235-2.025 1.001-.884 1.746-1.35 2.236-1.397.768-.069 1.332.157 1.693.679.36.523.494 1.2.402 2.035-.303 1.415-.629 3.212-.978 5.392-.024.998.337 1.496 1.082 1.496.326 0 .908-.344 1.746-1.033.699-.574 1.269-1.114 1.712-1.62l.663.873"/><path d="M47.127 14.336c-.652 1.233-1.548 2.349-2.689 3.349-1.56 1.349-3.12 2.024-4.679 2.024-1.514 0-2.247-.837-2.2-2.513.022-.745.168-1.639.436-2.686.267-1.048.413-1.862.436-2.444.024-.883-.245-1.326-.806-1.326-.607 0-1.331.722-2.172 2.165-.887 1.514-1.367 2.98-1.436 4.4-.05 1.002.05 1.77.293 2.305-1.624.047-2.762-.221-3.411-.803-.582-.512-.848-1.361-.801-2.549.02-.745.136-1.49.343-2.235.205-.745.319-1.408.342-1.991.05-.861-.268-1.292-.944-1.292-.583 0-1.213.664-1.888 1.991-.676 1.326-1.049 2.712-1.119 4.155-.05 1.305.04 2.212.25 2.724-1.598.047-2.733-.29-3.404-1.01-.558-.603-.812-1.52-.765-2.751.02-.603.129-1.445.321-2.524.192-1.08.299-1.921.321-2.525.05-.417-.06-.627-.314-.627-.14 0-.536.236-1.188.707l-.838-.943c.117-.092.849-.768 2.2-2.025.978-.907 1.641-1.373 1.99-1.396.606-.047 1.094.203 1.467.75.372.547.559 1.182.559 1.903 0 .233-.02.454-.07.664.349-.535.756-1.002 1.222-1.398 1.071-.93 2.27-1.455 3.597-1.571 1.141-.093 1.955.174 2.445.803.395.512.581 1.246.558 2.2.163-.139.338-.291.525-.454.534-.628 1.058-1.128 1.57-1.501.861-.629 1.759-.978 2.689-1.048 1.118-.093 1.921.173 2.41.8.418.51.605 1.241.559 2.191-.024.65-.181 1.595-.472 2.836-.292 1.241-.436 1.953-.436 2.139-.024.488.023.824.139 1.009.117.186.395.278.838.278.326 0 .907-.344 1.746-1.034.698-.573 1.269-1.113 1.712-1.619l.664.872"/><path d="M52.295 10.654c.022-.625-.233-.938-.767-.938-.698 0-1.407.481-2.127 1.442-.721.961-1.093 1.882-1.116 2.762-.013 0-.013.151 0 .452 1.139-.417 2.127-1.053 2.964-1.911.674-.741 1.022-1.344 1.046-1.807zm7.927 3.646c-.675 1.117-2.002 2.232-3.981 3.348-2.467 1.418-4.971 2.126-7.508 2.126-1.885 0-3.237-.628-4.051-1.885-.582-.861-.861-1.885-.838-3.072.023-1.885.862-3.677 2.515-5.377 1.815-1.862 3.957-2.794 6.425-2.794 2.282 0 3.492.93 3.632 2.787.093 1.184-.559 2.404-1.956 3.658-1.49 1.371-3.365 2.241-5.622 2.612.418.581 1.046.871 1.885.871 1.676 0 3.504-.426 5.483-1.279 1.42-.599 2.538-1.221 3.353-1.866l.663.871"/><path d="M65.755 11.828c.023-.63-.064-1.207-.262-1.732-.198-.524-.484-.788-.855-.788-1.188 0-2.166.642-2.933 1.925-.653 1.05-1.003 2.17-1.048 3.358-.024.584.081 1.098.314 1.54.255.514.616.77 1.083.77 1.047 0 1.944-.617 2.689-1.854.628-1.027.965-2.1 1.012-3.219zm3.946.132c-.093 2.139-.884 3.987-2.374 5.544-1.49 1.557-3.342 2.336-5.553 2.336-1.839 0-3.236-.593-4.19-1.779-.698-.883-1.083-1.987-1.152-3.311-.118-2 .604-3.836 2.165-5.51 1.676-1.859 3.782-2.789 6.32-2.789 1.629 0 2.863.547 3.702 1.639.792 1 1.152 2.29 1.082 3.87"/></svg>
                {{elseif $event->online_type === "spotme"}}
                	<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 131 35"><defs><path id="spotme-a" d="M96.11 34.27h10.4v11.1h-10.4z"/><path id="spotme-e" d="M106.51 39.82c0 3.07-2.33 5.56-5.2 5.56s-5.2-2.49-5.2-5.56c0-3.06 2.33-5.55 5.2-5.55s5.2 2.49 5.2 5.55"/><path id="spotme-b" d="M127.4 68.4h-13.83V46.21h13.84z"/><path id="spotme-g" d="M113.72 64.98c.28-.4.52-.87.8-1.27s.71-.52 1.05-.24c.18.15 2.56 2.12 4.93 2.12 2.13 0 3.49-1.3 3.49-2.86 0-1.85-1.6-3.02-4.66-4.28-3.14-1.33-5.6-2.96-5.6-6.53 0-2.4 1.84-5.7 6.74-5.7 3.09 0 5.4 1.6 5.7 1.82.25.15.5.58.19 1.04l-.77 1.17c-.25.4-.65.59-1.08.31-.22-.12-2.37-1.54-4.16-1.54-2.6 0-3.48 1.63-3.48 2.77 0 1.76 1.35 2.84 3.91 3.89 3.58 1.44 6.63 3.14 6.63 6.9 0 3.2-2.87 5.81-6.88 5.81a10 10 0 0 1-6.62-2.43c-.28-.24-.5-.46-.19-.98"/><path id="spotme-h" d="M133.72 57.47v-7.7h4.2c2.1 0 3.86 1.62 3.86 3.73a3.91 3.91 0 0 1-3.86 3.97zM130.6 67.8c0 .31.24.6.58.6h1.97a.6.6 0 0 0 .58-.6v-7.29h4.4c3.72 0 6.79-3.13 6.79-6.98a6.87 6.87 0 0 0-6.81-6.86h-6.93a.58.58 0 0 0-.58.59z"/><path id="spotme-i" d="M157.71 65.9a8.01 8.01 0 0 1-7.95-8.03c0-4.4 3.6-8.1 7.95-8.1a8.1 8.1 0 0 1 7.98 8.1c0 4.43-3.59 8.03-7.98 8.03zm0-19.23c-6.14 0-11.02 5-11.02 11.2a11.03 11.03 0 1 0 22.07 0c0-6.2-4.9-11.2-11.05-11.2z"/><path id="spotme-j" d="M174.93 49.59h-4.99a.59.59 0 0 1-.58-.6v-1.73c0-.31.24-.59.58-.59h13.16c.33 0 .58.28.58.59V49c0 .3-.25.59-.58.59h-4.99V67.8a.6.6 0 0 1-.58.58h-2.02a.6.6 0 0 1-.58-.58z"/><path id="spotme-k" d="M187.43 47.13c.06-.24.3-.46.55-.46h.48c.18 0 .45.15.51.34l6.3 15.85h.13L201.67 47c.07-.19.3-.34.52-.34h.48c.24 0 .48.22.54.46l3.72 20.84c.09.44-.12.72-.55.72h-1.96a.63.63 0 0 1-.57-.44L201.6 54.4h-.08l-5.44 14.27c-.06.18-.24.34-.51.34h-.54c-.24 0-.46-.16-.52-.34l-5.46-14.27h-.12l-2.17 13.86c-.03.22-.3.44-.55.44h-1.96c-.42 0-.63-.28-.57-.72z"/><path id="spotme-c" d="M223.93 68.69v-21.9h-13.26v21.9h13.26z"/><path id="spotme-m" d="M210.67 47.38c0-.3.24-.59.58-.59h12.1c.34 0 .58.28.58.6v1.75c0 .3-.24.59-.57.59h-9.57v6.38h8.09c.3 0 .57.28.57.6v1.75c0 .34-.27.6-.57.6h-8.1v6.72h9.58c.33 0 .57.28.57.6v1.72c0 .3-.24.59-.57.59h-12.11a.58.58 0 0 1-.58-.6z"/><path id="spotme-n" d="M106.88 50.86c.08.1.09.22 0 .31-.3.36-1.08 1.24-1.57 1.78-.14.16-.4.05-.4-.16l.1-3.27c.01-.2.25-.3.4-.16l1.47 1.5zm-8.98-1.5a.23.23 0 0 1 .39.16l.1 3.27c0 .21-.26.32-.4.16-.5-.54-1.26-1.42-1.58-1.78a.23.23 0 0 1 .01-.3c.3-.33 1.03-1.06 1.48-1.5zm7.26 7.4c-.1-.35 0-.73.27-.97l4.66-4.16a.63.63 0 0 0 .02-.92c-.89-.87-2.7-2.6-3.7-3.6a1.53 1.53 0 0 0-1.08-.44h-7.36c-.4 0-.78.16-1.07.44l-3.71 3.6a.63.63 0 0 0 .02.92l4.66 4.16c.27.24.38.62.27.97l-2.8 9.29c-.08.23-1.65 1.58-2.27 2.12a.13.13 0 0 0 .09.22h5.55c.12 0 .22-.09.24-.21.95-5.7 1.71-8.42 2.24-9.74a.5.5 0 0 1 .92 0c.53 1.32 1.29 4.03 2.24 9.74.02.12.12.21.25.21h5.55c.11 0 .17-.14.08-.22-.62-.54-2.19-1.9-2.27-2.12z"/><clipPath id="spotme-d"><use xlink:href="#spotme-a"/></clipPath><clipPath id="spotme-f"><use xlink:href="#spotme-b"/></clipPath><clipPath id="spotme-l"><use xlink:href="#spotme-c"/></clipPath></defs><g clip-path="url(#spotme-d)" transform="translate(-93 -34)"><use fill="#e85224" xlink:href="#spotme-e"/></g><g clip-path="url(#spotme-f)" transform="translate(-93 -34)"><use fill="#e85224" xlink:href="#spotme-g"/></g><use fill="#e85224" xlink:href="#spotme-h" transform="translate(-93 -34)"/><use fill="#e85224" xlink:href="#spotme-i" transform="translate(-93 -34)"/><use fill="#e85224" xlink:href="#spotme-j" transform="translate(-93 -34)"/><use fill="#e85224" xlink:href="#spotme-k" transform="translate(-93 -34)"/><g clip-path="url(#spotme-l)" transform="translate(-93 -34)"><use fill="#e85224" xlink:href="#spotme-m"/></g><use fill="#353431" xlink:href="#spotme-n" transform="translate(-93 -34)"/></svg>
                {{endif}}
            </div>
        {{endif}}
    </div>
    {{endif}}
{{endif}}
{{if $livetopic = $event->_livetopic_id}}
<div class='ipsBox ipsResponsive_pull ipsMargin_bottom ipsPadding'>
    <a href='{$livetopic->url()}' target='_blank' class='ipsButton ipsButton_important ipsButton_fullWidth ipsMargin_bottom:half'>{lang="open_event"} <i class="fa fa-external-link" aria-hidden="true" style='margin-inline:.4em'></i></a>
</div>
{{endif}}

{{if $event->rsvp }}
	<div class='ipsBox ipsResponsive_pull'>
		{template="rsvpControls" group="view" params="$event, $attendees"}
		<h3 class='ipsType_reset ipsType_sectionHead ipsHide'>{lang="event_rsvp_attendees"}</h3>
		<div class='ipsTabs ipsTabs_small ipsTabs_stretch ipsClearfix' id='elAttendees{$tabId}' data-ipsTabBar data-ipsTabBar-contentArea='#elAttendees{$tabId}_content'>
			<a href='#elAttendees{$tabId}' data-action='expandTabs'><i class='fa fa-caret-down'></i></a>
			<ul role="tablist">
				<li>
					<a href='#ipsTabs_elAttendees{$tabId}_elGoing_panel' id='elGoing' class='ipsTabs_item ipsTabs_activeItem ipsType_center' role="tab" aria-selected='true'>{{if $event->hasPassed()}}{lang="rsvp_attendees_past"}{{else}}{lang="rsvp_attendees"}{{endif}} {{if \count($attendees[1])}}({expression="\count($attendees[1])"}){{endif}}</a>
				</li>
				{{if $event->rsvp_limit == -1}}
					<li>
						<a href='#ipsTabs_elAttendees{$tabId}_elMaybe_panel' id='elMaybe' class='ipsTabs_item ipsType_center' role="tab" aria-selected='false'>{lang="rsvp_maybe_attendees"} {{if \count($attendees[2])}}({expression="\count($attendees[2])"}){{endif}}</a>
					</li>	
				{{endif}}	
				<li>
					<a href='#ipsTabs_elAttendees{$tabId}_elNotGoing_panel' id='elNotGoing' class='ipsTabs_item ipsType_center' role="tab" aria-selected='false'>{lang="rsvp_notgoing_attendees"} {{if \count($attendees[0])}}({expression="\count($attendees[0])"}){{endif}}</a>
				</li>
			</ul>
		</div>
		<div id='elAttendees{$tabId}_content' class='ipsTabs_panels'>
			<div id="ipsTabs_elAttendees{$tabId}_elGoing_panel" class='ipsTabs_panel ipsAreaBackground_reset ipsPadding'>
				{{if \count($attendees[1]) }}
					<ul class='ipsGrid ipsList_reset'>
						{{foreach $attendees[1] as $attendee}}
							<li class='ipsGrid_span3'>
								{{if \IPS\Member::loggedIn()->canAccessModule( \IPS\Application\Module::get( 'core', 'members' ) ) }}
	 							<a href='{$attendee->url()}' title="{$attendee->name}" data-ipsTooltip>
		 						{{endif}}
	 								<img src='{$attendee->photo}' class='ipsUserPhoto ipsUserPhoto_mini' alt=''>
	 								<span class='ipsHide'>{$attendee->name}</span>
	 							{{if \IPS\Member::loggedIn()->canAccessModule( \IPS\Application\Module::get( 'core', 'members' ) ) }}
	 							</a>
	 							{{endif}}
	 						</li>
						{{endforeach}}
					</ul>
				{{else}}
					<p class='ipsType_light ipsPad ipsType_center'>
						{{if $event->hasPassed()}}{lang="no_rsvps_past"}{{else}}{lang="no_rsvps_yet"}{{endif}}
					</p>
				{{endif}}
			</div>
			{{if $event->rsvp_limit == -1}}
				<div id="ipsTabs_elAttendees{$tabId}_elMaybe_panel" class='ipsTabs_panel ipsAreaBackground_reset ipsPad'>
					{{if \count($attendees[2]) }}
						<ul class='ipsGrid ipsList_reset'>
							{{foreach $attendees[2] as $attendee}}
								<li class='ipsGrid_span3'>
									{{if \IPS\Member::loggedIn()->canAccessModule( \IPS\Application\Module::get( 'core', 'members' ) ) }}
		 							<a href='{$attendee->url()}' title="{$attendee->name}" data-ipsTooltip>
			 						{{endif}}
		 								<img src='{$attendee->photo}' class='ipsUserPhoto ipsUserPhoto_mini' alt=''>
		 								<span class='ipsHide'>{$attendee->name}</span>
		 							{{if \IPS\Member::loggedIn()->canAccessModule( \IPS\Application\Module::get( 'core', 'members' ) ) }}
		 							</a>
		 							{{endif}}
		 						</li>
							{{endforeach}}
						</ul>
					{{else}}
						<p class='ipsType_light ipsPad ipsType_center'>
							{{if $event->hasPassed()}}{lang="no_maybe_rsvps_past"}{{else}}{lang="no_maybe_rsvps_yet"}{{endif}}
						</p>
					{{endif}}
				</div>
			{{endif}}
			<div id="ipsTabs_elAttendees{$tabId}_elNotGoing_panel" class='ipsTabs_panel ipsAreaBackground_reset ipsPad'>
				{{if \count($attendees[0]) }}
					<ul class='ipsGrid ipsList_reset'>
						{{foreach $attendees[0] as $attendee}}
							<li class='ipsGrid_span3'>
								{{if \IPS\Member::loggedIn()->canAccessModule( \IPS\Application\Module::get( 'core', 'members' ) ) }}
	 							<a href='{$attendee->url()}' title="{$attendee->name}" data-ipsTooltip>
		 						{{endif}}
	 								<img src='{$attendee->photo}' class='ipsUserPhoto ipsUserPhoto_mini' alt=''>
	 								<span class='ipsHide'>{$attendee->name}</span>
	 							{{if \IPS\Member::loggedIn()->canAccessModule( \IPS\Application\Module::get( 'core', 'members' ) ) }}
	 							</a>
	 							{{endif}}
	 						</li>
						{{endforeach}}
					</ul>
				{{else}}
					<p class='ipsType_light ipsPad ipsType_center'>
						{{if $event->hasPassed()}}{lang="no_decline_rsvps_past"}{{else}}{lang="no_decline_rsvps_yet"}{{endif}}
					</p>
				{{endif}}
			</div>

			{{if \count($attendees[0]) OR \count($attendees[1]) OR \count($attendees[2]) }}
				<div class='ipsPad ipsType_center'>
					<a href='{$event->url('downloadRsvp')}' class='ipsButton ipsButton_verySmall ipsButton_link ipsButton_fullWidth' rel="noindex nofollow" ><i class='fa fa-arrow-circle-o-down'></i> {lang="rsvp_download"}</a>
				</div>
			{{endif}}
		</div>
	</div>
{{endif}}]]></template>
 <template template_group="view" template_name="eventStreamBlock" template_data="$event, $date, $truncate=FALSE, $map=array( 300, 200 ), $revertToFirst=FALSE" template_location="front" template_app="calendar"><![CDATA[{{$coverPhoto = $event->coverPhoto();}}

<div class='cCalendarBlock ipsAreaBackground_reset ipsBox ipsBox--child ipsMargin_bottom'>
	<div class='ipsPageHead_special ipsCoverPhoto' data-controller='core.global.core.coverPhoto' data-coverOffset='{$coverPhoto->offset}'>
		{{if $coverPhoto->file}}
			<div class='ipsCoverPhoto_container'>
				{{if settings.lazy_load_enabled}}
					<img src="{expression="\IPS\Text\Parser::blankImage()"}" data-src='{$coverPhoto->file->url}' class='ipsCoverPhoto_photo'>
				{{else}}
					<img src='{$coverPhoto->file->url}' class='ipsCoverPhoto_photo'>
				{{endif}}
			</div>
		{{endif}}
		<div class='ipsFlex ipsFlex-ai:center ipsGap:4'>
			<div class='ipsFlex-flex:00'>
				<img src='{$event->author()->photo}' class="ipsUserPhoto ipsUserPhoto_mini" alt=''>
			</div>
			<div class='ipsFlex-flex:11'>
				<h2 class='ipsType_pageTitle ipsType_blendLinks ipsPageHead_barText ipsPageHead_barText_small ipsType_break'><a href='{$event->url( "getPrefComment" )}' title='{$event->title}'>{$event->title}{{if $event->hidden() === 1}} <span class="ipsBadge ipsBadge_icon ipsBadge_warning" data-ipsTooltip title='{lang="pending_approval"}'><i class='fa fa-warning'></i></span>{{endif}}</a></h2>
			</div>
		</div>
	</div>
	{{if $map !== FALSE AND $event->map( $map[0], $map[1] )}}
	<div class='ipsAreaBackground_light cCalendarBlock_map ipsPad_half ipsPos_right ipsBox'>
		{$event->map( $map[0], $map[1] )|raw}
	</div>
	{{endif}}
	<div class='ipsPad'>
		<div class='ipsFlex ipsGap:4'>
			<div class='ipsFlex-flex:00'>
				<div class='eventStreamDate ipsPos_left'>
					<a href='{$event->url( "getPrefComment" )}'>
						{{if $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )}}
							<time datetime='{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->mysqlDatetime()}' class='ipsCalendarDate'>
							<span class='ipsCalendarDate_month'>{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->monthNameShort}</span>
							<span class='ipsCalendarDate_date'>{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->mday}</span>
						{{else}}
							<time datetime='{$event->lastOccurrence( 'startDate' )->mysqlDatetime()}{{if !$event->all_day}} {$event->lastOccurrence( 'startDate' )->mysqlDatetime( FALSE )} {{endif}}' class='ipsCalendarDate'>
							<span class='ipsCalendarDate_month'>{$event->lastOccurrence( 'startDate' )->monthNameShort}</span>
							<span class='ipsCalendarDate_date'>{$event->lastOccurrence( 'startDate' )->mday}</span>
						{{endif}}
						</time>
					</a>
				</div>
			</div>
			<div class='ipsFlex-flex:11'>
				<div class='ipsFlex ipsFlex-fw:wrap'>
					<div class='ipsFlex-flex:11' style='flex-basis: 450px'>
						<h3 class='ipsType_reset'>
							<time datetime='{expression="$event->_start_date->format( 'Y-m-d' )"}'>
							{{if $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )}}
							{$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->calendarDate()}{{if !$event->all_day}}, {$event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' )->localeTime( FALSE )} {{endif}}
							{{else}}
							{$event->lastOccurrence( 'startDate' )->calendarDate()}{{if !$event->all_day}} {$event->lastOccurrence( 'startDate' )->localeTime( FALSE )} {{endif}}
							{{endif}}
							</time>
							{{if $event->_end_date}}
							&nbsp;&nbsp;<i class='fa fa-arrow-circle-right ipsType_large ipsType_light'></i>&nbsp;&nbsp;
							<time datetime='{expression="$event->_end_date->format( 'Y-m-d' )"}'>
							{{$sameDay = !( ($event->_start_date->mday != $event->_end_date->mday) or ($event->_start_date->mon != $event->_end_date->mon) or ($event->_start_date->year != $event->_end_date->year) );}}
							{{if $event->nextOccurrence( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )}}
							{{if !$sameDay}}{$event->nextOccurrence( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )->calendarDate()}{{endif}}{{if !$event->all_day}}{{if !$sameDay}}, {{endif}}{$event->nextOccurrence( $event->nextOccurrence( \IPS\calendar\Date::getDate(), 'startDate' ) ?: \IPS\calendar\Date::getDate(), 'endDate' )->localeTime( FALSE )}{{endif}}
							{{else}}
							{$event->lastOccurrence( 'endDate' )->calendarDate()}{{if !$event->all_day}} {$event->lastOccurrence( 'endDate' )->localeTime( FALSE )}{{endif}}
							{{endif}}
							</time>
							{{endif}}
						</h3>
						{{if $event->recurring}}<p class='ipsType_reset ipsType_normal ipsType_light'>{$event->_recurring_text}</p><br>{{endif}}
						<div class='ipsType_richText ipsType_medium' {{if ( \IPS\Request::i()->isAjax() or $truncate ) && $event->content}}data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='5 lines'{{endif}}>
							{{if $event->content}}
								{{if \IPS\Request::i()->isAjax() or $truncate}}
									{$event->truncated()|raw}
								{{else}}
									{$event->content|raw}
								{{endif}}
							{{endif}}
						</div>
						{{if $event->container()->allow_comments OR $event->container()->allow_reviews OR $event->rsvp}}
							<div class='ipsMargin_top'>
								{{if $event->container()->allow_comments}}<a href='{$event->url()->setQueryString( 'tab', 'comments' )}' class='ipsType_medium ipsType_noBreak'>{lang="event_comment_count" pluralize="$event->comments"}</a>{{endif}}
								{{if $event->container()->allow_comments AND $event->container()->allow_reviews}}&middot;{{endif}}
								{{if $event->container()->allow_reviews}}<a href='{$event->url()->setQueryString( 'tab', 'reviews' )}' class='ipsType_medium ipsType_noBreak'>{lang="event_review_count" pluralize="$event->reviews"}</a>{{endif}}
								{{if $event->rsvp }}
									<hr class='ipsHr'>
									<h4 class='ipsType_reset'><strong>{lang="event_rsvp_attendees_list" pluralize="$event->attendeeCount( \IPS\calendar\Event::RSVP_YES )"}</strong></h4>
									{{if \count( $event->attendees( \IPS\calendar\Event::RSVP_YES, 5 ) )}}
										<ul class='ipsList_inline ipsList_noSpacing ipsSpacer_top ipsSpacer_half'>
											{{foreach $event->attendees( \IPS\calendar\Event::RSVP_YES, 5 ) as $attendee}}
											<li>{template="userPhoto" app="core" group="global" params="$attendee, 'tiny'"}</li>
											{{endforeach}}
										</ul>
									{{endif}}
								{{endif}}
							</div>
						{{endif}}
					</div>
					<div class='ipsFlex-flex:00'>
						<a href='{$event->container()->url()}' class='ipsResponsive_noFloat cEvents_event cEvents_eventSmall cEvents_style{$event->container()->id}'>{$event->container()->_title}</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>]]></template>
 <template template_group="view" template_name="reminder" template_data="$event, $reminder, $buttonClass=''" template_location="front" template_app="calendar"><![CDATA[<div data-controller='calendar.front.view.reminderButton' data-reminderID='{$event->id}'>
	{template="reminderButton" app="calendar" group="view" params="$event, $reminder, $buttonClass"}
</div>]]></template>
 <template template_group="view" template_name="reminderButton" template_data="$event, $reminder=NULL, $buttonClass=''" template_location="front" template_app="calendar"><![CDATA[{{if member.member_id}}
	{{if $reminder}}
		<a class="ipsButton ipsButton_primary ipsButton_verySmall {$buttonClass}" data-role="reminderButton" data-reminder="true" href="{url="app=calendar&module=calendar&controller=event&id={$event->id}&do=setReminder" csrf="true"}" title="{lang="event_edit_reminder"}" data-ipsTooltip class="ipsType_blendLinks ipsType_noUnderline" data-ipsHover data-ipsHover-cache='false' data-ipsHover-onClick><i class='fa fa-bell'></i> {lang="event_edit_reminder"} <i class='fa fa-caret-down'></i></a>
	{{else}}
		<a class="ipsButton ipsButton_light ipsButton_verySmall {$buttonClass}" data-role="reminderButton" data-reminder="false" href="{url="app=calendar&module=calendar&controller=event&id={$event->id}&do=setReminder" csrf="true"}" title="{lang="event_set_reminder_tip"}" data-ipsTooltip class="ipsType_blendLinks ipsType_noUnderline" data-ipsHover data-ipsHover-cache='false' data-ipsHover-onClick>{lang="event_set_reminder"}</a>
	{{endif}}
{{endif}}]]></template>
 <template template_group="view" template_name="reminderForm" template_data="$id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='', $attributes=array(), $sidebar=NULL, $form=NULL" template_location="front" template_app="calendar"><![CDATA[<form {{if \IPS\Request::i()->isAjax() }}data-controller='calendar.front.view.reminderForm'{{endif}} accept-charset='utf-8' class="ipsForm {$class}" action="{$action}" method="post" {{if $uploadField}}enctype="multipart/form-data"{{endif}} {{foreach $attributes as $k => $v}}{$k}="{$v}"{{endforeach}} data-ipsForm >
	<input type="hidden" name="{$id}_submitted" value="1">
	{{foreach $hiddenValues as $k => $v}}
	<input type="hidden" name="{$k}" value="{$v}">
	{{endforeach}}
	{{if $uploadField}}
		<input type="hidden" name="MAX_FILE_SIZE" value="{$uploadField}">
		<input type="hidden" name="plupload" value="{expression="md5( mt_rand() )"}">
	{{endif}}
	<div class="ipsPad">
		<h2 class='ipsType_sectionHead'>{expression="\IPS\Output::i()->title"}</h2>
		<br><br>
		<ul class='ipsList_reset'>
			{{foreach $elements as $collection}}
			{{foreach $collection as $input}}
			{{if \is_string( $input )}}
			{$input|raw}
			<hr class='ipsHr'>
			{{elseif $input instanceof \IPS\Helpers\Form\Checkbox}}
			{$input->html($form)|raw}
			{{else}}
			{$input->rowHtml($form)|raw}
			{{endif}}
			{{endforeach}}
			{{endforeach}}
		</ul>
	</div>
	<div class="ipsAreaBackground ipsPad">
		{$actionButtons[0]|raw} {{if isset( $actionButtons[1] )}}{$actionButtons[1]|raw}{{endif}}
	</div>
</form>]]></template>
 <template template_group="view" template_name="reviews" template_data="$event" template_location="front" template_app="calendar"><![CDATA[
<div data-controller='core.front.core.commentFeed' {{if settings.auto_polling_enabled}}data-autoPoll{{endif}} data-commentsType='reviews' data-baseURL='{$event->url()}' {{if $event->isLastPage('reviews')}}data-lastPage{{endif}} data-feedID='event-{$event->id}-reviews' id='reviews'>
	{{if $event->reviewForm()}}
		{{if $event->locked()}}
			<strong class='ipsType_warning'><i class='fa fa-info-circle'></i> {lang="item_locked_can_review"}</strong>
		{{endif}}
		<div id='elEventReviewForm'>
			{$event->reviewForm()|raw}
		</div>
	{{else}}
		{{if $event->hasReviewed()}}
			<!-- Already reviewed -->
		{{elseif $event->locked()}}
			{template="commentUnavailable" group="forms" location="front" app="core" params="'item_locked_cannot_review'"}
		{{elseif \IPS\Member::loggedin()->restrict_post}}
			{{if \IPS\Member::loggedIn()->restrict_post == -1}}
				{template="reviewUnavailable" group="forms" location="front" app="core" params="'restricted_cannot_comment'"}
			{{else}}
				{template="reviewUnavailable" group="forms" location="front" app="core" params="'restricted_cannot_comment', \IPS\Member::loggedIn()->warnings(5,NULL,'rpa'), \IPS\Member::loggedIn()->restrict_post"}
			{{endif}}
		{{elseif \IPS\Member::loggedIn()->members_bitoptions['unacknowledged_warnings']}}
			{template="reviewUnavailable" group="forms" location="front" app="core" params="'unacknowledged_warning_cannot_post', \IPS\Member::loggedIn()->warnings( 1, FALSE )"}
		{{endif}}
	{{endif}}
	{{if \count( $event->reviews( NULL, NULL, NULL, 'desc', NULL, NULL, NULL, NULL, isset( \IPS\Request::i()->showDeleted ) ) )}}
		{{if !$event->hasReviewed()}}<hr class='ipsHr'>{{endif}}
		<div class="ipsClearfix ipsSpacer_bottom">
			{template="commentMultimodHeader" app="core" group="global" params="$event, '#reviews', 'review'"}
			{{if $event->reviewPageCount() > 1}}
				<div class="ipsPos_left ipsResponsive_noFloat">
					{$event->reviewPagination( array( 'tab', 'sort' ) )|raw}
				</div>
			{{endif}}
			<div class="ipsClearfix ipsPos_right ipsResponsive_hidePhone">
				<ul class="ipsButtonRow ipsClearfix">
					<li data-action="tableFilter">
						<a href="{$event->url()->setQueryString( array( 'tab' => 'reviews', 'sort' => 'helpful' ) )->setPage( 'page', 1 )}" class="{{if !isset( request.sort ) or request.sort != 'newest'}}ipsButtonRow_active{{endif}}" data-action="filterClick">{lang="most_helpful"}</a>
					</li>
					<li data-action="tableFilter">
						<a href="{$event->url()->setQueryString( array( 'tab' => 'reviews','sort' => 'newest' ) )->setPage( 'page', 1 )}" class="{{if isset( request.sort ) and request.sort == 'newest'}}ipsButtonRow_active{{endif}}" data-action="filterClick">{lang="newest"}</a>
					</li>
				</ul>
			</div>
		</div>

		<div data-role='commentFeed' data-controller='core.front.core.moderation'>
			<form action="{$event->url()->csrf()->setQueryString( 'do', 'multimodReview' )->setPage('page',\IPS\Request::i()->page)}" method="post" data-ipsPageAction data-role='moderationTools'>
				{{$reviewCount=0; $timeLastRead = $event->timeLastRead(); $lined = FALSE;}}
				{{foreach $event->reviews() as $review}}
					{{if !$lined and $timeLastRead and $timeLastRead->getTimestamp() < $review->mapped('date')}}
						{{if $lined = TRUE and $reviewCount}}
							<hr class="ipsCommentUnreadSeperator">
						{{endif}}
					{{endif}}
					{{$reviewCount++;}}
					{$review->html()|raw}
				{{endforeach}}
				{template="commentMultimod" app="core" group="global" params="$event, 'review'"}
			</form>
		</div>
		{{if $event->reviewPageCount() > 1}}
			<div>
				{$event->reviewPagination( array( 'tab', 'sort' ) )|raw}
			</div>
		{{endif}}
	{{elseif !$event->canReview()}}
		<p class="ipsType_normal ipsType_light ipsType_reset" data-role="noReviews">{lang="no_reviews"}</p>
	{{endif}}
</div>]]></template>
 <template template_group="view" template_name="rsvpControls" template_data="$event, $attendees" template_location="front" template_app="calendar"><![CDATA[<!-- Don't use IDs here, this template is called twice in view -->
{{if \IPS\Member::loggedIn()->member_id AND ( isset( $attendees[0][ \IPS\Member::loggedIn()->member_id ] ) OR isset( $attendees[1][ \IPS\Member::loggedIn()->member_id ] ) OR ( isset( $attendees[2][ \IPS\Member::loggedIn()->member_id ] ) ) AND \count( $attendees[1] ) < $event->rsvp_limit )}}
	<div class='{{if isset( $attendees[1][ \IPS\Member::loggedIn()->member_id ] )}}ipsAreaBackground_positive{{elseif isset( $attendees[0][ \IPS\Member::loggedIn()->member_id ] )}}ipsAreaBackground_negative{{else}}ipsAreaBackground_reset{{endif}} ipsPadding'>
		<p class='ipsType_large ipsType_center ipsType_reset'>
			<strong>
				{{if isset( $attendees[1][ \IPS\Member::loggedIn()->member_id ] )}}
					<span><i class='fa fa-check-circle'></i> {{if $event->hasPassed()}}{lang="you_were_going"}{{else}}{lang="you_are_going"}{{endif}}</span>
				{{elseif isset( $attendees[0][ \IPS\Member::loggedIn()->member_id ] )}}
					<span>{{if $event->hasPassed()}}{lang="you_werent_going"}{{else}}{lang="you_arent_going"}{{endif}}</span>
				{{else}}
					{{if !$event->hasPassed() OR !\IPS\Settings::i()->calendar_block_past_changes}}
						{lang="confirm_attendance"}
					{{else}}
						{lang="no_rsvp_past_event"}
					{{endif}}
				{{endif}}
			</strong>
		</p>
		{{if !$event->hasPassed() OR !\IPS\Settings::i()->calendar_block_past_changes}}
		<ul class="ipsToolList ipsToolList_vertical ipsSpacer_top ipsSpacer_half">
			{{if isset( $attendees[2][ \IPS\Member::loggedIn()->member_id ] )}}
				<li>
					<a href='{$event->url('rsvp')->setQueryString( 'action', 'yes' )->csrf()}' class='ipsButton ipsButton_primary ipsButton_fullWidth ipsButton_verySmall'>{lang="rsvp_attend_event"}</a>
				</li>
				<li>
					<a href='{$event->url('rsvp')->setQueryString( 'action', 'no' )->csrf()}' class='ipsButton ipsButton_link ipsButton_fullWidth ipsButton_verySmall'>{lang="rsvp_notgoing_event"}</a>
				</li>
			{{elseif isset( $attendees[0][ \IPS\Member::loggedIn()->member_id ] )}}
				<li class='ipsType_center'>
					<a href='{$event->url('rsvp')->setQueryString( 'action', 'leave' )->csrf()}' class='ipsType_blendLinks ipsType_noUnderline ipsFaded'>{lang="rsvp_change"}</a>
				</li>
			{{else}}
				<li class='ipsType_center'>
					<a href='{$event->url('rsvp')->setQueryString( 'action', 'leave' )->csrf()}' class='ipsType_blendLinks ipsType_noUnderline ipsFaded'>{lang="rsvp_leave_event"}</a>
				</li>
			{{endif}}
		</ul>
		{{endif}}
	</div>
{{elseif $event->can('rsvp')}}
	<div class='ipsPadding'>
		{{if $event->hasPassed() AND \IPS\Settings::i()->calendar_block_past_changes}}
			<div class='ipsMessage ipsMessage_info'>{lang="no_rsvp_past_event"}</div>
		{{elseif $event->rsvp_limit > 0 AND \count($attendees[1]) >= $event->rsvp_limit}}
			<div class='ipsMessage ipsMessage_info'>{lang="rsvp_limit_reached"}</div>
		{{else}}
			{{if $event->rsvp_limit > 0}}<div class='ipsMessage ipsMessage_info ipsMargin_bottom'>{lang="rsvp_limit_info" pluralize="\count($attendees[1])" sprintf="$event->rsvp_limit"}</div>{{endif}}
			<div class='ipsFlex ipsFlex-ai:center ipsFlex-fw:wrap ipsGap:2'>
				<div class='ipsFlex-flex:11' style='flex-basis:100%'>
					<a href='{$event->url('rsvp')->setQueryString( 'action', 'yes' )->csrf()}' class='ipsButton ipsButton_primary ipsButton_fullWidth ipsButton_small'><i class="fa fa-check" aria-hidden="true"></i>&nbsp; {{if $event->hasPassed()}}{lang="rsvp_attended_past_event"}{{else}}{lang="rsvp_attend_event"}{{endif}}</a>
				</div>
				{{if $event->rsvp_limit == -1 AND !$event->hasPassed()}}
					<div class='ipsFlex-flex:11'>
						<a href='{$event->url('rsvp')->setQueryString( 'action', 'maybe' )->csrf()}' class='ipsButton ipsButton_light ipsButton_fullWidth ipsButton_small'><i class="fa fa-question" aria-hidden="true"></i>&nbsp; {lang="rsvp_maybe_event"}</a>
					</div>
				{{endif}}
				<div class='ipsFlex-flex:11'>
					<a href='{$event->url('rsvp')->setQueryString( 'action', 'no' )->csrf()}' class='ipsButton ipsButton_light ipsButton_fullWidth ipsButton_small'><i class="fa fa-times" aria-hidden="true"></i>&nbsp; {{if $event->hasPassed()}}{lang="rsvp_notattended_past_event"}{{else}}{lang="rsvp_notgoing_event"}{{endif}}</a>
				</div>
			</div>
		{{endif}}
	</div>
{{endif}}]]></template>
 <template template_group="view" template_name="view" template_data="$event, $commentsAndReviews, $attendees, $address=NULL, $reminder=NULL" template_location="front" template_app="calendar"><![CDATA[
{{if $club = $event->container()->club()}}
	{{if settings.clubs and settings.clubs_header == 'full'}}
		{template="header" app="core" group="clubs" params="$club, $event->container()"}
	{{endif}}
	<div id='elClubContainer'>
{{endif}}

<div>
	<header class='ipsClearfix ipsSpacer_bottom'>
		<div id="elEventHeader">{$event->coverPhoto()|raw}</div>
		<div id='elEventHeader_details' class='ipsRadius:bl ipsRadius:br'>
			<div class="ipsPhotoPanel ipsPhotoPanel_tiny ipsPhotoPanel_notPhone ipsClearfix">
				{template="userPhoto" app="core" group="global" params="$event->author(), 'tiny'"}
				<div>
					<p class="ipsType_reset ipsType_normal ipsType_blendLinks">
						{lang="event_created_by" htmlsprintf="$event->author()->link( $event->warningRef(), NULL, $event->isAnonymous() )"}
						{{if $event->isAnonymous() and \IPS\Member::loggedIn()->modPermission('can_view_anonymous_posters')}}
							<a data-ipsHover data-ipsHover-width="370" data-ipsHover-onClick href="{$event->url( 'reveal' )->csrf()}"><span class="cAuthorPane_badge cAuthorPane_badge_small cAuthorPane_badge--anon" data-ipsTooltip title="{lang="post_anonymously_reveal"}"></span></a>
						{{endif}}
					</p>
					{{if $event->container()->allow_reviews}}
						<div>
							{template="rating" group="global" location="front" app="core" params="'large', $event->averageReviewRating(), \IPS\Settings::i()->reviews_rating_out_of, $event->memberReviewRating()"}&nbsp;&nbsp; <span class='ipsType_medium ipsType_light'>({lang="num_reviews" pluralize="$event->reviews"})</span>
						</div>
					{{endif}}
				</div>
			</div>
			<a href='{$event->container()->url()}' class='cEvents_event cEvents_eventSmall cEvents_style{$event->container()->id}'>{$event->container()->_title}</a>
		</div>
	</header>

	<section>
		{{if $event->hidden() === 1 and $event->canUnhide()}}
		<div class="ipsMessage ipsMessage_warning ipsSpacer_top">
			<p class="ipsType_reset">{lang="event_pending_approval"}</p>
			<ul class='ipsList_inline ipsSpacer_top'>
				<li><a href="{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unhide' ) )}" class="ipsButton ipsButton_positive ipsButton_verySmall" title='{lang="approve_title_event"}'><i class="fa fa-check"></i> {lang="approve"}</a></li>
				{{if $event->canDelete()}}
				<li><a href='{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'delete' ) )}' data-confirm  title='{lang="calendar_delete_title"}' class='ipsButton ipsButton_negative ipsButton_verySmall'><i class='fa fa-times'></i> {lang="delete"}</a></li>
				{{endif}}
			</ul>
		</div>
		{{endif}}

		{template="contentItemMessages" group="global" app="core" params="$event->getMessages(), $event"}
        <div id="sidebarWrapper">
		{{if $event->rsvp || $address || $event->map( 270, 270 ) || $event->online || $event->_livetopic_id }}
			<div class='ipsColumns ipsColumns_collapsePhone'>
				<div class='ipsColumn ipsColumn_fluid'>
		{{endif}}
			<div class='ipsBox ipsResponsive_pull ipsClearfix'>
				<div class='ipsPadding'>
					<div class='ipsPageHeader__meta ipsFlex ipsFlex-jc:between ipsFlex-fw:wrap ipsGap:3'>
						<div class='ipsFlex-flex:11'>
							<h2 class='ipsType_sectionHead'>{lang="event_details"}</h2>
							{{if \count( $event->tags() ) OR ( $event->canEdit() AND $event::canTag( NULL, $event->container() ) )}}
								<div class='ipsMargin_top:half'>
									{template="tags" group="global" app="core" params="$event->tags(), FALSE, FALSE, ( $event->canEdit() AND ( \count( $event->tags() ) OR $event::canTag( NULL, $event->container() ) ) ) ? $event->url() : NULL"}
								</div>
							{{endif}}
						</div>
						<div class='ipsFlex-flex:01 ipsResponsive_hidePhone'>
							<div class='ipsShareLinks'>
								{{if \count( $event->shareLinks() )}}
									{template="shareButton" app="core" group="sharelinks" params="$event"}
								{{endif}}
								{{if $event->canRemind()}}
									{template="reminder" app="calendar" group="view" params="$event, $reminder"}
								{{endif}}
                                {template="analyticsItemLink" app="core" group="system" params="$event"}
								{template="promote" app="core" group="global" params="$event"}
								{template="follow" app="core" group="global" params="'calendar', 'event', $event->id, $event->followersCount()"}
							</div>
						</div>
					</div>
					{{if $event->recurring}}
						<div class='ipsMargin_top:half'>
							<p class='ipsType_medium ipsType_light ipsType_reset'><i class='fa fa-repeat'></i> {$event->_recurring_text}</p>
						</div>
					{{endif}}		
					<div class='ipsComment_content ipsType_medium ipsMargin_top'>
						{template="richText" group="global" app="core" location="global" params="$event->content(), array('ipsType_normal', 'ipsClear', 'ipsType_break')"}
					</div>

					{{if $event->_album}}
						<div class='ipsAreaBackground_light ipsPad_half ipsMargin_top:double'>
							<h3 class='ipsType_normal ipsType_reset ipsSpacer_bottom ipsSpacer_half'>{lang="event_images"}</h3>
							{$event->_album|raw}
						</div>
					{{endif}}

					{{if $event->editLine()}}
						<div class='ipsMargin_top'>
                        	{$event->editLine()|raw}
                        </div>
					{{endif}}
				</div>
				<div class='ipsItemControls'>
					{{if \IPS\IPS::classUsesTrait( $event, 'IPS\Content\Reactable' ) and settings.reputation_enabled}}
						{template="reputation" app="core" group="global" params="$event"}
					{{endif}}
					<ul class='ipsComment_controls ipsClearfix ipsItemControls_left'>
						{{if ( $event->canEdit() or $event->canFeature() or $event->canUnfeature() or $event->canHide() or $event->canUnhide() or $event->canMove() or $event->canLock() or $event->canUnlock() or $event->canDelete() ) or ( $event->hidden() == -2 AND \IPS\Member::loggedIn()->modPermission('can_manage_deleted_content') )}}
							<li>
								<a href='#elEventActions_menu' id='elEventActions' class='ipsButton ipsButton_light ipsButton_verySmall ipsButton_fullWidth' data-ipsMenu>{lang="manage_event"} <i class='fa fa-caret-down'></i></a>
								<ul id='elEventActions_menu' class='ipsMenu ipsMenu_auto ipsHide'>
									{{if $event->canReportOrRevoke() === TRUE}}
										<li class='ipsMenu_item'>
											<a href='{$event->url('report')}' {{if member.member_id or \IPS\Helpers\Form\Captcha::supportsModal()}}data-ipsDialog data-ipsDialog-size='medium' data-ipsDialog-title="{lang="report_event"}" data-ipsDialog-remoteSubmit data-ipsDialog-flashMessage="{lang="report_submit_success"}"{{endif}} title="{lang="report_event"}">{lang="report_event"}</a>
										</li>
										<li class='ipsMenu_sep'><hr></li>
									{{endif}}
									{{if \IPS\Member::loggedIn()->modPermission('can_manage_deleted_content') AND $event->hidden() == -2}}
										<li class='ipsMenu_item'><a href='{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'restore' ) )}' data-confirm data-confirmSubMessage='{lang="restore_as_visible_desc"}'>{lang="restore_as_visible"}</a></li>
										<li class='ipsMenu_item'><a href='{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'restoreAsHidden' ) )}' data-confirm data-confirmSubMessage='{lang="restore_as_hidden_desc"}'>{lang="restore_as_hidden"}</a></li>
										<li class='ipsMenu_item'><a href='{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'delete', 'immediate' => 1 ) )}' data-confirm data-confirmSubMessage='{lang="delete_immediately_desc"}'>{lang="delete_immediately"}</a></li>
									{{else}}
										{{if $event->canEdit()}}				
											<li class='ipsMenu_item'><a href='{$event->url()->setQueryString( array( 'do' => 'edit' ) )}' title="{lang="calendar_edit_details_title"}">{lang="calendar_edit_details"}</a></li>
										{{endif}}
										{{if $event->canFeature()}}				
											<li class='ipsMenu_item'><a href='{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'feature' ) )}' title='{lang="feature_title_event"}'>{lang="feature"}</a></li>
										{{endif}}
										{{if $event->canUnfeature()}}				
											<li class='ipsMenu_item'><a href='{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unfeature' ) )}' title='{lang="unfeature_title_event"}'>{lang="unfeature"}</a></li>
										{{endif}}
										{{if $event->canHide()}}				
											<li class='ipsMenu_item'><a href='{$event->url()->setQueryString( array( 'do' => 'moderate', 'action' => 'hide' ) )}' title='{lang="hide_title_event"}' data-ipsDialog data-ipsDialog-title="{lang="hide"}">{lang="hide"}</a></li>
										{{endif}}
										{{if $event->canUnhide()}}				
											<li class='ipsMenu_item'><a href='{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unhide' ) )}' title='{{if $event->hidden() === 1}}{lang="approve_title_event"}{{else}}{lang="unhide_title_event"}{{endif}}'>{{if $event->hidden() === 1}}{lang="approve"}{{else}}{lang="unhide"}{{endif}}</a></li>
										{{endif}}
										{{if $event->canLock()}}				
											<li class='ipsMenu_item'><a href='{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'lock' ) )}' title='{lang="lock_title_event"}'>{lang="lock"}</a></li>
										{{endif}}
										{{if $event->canUnlock()}}				
											<li class='ipsMenu_item'><a href='{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'unlock' ) )}' title='{lang="unlock_title_event"}'>{lang="unlock"}</a></li>
										{{endif}}
										{{if $event->canMove()}}				
											<li class='ipsMenu_item'><a href='{$event->url()->setQueryString( array( 'do' => 'move' ) )}' data-ipsDialog data-ipsDialog-size='narrow' data-ipsDialog-title="{lang="move"}"  title='{lang="event_move_title"}'>{lang="move"}</a></li>
										{{endif}}
										{{if $event->canDelete()}}				
											<li class='ipsMenu_item'><a href='{$event->url()->csrf()->setQueryString( array( 'do' => 'moderate', 'action' => 'delete' ) )}' data-confirm  title='{lang="calendar_delete_title"}'>{lang="delete"}</a></li>
										{{endif}}
										{{if $event->canOnMessage( 'add' )}}
											<li class='ipsMenu_item'><a href='{$event->url()->setQueryString( array( 'do' => 'messageForm' ) )}' data-ipsDialog data-ipsDialog-title='{lang="add_message"}'>{lang="add_message"}</a></li>
										{{endif}}
                                        {{if \IPS\Member::loggedIn()->modPermission('can_view_moderation_log')}}
                                            <li class='ipsMenu_sep'><hr></li>
                                            <li class="ipsMenu_item"><a data-ipsDialog data-ipsDialogTitle="{lang="moderation_log"}" href='{$event->url()->setQueryString( array( 'do' => 'modLog' ) )}'>{lang="moderation_log"}</a></li>
                                        {{endif}}
									{{endif}}
								</ul>
							</li>
						{{elseif $event->canReportOrRevoke() === TRUE}}
							<li>
								<a href='{$event->url('report')}' class='ipsButton ipsButton_link ipsButton_verySmall ipsButton_fullWidth' {{if member.member_id or \IPS\Helpers\Form\Captcha::supportsModal()}}data-ipsDialog data-ipsDialog-size='medium' data-ipsDialog-title="{lang="report_event"}" data-ipsDialog-remoteSubmit data-ipsDialog-flashMessage="{lang="report_submit_success"}"{{endif}} title="{lang="report_event"}">{lang="report_event"}</a>
							</li>
						{{endif}}

						<li><a href='{$event->url('download')}' rel="noindex nofollow" title='{lang="download_ical_title"}' class='ipsButton ipsButton_link ipsButton_verySmall ipsButton_fullWidth'>{lang="download_ical"}</a></li>
						{{if $event->venue() and $event->venue()->can( 'view' )}}
							<li><a href="{$event->venue()->url()}" class='ipsButton ipsButton_link ipsButton_verySmall ipsButton_fullWidth'>{lang="calendar_more_events_at_x" sprintf="$event->venue()->_title"}</a></li>
						{{endif}}
						{{if $event->canCopyEvent()}}
							<li><a href='{url="app=calendar&module=calendar&controller=submit&do=copy&event_id={$event->id}"}' rel="noindex nofollow" title='' class='ipsButton ipsButton_link ipsButton_verySmall ipsButton_fullWidth'>{lang="add_similar_event"}</a></li>
						{{endif}}
					</ul>
				</div>
			</div>
		{{if $event->rsvp || $address || $event->map( 270, 270 ) || ( $event->online and $event->url and !$event->hasPassed() ) || $event->_livetopic_id}}
				</div>
				<aside class='ipsColumn ipsColumn_veryWide'>
					<div>
						{template="eventSidebar" group="view" params="$event, $attendees, 'Mob', $address"}
					</div>
				</aside>
			</div>
		{{endif}}
        </div>
	</section>

	<div class='ipsBox ipsPadding ipsResponsive_pull ipsResponsive_showPhone ipsMargin_top'>
		<div class='ipsShareLinks'>
			{{if \count( $event->shareLinks() )}}
				{template="shareButton" app="core" group="sharelinks" params="$event, 'verySmall', 'light'"}
			{{endif}}
			{{if $event->canRemind()}}
				{template="reminder" app="calendar" group="view" params="$event, $reminder, 'ipsButton_fullWidth'"}
			{{endif}}
            {template="analyticsItemLink" app="core" group="system" params="$event"}
			{template="follow" app="core" group="global" params="'calendar', 'event', $event->id, $event->followersCount()"}
			{template="promote" app="core" group="global" params="$event"}
		</div>
	</div>

	{{if $commentsAndReviews}}
		<br>
		{{if $event->container()->allow_reviews && $event->container()->allow_comments}}
			<a id="replies"></a>
			<h2 class='ipsHide'>{lang="user_feedback"}</h2>
		{{endif}}
		<div class='ipsResponsive_pull'>
			{$commentsAndReviews|raw}
		</div>
	{{endif}}
</div>

{{if $event->container()->club()}}
	</div>
{{endif}}]]></template>
 <template template_group="widgets" template_name="recentReviews" template_data="$reviews, $orientation='vertical'" template_location="front" template_app="calendar"><![CDATA[<h3 class='ipsType_reset ipsWidget_title'>{lang="block_recentReviews"}</h3>
<div class='ipsWidget_inner'>
	{{if $orientation == 'vertical'}}
		{{if !empty( $reviews ) }}
			<ul class='ipsDataList ipsDataList_reducedSpacing'>
				{{foreach $reviews as $review}}
					<li class='ipsDataItem'>
						<div class='ipsDataItem_icon'>
							{template="userPhoto" app="core" group="global" params="$review->author(), 'tiny'"}
						</div>
						<div class='ipsDataItem_main ipsType_break ipsContained'>
							<a href="{$review->item()->url( "getPrefComment" )}" title='{lang="view_this_event" sprintf="$review->item()->title"}' class='ipsTruncate ipsTruncate_line'>{$review->item()->title}</a><br>
							<span class='ipsType_light ipsType_medium'>{lang="byline_nodate" htmlsprintf="$review->author()->link()"}</span><br>
							{template="rating" group="global" location="front" app="core" params="'small', $review->rating, \IPS\Settings::i()->reviews_rating_out_of"} &nbsp;&nbsp;
							<span class='ipsType_small ipsType_reset'><time datetime="{$review->mapped('date')}">{datetime="$review->mapped('date')" norelative="true"}</time></span>
						</div>
					</li>
				{{endforeach}}
			</ul>
		{{else}}
			<div class='ipsType_light ipsPadding:half ipsType_center'>{lang="no_recent_reviews"}</div>
		{{endif}}
	{{else}}
		{{if !empty( $reviews ) }}
			<ul class='ipsDataList ipsDataList_reducedSpacing'>
				{{foreach $reviews as $review}}
					<li class='ipsDataItem'>
						<div class='ipsDataItem_icon'>
							{template="userPhoto" app="core" group="global" params="$review->author(), 'tiny'"}
						</div>
						<div class='ipsDataItem_main ipsType_break ipsContained'>
							<a href="{$review->item()->url( "getPrefComment" )}" title='{lang="view_this_event" sprintf="$review->item()->title"}' class='ipsTruncate ipsTruncate_line'>{$review->item()->title}</a><br>
							<span class='ipsType_light ipsType_medium'>{lang="byline_nodate" htmlsprintf="$review->author()->link()"}</span>, <span class='ipsType_small ipsType_reset ipsType_light'><time datetime="{$review->mapped('date')}">{datetime="$review->mapped('date')" norelative="true"}</time></span><br>
							<div class='ipsType_medium ipsType_richText' data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='2 lines' data-ipsTruncate-watch='false'>
								{template="rating" group="global" location="front" app="core" params="'small', $review->rating, \IPS\Settings::i()->reviews_rating_out_of"} &nbsp;&nbsp; {$review->truncated()|raw}
							</div>
						</div>
					</li>
				{{endforeach}}
			</ul>
		{{else}}
			<div class='ipsType_light ipsPad_half ipsType_center'>{lang="no_recent_reviews"}</div>
		{{endif}}
	{{endif}}
</div>]]></template>
 <template template_group="widgets" template_name="upcomingEvents" template_data="$events, $today, $orientation='vertical'" template_location="front" template_app="calendar"><![CDATA[<h3 class='ipsType_reset ipsWidget_title'>{lang="block_upcomingEvents"}</h3>
<div class='ipsWidget_inner'>

	{{if !empty( $events ) }}
		<ul class='ipsDataList ipsDataList_reducedSpacing'>

		{{foreach $events as $event}}
			<li class='ipsDataItem ipsClearfix'>
				<div class='ipsDataItem_icon cCalendar_date_overlay'>
					{{if $event->nextOccurrence( $today, 'startDate' )}}
						<time datetime='{$event->nextOccurrence( $today, 'startDate' )->mysqlDatetime()}' class='ipsCalendarDate'>
							<span class='ipsCalendarDate_month' data-controller="core.global.core.datetime" data-time="{$event->nextOccurrence( $today, 'startDate' )->format('c')}" data-format="%b">{$event->nextOccurrence( $today, 'startDate' )->monthNameShort}</span>
							<span class='ipsCalendarDate_date' data-controller="core.global.core.datetime" data-time="{$event->nextOccurrence( $today, 'startDate' )->format('c')}" data-format="%d">{$event->nextOccurrence( $today, 'startDate' )->mday}</span>
						</time>
					{{else}}
						<time datetime='{$event->lastOccurrence( 'startDate' )->mysqlDatetime()}' class='ipsCalendarDate'>
							<span class='ipsCalendarDate_month' data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'startDate' )->format('c')}" data-format="%b">{$event->lastOccurrence( 'startDate' )->monthNameShort}</span>
							<span class='ipsCalendarDate_date' data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'startDate' )->format('c')}" data-format="%d">{$event->lastOccurrence( 'startDate' )->mday}</span>
						</time>
					{{endif}}
				</div>
				<div class='ipsDataItem_main cWidgetComments'>
					{{if $event->container()->allow_comments && $orientation == 'vertical'}}
						<div class="ipsCommentCount ipsPos_right {{if $event->comments === 0}}ipsFaded{{endif}}" data-ipsTooltip title='{lang="num_replies" pluralize="$event->comments"}'>{expression="$event->comments"}</div>
					{{endif}}
					<div class='ipsType_break ipsContained'>
						<a href="{$event->url( "getPrefComment" )}" title='{lang="view_this_event" sprintf="$event->title"}'>{$event->title}</a>
					</div>
					<strong class='ipsType_small'>
						{{if $event->nextOccurrence( $today, 'startDate' )}}
							<span data-controller="core.global.core.datetime" data-time="{$event->nextOccurrence( $today, 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}} {expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"} {{endif}}">{$event->nextOccurrence( $today, 'startDate' )->calendarDate()}{{if !$event->all_day}} {$event->nextOccurrence( $today, 'startDate' )->localeTime( FALSE )} {{endif}}</span>
							{{if $event->nextOccurrence( $event->nextOccurrence( $today, 'startDate' ) ?: $today, 'endDate' ) }}
								{{$sameDay = (bool) ( $event->nextOccurrence( $event->nextOccurrence( $today, 'startDate' ) ?: $today, 'endDate' ) and ( $event->nextOccurrence( $today, 'startDate' ) and $event->nextOccurrence( $today, 'startDate' )->calendarDate() == $event->nextOccurrence( $event->nextOccurrence( $today, 'startDate' ) ?: $today, 'endDate' )->calendarDate() ) );}}
								{{if $orientation == 'vertical'}}<br>{{endif}}
								<span class='ipsType_light ipsType_unbold'>{lang="until"}</span>{{if $orientation == 'vertical' and !$sameDay}}<br>{{endif}}
								{{if !$sameDay}}
									<span data-controller="core.global.core.datetime" data-time="{$event->nextOccurrence( $event->nextOccurrence( $today, 'startDate' ) ?: $today, 'endDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}} {expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}{{endif}}">
										{$event->nextOccurrence( $event->nextOccurrence( $today, 'startDate' ) ?: $today, 'endDate' )->calendarDate()}
										{{if !$event->all_day}} {$event->nextOccurrence( $event->nextOccurrence( $today, 'startDate' ) ?: $today, 'endDate' )->localeTime( FALSE )}{{endif}}
									</span>
								{{else}}
									{{if !$event->all_day}}
										<span data-controller="core.global.core.datetime" data-time="{$event->nextOccurrence( $event->nextOccurrence( $today, 'startDate' ) ?: $today, 'endDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}">
											{$event->nextOccurrence( $event->nextOccurrence( $today, 'startDate' ) ?: $today, 'endDate' )->localeTime( FALSE )}
										</span>
									{{endif}}
								{{endif}}
							{{endif}}
						{{else}}
							<span data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'startDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}} {expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"} {{endif}}">{$event->lastOccurrence( 'startDate' )->calendarDate()}{{if !$event->all_day}} {$event->lastOccurrence( 'startDate' )->localeTime( FALSE )} </span>{{endif}}
							{{if $event->lastOccurrence( 'endDate' ) }}
								{{if $orientation == 'vertical'}}<br>{{endif}}
								<span class='ipsType_light ipsType_unbold'>{lang="until"}</span>{{if $orientation == 'vertical'}}<br>{{endif}}
								<span data-controller="core.global.core.datetime" data-time="{$event->lastOccurrence( 'endDate' )->format('c')}" data-format="{expression="\IPS\calendar\Date::calendarDateFormat()"}{{if !$event->all_day}} {expression="\IPS\calendar\Date::localeTimeFormat( FALSE )"}{{endif}}">{$event->lastOccurrence( 'endDate' )->calendarDate()}{{if !$event->all_day}} {$event->lastOccurrence( 'endDate' )->localeTime( FALSE )}{{endif}}</span>
							{{endif}}
						{{endif}}
					</strong>
					<br>
					{{if $event->container()->allow_comments && $orientation == 'horizontal'}}
						<span class="{{if $event->comments === 0}}ipsFaded{{endif}}" data-ipsTooltip title='{lang="num_replies" pluralize="$event->comments"}'><i class='fa fa-comment'></i> {expression="$event->comments"}</span>&nbsp;&nbsp;
					{{endif}}
					{{if $orientation == 'horizontal'}}
						<div class='ipsType_medium ipsType_richText' data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='2 lines' data-ipsTruncate-watch='false'>
							{$event->truncated()|raw}
						</div>
					{{endif}}
				</div>
			</li>
		{{endforeach}}

		</ul>
	{{else}}
		<div class='ipsType_light ipsPad_half ipsType_center'>{lang="no_upcoming_events"}</div>
	{{endif}}

</div>]]></template>
 <css css_location="front" css_app="calendar" css_attributes="" css_path="." css_name="calendar_responsive.css"><![CDATA[/* BOTH */
@media screen and (max-width: 979px) {
	/* Submit screen */
	.cCalendarSubmit_field {
		width: 100%;
	}

		.cCalendarSubmit_field input {
			max-width: 100% !important;
			width: 100% !important;
		}

	/* Calendar views */
	.cCalendar th span,
	.ipsButton.cCalendar_miniAddEvent {
		display: none;
	}

	/* Day view */
	.cCalendarDay .cCalendarDay_hour > h2 {
		text-align: left;
		padding: 10px;
		font-size: {fontsize="x_large"};
		line-height: 1;
	}
}

/* TABLETS */
@media screen and (min-width: 768px) and (max-width: 979px) {
	.cCalendar th:after {
		content: attr(data-short);
	}
}

/* PHONES */
@media screen and (max-width: 767px) {

	/* Submit screen */
	#elDateGrid_arrow {
		padding-top: 0;
	}
	
		#elDateGrid_arrow .fa {
			font-size: 80px;
			line-height: 70px;
		}

			#elDateGrid_arrow .fa:before {
				content: '\f107';
			}

	/* Calendar header */
	#elCalendarsHeader .ipsType_pageTitle {
		display: block;
	}

	.cCalendarNav .ipsType_pageTitle {
		font-size: {fontsize="x_large"};
	}

	/* Calendar views */
	.cCalendar td {
		height: 40px;
		border: 0;
		padding: 0px;
		border-bottom: 1px solid rgba( var(--theme-text_color), 0.2 );
	}

	.cCalendar td > div {
		padding-bottom: 0;
		min-height: 0;
	}
	
	.cCalendar td.cCalendar_today {
		background: transparent;
	}

	.cCalendar th:after {
		content: attr(data-veryShort);
	}
	
	.cCalendar .cEvents {
		display: none;
	}

	.cCalendar .cCalendar_dayNumber {
		display: block;
		text-align: center;
		margin: 1px auto;
		height: 40px;
		width: 100%;
		padding:4px;
		line-height: 2;
		font-size: {fontsize="x_small"};
		border-radius: 15px;
	}

	.cCalendar .cCalendar_hasEvents .cCalendar_dayNumber {
		border: 2px solid rgba( var(--theme-text_color), 0.2 );
		background: rgba( var(--theme-text_color), 0.07 );
	}

		.cCalendar .cCalendar_hasEvents.cCalendar_today .cCalendar_dayNumber {
			background: rgba(205, 56, 22, 0.19);
		}

		.cCalendar td.cCalendar_today .cCalendar_dayNumber {
			background: rgb( var(--theme-area_background_reset) );
			border: 2px solid currentColor;
			color: #cd3816;
		}

	/* WEEK VIEW */
	.cCalendarWeek_day {
		margin-bottom: 0 !important;
	}

	/* EVENT VIEW */
	#elEventHeader {
		text-align: center;
	}

	#elEventHeader .ipsUserPhoto {
		display: none;
	}

	#elEventHeader_details {
		text-align: center;
	}

	html[dir="ltr"] #elEventHeader_details .ipsPhotoPanel > div {
		margin-left: 0;
	}
	html[dir="rtl"] #elEventHeader_details .ipsPhotoPanel > div {
		margin-right: 0;
	}

	#elEventHeader_details time, #elEventHeader_details p.cEvent_to {
		float: none;
		display: inline-block;
		min-width: 100%;
	}

	#elEventHeader_details time .cEvent_dayNum {
		font-size: inherit;
		font-weight: normal;
		float: none;
		line-height: inherit;
		letter-spacing: 0;
	}
	html[dir="ltr"] #elEventHeader_details time .cEvent_dayNum {
		margin-right: 0;
	}
	html[dir="rtl"] #elEventHeader_details time .cEvent_dayNum {
		margin-left: 0;
	}

	#elEventHeader_details time .cEvent_dayNum,
	#elEventHeader_details time .cEvent_day,
	#elEventHeader_details time .cEvent_date {
		display: inline;
		font-size: {fontsize="medium"};
	}

	#elEventHeader_details time .cEvent_day {
		display: block;
	}

	#elEventHeader_details time p {
		display: block;
		float: none;
	}

	#elEventHeader_details time p .fa-arrow-circle-right:before{
		content:"\f0ab";
	}

	.cCalendarBlock .cCalendarBlock_map {
		display: block;
		float: none;
	}
}]]></css>
 <css css_location="front" css_app="calendar" css_attributes="" css_path="." css_name="calendar.css"><![CDATA[:root{
	--event-date--co: var(--negative-dark);
	--event-happening-now--ba-co: #3da42f
}

.cCalendar {
	width: 100%;
	table-layout: fixed;
}

.ipsType_sectionTitle + .cCalendar {
	margin-top: -12px;
}

.cCalendarIcon {
	display: inline-block;
	width: 18px;
	height: 18px;
	border-radius: 3px;
	vertical-align: middle;
}
html[dir="ltr"] .cCalendarIcon {
	margin-right: 5px;
}
html[dir="rtl"] .cCalendarIcon {
	margin-left: 5px;
}

.cCalendarNav .ipsType_pageTitle {
	font-size: {fontsize="3x_large"};
	margin-bottom: var(--sp-3);
}

.cCalendar td {
	width: 14.285%;
	min-height: 100px;
	border: 1px solid rgba( var(--theme-text_color), 0.1 );
	vertical-align: top;
	padding: 7px;
}

	.cCalendar td > div {
		height: 100%;
		min-height: 100px;
		position: relative;
	}

.cCalendar td.cCalendar_nonDate {
	background: rgb( var(--theme-area_background) );
}

.cCalendar td.cCalendar_today, .cCalendarWeek div.cCalendar_today {
	background: rgb( var(--theme-area_background_dark) );
	color: #fff;
}
	.cCalendarWeek div.cCalendar_today h2.ipsType_sectionHead {
		color: inherit;
	}

.cCalendar_dayNumber {
	font-size: 14px;
	font-weight: bold;
	display: inline-block;
}

.ipsButton.cCalendar_miniAddEvent {
	height: 15px;
	line-height: 14px;
	padding: 0 2px;
	opacity: 0;
	transition: 0.2s all ease-in-out;
}

	.cCalendar td:hover .cCalendar_miniAddEvent {
		opacity: 0.5;
	}

	.cCalendar td .cCalendar_miniAddEvent:hover {
		opacity: 1;
	}


.cCalendarWeek > li {
	margin-bottom: 15px;
}

	.cCalendarWeek > li:last-child {
		margin-bottom: 0;
	}


/* EVENT STYLES */
.cEvents_wrapper, .cEvents {
	margin: 0;
	padding: 0;
	list-style: none;
}

.cEvents_event {
	margin-bottom: 5px;
}

a.cEvents_event, .cEvents_event a, .cEvents_event.cEvents_empty span {
	display: block;
	line-height: 26px;
	height: 26px;
	font-size: {fontsize="small"};
	margin-bottom: 2px;
	padding: 0 8px 0 10px;
	color: #fff;
	border-radius: 20px;
	white-space: nowrap;
	overflow: hidden;
	background: rgb( var(--theme-area_background_dark) );
}
html[dir="rtl"] a.cEvents_event, 
html[dir="rtl"] .cEvents_event a,
html[dir="rtl"] .cEvents_event.cEvents_empty span {
	padding: 0 10px 0 8px;
}

	a.cEvents_style_blank, .cEvents_style_blank a, .cCalendarIcon.cEvents_style_blank {
		background-color: transparent;
		border: 1px solid rgba( var(--theme-text_color), 0.2 );
	}

	a.cEvents_event.cEvents_eventSmall, .cEvents_event.cEvents_eventSmall a, .cEvents_event.cEvents_eventSmall.cEvents_empty span {
		font-size: {fontsize="x_small"};
		padding: 0 8px;
		line-height: 26px;
		height: 26px;
		display: inline-block;
	}

.cEvents_time {
	font-size: {fontsize="10"};
	text-transform: uppercase;
	opacity: 0.7;
}

.cEvents_event.cEvents_empty span {
	background: transparent;
}

/* Single event special styles */
.cEvents_single .cEvents_event a {
	border-radius: 20px;
}

/* Ranged event special styles */
.cEvents_ranged .cEvents_event a {
	border-radius: 0;
}

html[dir="ltr"] .cEvents_ranged .cEvents_event:not( .cEvents_first ) a {
	margin-left: -7px;
	padding-left: 8px;
}
html[dir="rtl"] .cEvents_ranged .cEvents_event:not( .cEvents_first ) a {
	margin-right: -7px;
	padding-right: 8px;
}

html[dir="ltr"] .cEvents_ranged .cEvents_event:not( .cEvents_last ) a {
	margin-right: -8px;
}
html[dir="rtl"] .cEvents_ranged .cEvents_event:not( .cEvents_last ) a {
	margin-left: -8px;
}

html[dir="ltr"] .cEvents_ranged .cEvents_event.cEvents_first a,
html[dir="rtl"] .cEvents_ranged .cEvents_event.cEvents_last a {
	border-top-left-radius: 20px;
	border-bottom-left-radius: 20px;
}
html[dir="ltr"] .cEvents_ranged .cEvents_event.cEvents_last a,
html[dir="rtl"] .cEvents_ranged .cEvents_event.cEvents_first a {
	border-top-right-radius: 20px;
	border-bottom-right-radius: 20px;
}

/* Hide details in all but the first in each row */
tr td:not( :first-child ):not( .cCalendar_firstDay ) .cEvents_ranged .cEvents_event:not( .cEvents_first ) a,
tr td:not( :first-child ):not( .cCalendar_firstDay ) .cEvents_ranged .cEvents_event:not( .cEvents_first ) a span {
	font-size: 0;
}

	tr td:not( :first-child ):not( .cCalendar_firstDay ) .cEvents_ranged .cEvents_event:not( .cEvents_first ) a img {
		display: none;
	}

.cCalendarCarousel .cCalendarBlock {
	width: 400px;
	height: 380px;
	overflow: hidden;
}

/* EVENT VIEW */
#elEventHeader .ipsCoverPhoto {
	padding-top: 120px;
}

#elEventHeader .cEvent__date .ipsBadge{
	font-size: 13px;
}

#elEventHeader_details {
	background: rgb( var(--theme-area_background_dark) );
	color: #fff;
	padding: var(--sp-5);
	display: flex;
	justify-content: space-between;
	align-items: center;
	flex-wrap: wrap;
	gap: 10px;
}

	#elEventHeader_details .ipsRating.ipsRating_large {
		margin-top: 0;
	}

	#elClubContainer #elEventHeader_details{
		color: rgb(var(--theme-text_color));
		box-shadow: var(--box--boxShadow);
		background-color: var(--box--backgroundColor);
	}

	#elEventHeader_details .ipsPhotoPanel{
		display: flex;
		align-items: center;
	}

		#elEventHeader_details .ipsPhotoPanel > div{
			margin: 0 10px
		}

#elEventHeader_details .cEvents_event {
	margin: 0;
}

#elEventHeader > .ipsCoverPhotoMinimal {
	padding-top: 25px;
	height: 100px;
}

.cEvent_to {
	font-size: {fontsize="28"};
	margin: 6px 15px;
}

#elAttendeesMob{
	border-radius: 0px;
}

.cEvents__sidebarMap img{

}

.cEvents__sidebarOnlineLogo{
	display: flex;
	align-items: center;
	justify-content: center;
	color: rgb(var(--theme-text_light));
}

	.cEvents__sidebarOnlineLogo svg{
		height: .8em;
		width: auto;
		margin: 0 .4em;
	}

/* DAY VIEW */
.cCalendarDay_hour {
	vertical-align: top;
}

.cCalendarDay .cCalendarDay_hour > h2 {
	font-size: {fontsize="54"};
	font-weight: 300;
	text-align: right;
	margin-top: 10px;
}
html[dir="rtl"] .cCalendarDay .cCalendarDay_hour > h2 {
	text-align: right;
}

	.cCalendarDay .cCalendarDay_hour > h2 span {
		font-size: {fontsize="medium"};
		text-transform: uppercase;
	}

.cCalendarDay_hour.cCalendarDay_allDay > h2 {
	font-size: {fontsize="28"};
	line-height: 1.07;
	margin-top: 0;
}

.cCalendarDay > .ipsDataItem {
	border-bottom: 2px solid rgba( var(--theme-text_color), 0.2 );
}

.ipsDataItem.cCalendarDay_allDay {
	border-bottom: 6px solid #000;
}

.cCalendarDay_eventList > li {
	margin-bottom: 15px;
}

/* STREAM VIEW */
.cCalendarBlock .ipsPageHead_special {
	min-height: 80px;
	padding-top: 45px;
}

.cCalendarBlock .ipsType_pageTitle {
	font-size: {fontsize="large"};
}

.cCalendarBlock_map {
	height: 200px;
	text-align: center;
	margin: 10px auto;

}

#event_timezone option {
	width: 400px;
	white-space: nowrap;
}

.cCalendar_shortInput {
	width: auto !important;
	padding: 2px !important;
	min-height: inherit !important;
}

/* Submit screen */
.cCalendarSubmit_field {
	display: inline-block;
	position: relative;
	margin-bottom: 5px;
}

	html[dir="ltr"] .cCalendarSubmit_field input {
		padding-left: 35px !important;
	}
	html[dir="rtl"] .cCalendarSubmit_field input {
		padding-right: 35px !important;
	}

	.cCalendarSubmit_field .fa {
		position: absolute;
		color: #9f3d3b;
		top: 50%;
		transform: translateY(-50%);
		font-size: 20px;
	}
	html[dir="ltr"] .cCalendarSubmit_field .fa {
		left: 10px;
	}
	html[dir="rtl"] .cCalendarSubmit_field .fa {
		right: 10px;
	}

#elDateGrid_arrow {
	font-size: 120px;
	opacity: 0.2;
	padding-top: 20px;
	overflow: hidden;
}

#elTimezone {
	margin-bottom: 0;
}

#event_remind_me input[type="number"]{
	max-width: 60px;
}

.eventStreamDate .cCalendarEmbed_calendar {
	background: rgb( var(--theme-area_background_light) );
}

.eventStreamDate .ipsCalendarDate {
	width: 80px;
	display: block;
	border: 1px solid rgba( var(--theme-text_dark), 0.24 );
	background: rgb( var(--theme-area_background_light) );
	padding: 8px 0;
	border-radius: 3px;
	overflow: hidden;
}

.eventStreamDate .ipsCalendarDate {
	background: rgb( var(--theme-area_background_reset) );
}

.eventStreamDate .ipsCalendarDate > span {
	display: block;
	text-align: center;
}

.eventStreamDate .ipsCalendarDate_month {
	color: #a93848;
	text-transform: uppercase;
	font-size: {fontsize="x_large"};
	line-height: 1;
	font-weight: 500;
}

.eventStreamDate .ipsCalendarDate_date {
	font-size: {fontsize="4x_large"};
	line-height: 1.05;
	font-weight: 300;
	color: rgb( var(--theme-text_color) );
}


/*
	----------------
	- Events
	----------------
*/

/* Search */
:root {
	--featured-event--mi-he: 300px;
}

.cEvents__overview-header {
	display: grid;
	gap: var(--sp-5);
	grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
	grid-template-columns: repeat(auto-fit, minmax(min(360px, 100%), 1fr));
	margin-bottom: var(--sp-5);
}

.cFeaturedEvents{
	position: relative;
	isolation: isolate;
	min-height: var(--featured-event--mi-he);
}

.cFeaturedEvents__scroller{
	margin: 0;
	padding: 0;
	list-style: none;
	display: grid;
	grid-auto-flow: column;
	grid-auto-columns: 100%;
	border-radius: var(--box--radius);
	min-height: 100%;
	overflow-x: scroll;
	overscroll-behavior-x: contain;
	-webkit-overflow-scrolling: touch;
	scroll-behavior: smooth;
	scroll-snap-type: x mandatory;
	scrollbar-width: none;
}

	.cFeaturedEvents__scroller::-webkit-scrollbar {
		-webkit-appearance: none;
		height: 0px;
	}

	.cFeaturedEvents__scroller > *{
		scroll-snap-align: start;
	}

/* Dots */
.cFeaturedEvents__dots{
	--_dot--si: 16px;
	--_dot--ma: 5px;
	--_dot--ba-co: 0,0%,100%;
	display: flex;
	justify-content: center;
	overflow: hidden;
	position: absolute;
	right: 20px;
	bottom: 20px;
}

	[dir="rtl"] .cFeaturedEvents__dots{
		right: auto;
		left: 20px;
	}

	.cFeaturedEvents__dots button{
		-webkit-appearance: none;
		appearance: none;
		background: none;
		border: 0;
		padding: 0;
		cursor: pointer;
	}

		.cFeaturedEvents__dots span{
			clip: rect(1px, 1px, 1px, 1px);
			clip-path: inset(50%);
			height: 1px;
			margin: -1px;
			overflow: hidden;
			padding: 0;
			position: absolute;
			white-space: nowrap;
			width: 1px;
		}

	.cFeaturedEvents__dots button::before,
	.cFeaturedEvents__current-dot::before{
		content: '';
		display: block;
		width: var(--_dot--si);
		height: var(--_dot--si);
		border-radius: 50%;
		background: hsla(var(--_dot--ba-co), 0.2);
		margin: 0 var(--_dot--ma);
		backdrop-filter: blur(5px);
	}

		.cFeaturedEvents__dots button:hover::before{
			background: hsla(var(--_dot--ba-co), 0.4);
		}

	.cFeaturedEvents__current-dot{
		position: absolute;
		z-index: 1;
		top: 0;
		left: 0;
		bottom: 0;
		right: calc(var(--_dot--ma) * 2 + var(--_dot--si)); 
		display: flex;
		will-change: transform;
		transition: transform 0.1s linear;
		transform: translateX(calc(var(--percentage) * 1%));
		pointer-events: none;
	}

		[dir="rtl"] .cFeaturedEvents__current-dot{
			right: auto;
			left: calc(var(--_dot--ma) * 2 + var(--_dot--si)); 
		}

		.cFeaturedEvents__current-dot::before{
			background: hsl(var(--_dot--ba-co));
		}

@media screen and (max-width: 979px) {
	.cFeaturedEvents {
		min-height: 360px;
	}
}

	.cFeaturedEvents__event {
		position: relative;
		overflow: hidden;
		width: 100%;
		height: 100%;
		min-height: var(--featured-event--mi-he);
		color: #fff;
		background: rgb(var(--theme-area_background_dark));
	}

		.cFeaturedEvents__event a:not(.cFeaturedEvents__event-link){
			color: inherit;
			position: relative;
			z-index: 1;
		}

	.cFeaturedEvents__image {
		width: 100%;
		height: 100%;
		object-fit: cover;
		position: absolute;
		top: 0;
		left: 0;
	}

	.cFeaturedEvents__event-details {
		position: relative;
		display: flex;
		flex-direction: column;
		justify-content: flex-end;
		align-items: flex-start;
		padding: 30px;
		background-image: linear-gradient(to top, rgba(var(--theme-area_background_dark), 0.7) 30%, rgba(var(--theme-area_background_dark), 0) 60%);
		height: 100%;
	}

		.cFeaturedEvents__event:not(:only-child) .cFeaturedEvents__event-details{
			padding-bottom: 42px;
		}

	.cFeaturedEvents__event .cEvent__dateAside {
		position: static;
		margin-bottom: auto;
	}

	.cFeaturedEvents__event .ipsBadge{
		border-radius: 4px;
		background: var(--event-happening-now--ba-co);
		color: #fff;
		text-transform: uppercase;
		font-weight: 500;
		margin-bottom: .5em;
		font-size: 1em;
	}

	.cFeaturedEvents__event-title {
		line-height: 1.2;
		letter-spacing: -0.2px;
		font-size: {fontsize="24"};
		text-shadow: rgba(0, 0, 0, 0.75) 0px 0px 20px;
	}

	.cFeaturedEvents__event .cEvent__date {
		color: var(--event-date--co);
		background: rgba(255, 255, 255, 0.88);
		font-size: 12px;
		padding: .2em .6em;
		border-radius: 4px;
		margin: var(--sp-3) 0 0;
	}

		.cFeaturedEvents__event .cEvent__date span{
			color: #222;
		}

	.cFeaturedEvents__meta{
		display: flex;
		flex-wrap: wrap;
		margin: var(--sp-3) 0 0 0;
		padding: var(--sp-3) 0 0 0;
		list-style: none;
		border-top: 1px solid rgba(255,255,255,.2);
		align-self: stretch;
		gap: 6px;
	}

		.cFeaturedEvents__meta > *{
			background: rgba(0,0,0,.2);
			backdrop-filter: blur(5px);
			border-radius: 6px;
			padding: 0.4em 0.8em;
			margin-right: 6px;
		}

		.cFeaturedEvents__meta .fa{
			opacity: .5;
			margin-inline-end: .3em;
		}

		.cFeaturedEvents__event-link span{
			border: 0;
			clip: rect(1px, 1px, 1px, 1px);
			clip-path: inset(50%);
			height: 1px;
			margin: -1px;
			overflow: hidden;
			padding: 0;
			position: absolute !important;
			white-space: nowrap !important;
			width: 1px;
		}

		.cFeaturedEvents__event-link::before{
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

.cEvents__search {
	display: flex;
	flex-wrap: wrap;
	align-items: flex-end;
	margin: -15px 0 0 -15px;
}

@media (min-width: 768px){
	.eventSearch--vertical{
		padding: var(--sp-5);
	}
}

.eventSearch--vertical .cEvents__search {
	flex-wrap: wrap;
}

	.cEvents__search__field{
		margin: 15px 0 0 15px;
		flex: 1 1 10px;
	}

.cEvents__search__field--location,
.cEvents__search__field--submit,
.cEvents__search__field--show {
	flex-basis: calc((767px - 100%) * 999);
	flex-basis: max((767px - 100%) * 999, 10px);
}

.cEvents__search__label {
	color: rgb(var(--theme-text_dark));
	font-size: 11px !important;
	text-transform: uppercase;
	display: block;
	font-weight: 500;
	margin-bottom: 0.4em;
}

.cEvents__search__field::after {
	margin-right: 0;
}

.cEvents__search__field--show select {
	width: 100%;
}

@media screen and (max-width: 767px) {
	.eventSearch__searchLocation span {
		display: none;
	}
}

.cEvents__search__searchWrap {
	display: flex;
	align-items: center;
	justify-content: space-between;
}

.eventSearch__searchLocation {
	font-size: 11px;
	white-space: nowrap;
	flex: 0 0 auto;
	margin-inline-start: 2em;
}

.cEvents__search__searchWrap input[type="text"],
.cEvents__search__searchWrap input[type="search"] {
	flex: 1 1 100%;
	max-width: none;
}

.eventSearch input[type="search"].ipsField_loading {
	background-image: url('"{resource="loaders/tiny_loading.gif" app="core" location="front"}"') !important;
	background-size: 14px 14px;
	background-repeat: no-repeat;
	background-position: right 5px center;
}

@media screen and (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
	.eventSearch input[type="search"].ipsField_loading {
		background-image: url('"{resource="loaders/tiny_loading@2x.gif" app="core" location="front"}"') !important;
	}
}

.eventSearch input[type="date"].ipsField_short {
	width: 100%;
	max-width: none;
}

.cEvents__searchTools {
	position: relative;
	display: flex;
	justify-content: space-between;
	flex-wrap: wrap;
	align-items: center;
	margin-bottom: 15px;
}

	.cEvents__searchTools__sort,
	.cEvents__searchTools__back {
		background: rgb(var(--theme-area_background_reset));
		padding: .4em 1.2em;
		border-radius: var(--box--radius);
	}

.cEvents__searchMap {
	height: 350px;
	background: rgb(var(--theme-area_background_light)) !important;
}

.cEvents__searchMap--loading > * {
	display: none;
}

/* Listing */
.eventList {
	margin: 0;
	padding: 0;
	list-style: none;
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
	grid-template-columns: repeat(auto-fill, minmax(min(250px, 100%), 1fr));
	grid-gap: var(--sp-5);
	gap: var(--sp-5);
}

.eventList .cFeaturedEvents {
	grid-column: 3 / span 2;
	grid-row: 1;
}

@media screen and (max-width: 979px) {
	.eventList .cFeaturedEvents {
		grid-column: 1 / span 2;
		grid-row: 1;
	}
}

@media screen and (max-width: 768px) {
	.eventList .cFeaturedEvents {
		grid-column: 1;
		grid-row: 1;
	}
}

/* Our main event block styling */
.cEvents__event {
	display: flex;
	flex-direction: column;
	justify-content: stretch;
	position: relative;
	min-width: 0;
	overflow: hidden;
	transition: 0.2s all ease-in-out;
}

.cEvent__date {
	color: var(--event-date--co);
	margin: 0;
	font-weight: 500;
	font-size: 12px;
	text-transform: uppercase;
	margin-bottom: .2em;
}

	.cEvent__date .ipsBadge{
		border-radius: 4px;
		background: var(--event-happening-now--ba-co);
		color: #fff;
		line-height: 1.8;
		vertical-align: top;
	}

.cEvent__imageWrap{
	position: relative;
}

	.cEvent__image {
		display: block;
		background-color: rgb(var(--theme-area_background_dark));
		max-height: 200px;
		overflow: hidden;
		position: relative;
	}

		.cEvent__image::before{
			content: '';
			display: block;
			padding-top: 50%;
		}

		.cEvent__image img{
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			object-fit: cover;
		}

	.cEvent__onlineLogo{
		position: absolute;
		bottom: 0;
		background: rgb(var(--theme-area_background_reset));
		padding: 8px 12px;
		pointer-events: none;
	}
	[dir="ltr"] .cEvent__onlineLogo{
		border-top-left-radius: var(--box--radius);
		right: 0;
	}
	[dir="rtl"] .cEvent__onlineLogo{
		border-top-right-radius: var(--box--radius);
		left: 0;
	}

		.cEvent__onlineLogo svg{
			display: block;
			width: auto;
			height: 12px;
		}

.cEvents__details {
	flex-grow: 1;
	padding: var(--sp-5);
	min-width: 0;
}

.cEvents__title {
	color: rgb(var(--theme-text_dark));
	font-size: {fontsize="17"};
	font-weight: 500;
	margin: 0;
	line-height: 1.2;
}

	.cEvents__title a {
		color: inherit;
	}

.cEvents__blurb {
	color: rgb(var(--theme-text_light));
	font-size: {fontsize="14"};
	margin: var(--sp-3) 0 0 0;
	display: -webkit-box;
	-webkit-line-clamp: 3;
	-webkit-box-orient: vertical;
	overflow: hidden;
	text-overflow: ellipsis;
}

	.cFeaturedEvents__event .cEvents__blurb{
		color: inherit;
		-webkit-line-clamp: 2;
	}

.cEvent__dateAside {
	position: absolute;
	background: #fff;
	color: rgb(var(--theme-text_color));
	width: 3.8em;
	height: 3.8em;
	font-size: 13px;
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	text-align: center;
	line-height: 1;
	left: 7px;
	top: 7px;
	border-radius: 6px;
	pointer-events: none;
	box-shadow: rgba(0,0,0,.2) 0px 0px 0px 1px;
}

.cEvent__dateAside__month {
	font-weight: bold;
	text-transform: uppercase;
	color: #c53030;
}

.cEvent__dateAside__day {
	font-size: 1.76em;
	font-weight: 400;
}

.cEvent__eventMeta{
	margin: 0;
	padding: 0;
	list-style: none;
}

	.cEvent__eventMeta a{
		color: inherit;
	}

	.cEvent__eventMeta li{
		display: flex;
	}

		.cEvent__eventMeta li + li{
			margin-top: .3em;
		}

	.cEvent__eventMeta .fa {
		flex: 0 0 1.2em;
		text-align: center;
		margin-right: .3em;
		line-height: inherit;
		color: rgb(var(--theme-text_light));
	}

/* Near me section */
.nearMe {
	
}

.nearMe__events {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(260px, 1fr) );
	gap: 20px;
}

.nearMe__map{
	min-height: 300px;
	grid-column: span 2;
	border-radius: var(--box--radius);
}

@media (max-width: 860px){
	.nearMe__map {
		grid-column: 1 / -1;
	}
}

.nearMe__map > .ipsMap {
	height: 100%;
}

@media screen and (max-width: 768px) {
	.nearMe__events {
		display: grid;
		grid-template-columns: 1fr;
		grid-template-rows: repeat( 2, 1fr );
	}

	.cEvents__skeleton--map {
		display: none;
	}
}

/* Month navigator */
.cEvents__monthNav {
	display: flex;
	background: rgb(var(--theme-area_background_dark));
	color: #fff;
	overflow-x: auto;
	overflow-y: hidden;
	border-radius: var(--box--radius);
}

.cEvents__monthNav__monthItem {
	flex: 1 0 auto;
	color: inherit;
	display: flex;
	flex-direction: column;
	align-items: center;
	line-height: 1.4;
	padding: 1.1em 0.8em;
}

.cEvents__monthNav__monthItem:hover {
	background-image: linear-gradient(rgba(255,255,255,.1) 0% 100%);
	color: #fff;
}

.cEvents__monthNav__monthItem--active{
	background-color: rgb(var(--theme-brand_primary));
	color: #fff;
}

.cEvents__monthNav__month {
	font-size: {fontsize="16"};
	font-weight: 500;
	text-transform: uppercase;
}

.cEvents__monthNav__year {
	font-size: {fontsize="12"};
	opacity: .5;
}

.event--loading {
	min-height: 275px;
}

.cEvents__skeleton {
	background: rgb(var(--theme-area_background));
	border-radius: 5px;
}

	.cEvents__skeleton--map {
		position: relative;
		width: 100%;
		min-height: 300px;
	}

	.cEvents__skeleton--eventImage {
		padding-top: 50%;
	}

	.cEvents__skeleton--eventDate {
		height: 15px;
		width: 70%;
	}

	.cEvents__skeleton--eventTitle {
		height: 22px;
		width: 50%;
		margin-top: 10px;
	}

	.cEvents__skeleton--eventBlurb {
		height: 50px;
		margin-top: 10px;
	}]]></css>
 <css css_location="front" css_app="calendar" css_attributes="" css_path="." css_name="embed.css">.ipsRichEmbed_phone .ipsRichEmbed .cCalendarEmbed_calendar {
	float: none !important;
	width: 100%;
}

.ipsRichEmbed .ipsCalendarDate {
	width: 75px;
	height: 75px;
	padding: 7px 0;
	background: rgb( var(--theme-area_background_reset) );
}

	.ipsRichEmbed .ipsPhotoPanel_small .ipsCalendarDate {
		width: 55px;
		height: 55px;
	}

	.ipsRichEmbed_phone .ipsRichEmbed .ipsCalendarDate {
		width: 100%;
		margin-bottom: 7px;
		height: 65px;
	}

.ipsRichEmbed .ipsCalendarDate_month {
	font-size: {fontsize=&quot;large&quot;};
	font-weight: 500;
}

	.ipsRichEmbed .ipsPhotoPanel_small .ipsCalendarDate_month {
		font-size: {fontsize=&quot;small&quot;};
	}

	.ipsRichEmbed_phone .ipsRichEmbed .ipsCalendarDate_month {
		font-size: {fontsize=&quot;base&quot;};
	}

.ipsRichEmbed .ipsCalendarDate_date {
	font-size: {fontsize=&quot;4x_large&quot;};
	font-weight: 300;
	line-height: 1.125;
}

	.ipsRichEmbed .ipsPhotoPanel_small .ipsCalendarDate_date {
		font-size: {fontsize=&quot;2x_large&quot;};
		line-height: 1.25;
	}
	
	.ipsRichEmbed_phone .ipsRichEmbed .ipsCalendarDate_date {
		font-size: {fontsize=&quot;3x_large&quot;};
	}

.cCalendarEmbed_dates {
	margin: 0;
}

.cCalendarEmbed_dates dt {
	float: left;
	width: 50px;
	text-align: right;
}
html[dir=&quot;ltr&quot;] .cCalendarEmbed_dates dt {
	margin-right: 10px;
}
html[dir=&quot;rtl&quot;] .cCalendarEmbed_dates dt {
	margin-left: 10px;
}</css>
 <css css_location="front" css_app="calendar" css_attributes="" css_path="." css_name="profile.css"><![CDATA[.cCalendarDate {
	width: 80px;
	display: block;
	border: 1px solid rgba( var(--theme-text_color), 0.25 );
	background: rgb( var(--theme-area_background_reset) );
	padding: 8px 0;
	border-radius: 3px;
	overflow: hidden;
}
	
	.cCalendarDate > span {
		display: block;
		text-align: center;
	}

	.cCalendarDate_month {
		color: #a93848;
		text-transform: uppercase;
		font-size: {fontsize="x_large"};
		line-height: 1;
		font-weight: 500;
	}

	.cCalendarDate_date {
		font-size: {fontsize="4x_large"};
		line-height: 1;
		font-weight: 300;
		color: rgb( var(--theme-text_light) );
	}]]></css>
</theme>
